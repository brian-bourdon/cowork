{"version":3,"sources":["util/util.js","components/inscription.js","components/modal.js","components/connection.js","components/reservation.js","components/cards.js","components/header.js","components/footer.js","components/profile.js","components/evenement.js","App.js","serviceWorker.js","index.js"],"names":["setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","name","split","forEach","el","k","v","trim","deleteCookie","path","text_sans_abonnment","text_abonnment_simple","text_abonnement_residant","submitInscription","user","handleUser","handleInscription","console","log","inscription","validUser","JSON","stringify","firstname","lastname","date_naissance","email","pwd","formData","FormData","append","undefined","id_abonnement","fetch","body","method","then","res","json","catch","e","obj","attributes","i","Object","keys","length","includes","ConnectionModal","props","useState","setEmail","setPwd","isLoading","setIsLoading","Modal","show","data","onHide","handleClose","Header","closeButton","Title","Body","Form","Group","controlId","Label","Control","type","placeholder","onKeyUp","event","target","value","bind","this","className","Button","variant","onClick","axios","get","key","Connection","disabled","Spinner","as","animation","size","role","aria-hidden","Alert","InscriptionModal","setFirstname","setLastname","setDate_naissance","successInscription","setsuccessInscription","handleDate_naissance","required","onChange","DetailsModal","infos","setAbonnement","successSubscription","setSuccessSubscription","handleSuccessSubscription","subModal","setSubModal","handleFirstname","handleLastname","handleEmail","handlePwd","handleSub","handleSubscription","defaultValue","SubscriptionModal","text","btnText","DateTimePicker","registerLocale","fr","setHours","setMinutes","moment","format","add","startDate","setStartDate","CustomInput","style","borderColor","isLoadingPrivateDisponible","privateDisponible","status","borderWidth","locale","selected","date","handleDateTimeStart","handleDateTimeEnd","setIsLoadingPrivateDisponible","handleDate","customInput","showTimeSelect","timeIntervals","timeFormat","timeCaption","dateFormat","ReservationModal","setType","isLoadingSpace","setIsLoadingSpace","isLoadingEquipment","setIsLoadingEquipment","privativeSpace","setPrivativeSpace","equipment","setEquipment","formPrivateSpace","setFormPrivateSpace","setFormEquipment","meal","setMeal","setFormMeal","isLoadingMeal","setIsLoadingMeal","dateTimeStart","setDateTimeStart","dateTimeEnd","setDateTimeEnd","reservation","setReservation","setPrivateDisponible","handleReservation","useEffect","idSpace","shift","id","replace","nom","map","width","height","msg","Footer","Reservation","url","Cards","setShow","Card","Img","src","title","Subtitle","subtitle","Text","CardsSpace","img","process","logout","handleHome","Navbar","bg","expand","Brand","handleProfile","Math","floor","random","href","Toggle","aria-controls","Collapse","Nav","handleShowC","handleShowI","DropdownButton","str","toLowerCase","charAt","toUpperCase","substring","alignRight","Dropdown","Item","handleCustomerReservations","handleEvenements","backgroundColor","borderTop","textAlign","padding","position","left","bottom","phantom","display","paddingTop","children","ProfileForm","handleModification","userUpdate","submitModification","AbonnementTab","abonnement","Jumbotron","ProfileTab","Tabs","defaultActiveKey","Tab","eventKey","Row","Col","lg","ListReservations","Accordion","horaire_debut","horaire","CustomerReservations","privative","setPrivative","events","setEvents","activeTab","setActiveTab","onSelect","tab","handleSelect","EvenemenentWrapper","eventsData","setEventsData","space","setSpace","handleEventsData","evenement","err","nativeEvent","CardDeck","CardsEvenement","user_id","nb_places","placesRestantes","setPlacesRestantes","setInscription","isResByUser","setIsResByUser","isLoadingPr","setIsLoadingPr","isLoadingRes","setIsLoadingRes","id_space","Badge","description","id_user","id_event","now","InscriptionEvent","App","userCookie","showI","setShowI","showC","setShowC","profile","showProfile","setUser","home","showHome","showReservation","nomSpace","setNomSpace","setIdSpace","customerReservations","showCustomerReservations","showEvenement","Container","fluid","test","s","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"oVAEaA,EAAY,SAACC,EAAOC,EAAQC,GACrC,IAAIC,EAAI,IAAIC,KACZD,EAAEE,QAAQF,EAAEG,UAAoB,GAAPJ,EAAU,GAAG,GAAG,KACzC,IAAIK,EAAU,WAAYJ,EAAEK,cAC5BC,SAASC,OAASV,EAAQ,IAAMC,EAAS,IAAMM,EAAU,WAGhDI,EAAY,SAACC,GACtB,IAAIF,EAAS,GAKb,OAJAD,SAASC,OAAOG,MAAM,KAAKC,SAAQ,SAASC,GAAK,IAAD,EAClCA,EAAGF,MAAM,KADyB,mBACzCG,EADyC,KACvCC,EADuC,KAE9CP,EAAOM,EAAEE,QAAUD,KAEdP,EAAOE,IAGLO,EAAe,SAAEP,EAAMQ,GAC5BT,EAAWC,KACbH,SAASC,OAASE,EAAO,KACrBQ,EAAQ,SAASA,EAAK,IACxB,2CAYOC,EAAuB,oCAAE,sHAGpC,4EAGA,yJAMA,mGAIA,mKAQWC,EAAyB,oCACpC,qHAGF,8JAMA,kFAGA,0FAIA,qLAUaC,EAA4B,oCACzC,iGAGA,iFAEA,+FAIA,sG,iBC7FK,SAASC,EAAkBC,EAAMC,EAAYC,GAChDC,QAAQC,IAAIJ,GACZ,IAAIK,GAAc,EAClB,GAAGC,EAAUN,GAAO,CAClBG,QAAQC,IAAIG,KAAKC,UAAU,CACzBC,UAAWT,EAAKS,UAChBC,SAAUV,EAAKU,SACfC,eAAgBX,EAAKW,eACrBC,MAAOZ,EAAKY,MACZC,IAAKb,EAAKa,OAEd,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,YAAahB,EAAKS,WAClCK,EAASE,OAAO,WAAYhB,EAAKU,UACjCI,EAASE,OAAO,iBAAkBhB,EAAKW,gBACvCG,EAASE,OAAO,QAAShB,EAAKY,OAC9BE,EAASE,OAAO,MAAOhB,EAAKa,UACFI,IAAvBjB,EAAKkB,eAA6BJ,EAASE,OAAO,gBAAiBhB,EAAKkB,eAE3EC,MAAM,wDACF,CACIC,KAAMN,EACNO,OAAQ,SAEXC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAC,GACJpB,QAAQC,IAAImB,GACA,+BAAXA,EAAI,KACHlB,GAAc,GAElBJ,EAAWD,GACXE,EAAkBF,MAEjByB,OAAM,SAAAC,GACHzB,EAAWI,GACXH,GAAkB,OAkCrB,SAASI,EAAUN,GACxB,ID1CsB2B,EC0ChBC,EAAa,CAAC,YAAa,WAAY,iBAAkB,QAAS,MAAO,iBAC3EC,EAAI,EACR,GD5CsBF,EC4CV3B,ED3CuB,IAA5B8B,OAAOC,KAAKJ,GAAKK,OC2CL,CACjB,IAAK,IAAMzC,KAAKS,EAAM,CACpB,IAAG4B,EAAWK,SAAS1C,GAIlB,OAAO,EAHV,QAAe0B,IAAZjB,EAAKT,IAAgC,OAAZS,EAAKT,IAAmC,kBAAZS,EAAKT,IAAqC,KAAnBS,EAAKT,GAAGE,OAClF,OAAO,EADiGoC,IAKjH,OAAGD,EAAWI,SAAWH,GACjBD,EAAWI,OAAO,IAAMH,KAAO,kBAAmB7B,IC9EzD,SAASkC,EAAgBC,GAAQ,IAAD,EACTC,mBAAS,IADA,mBAC5BxB,EAD4B,KACrByB,EADqB,OAEbD,mBAAS,IAFI,mBAE5BvB,EAF4B,KAEvByB,EAFuB,OAGDF,oBAAS,GAHR,mBAG5BG,EAH4B,KAGjBC,EAHiB,KAanC,OACE,kBAACC,EAAA,EAAD,CAAOC,KAAMP,EAAMQ,KAAKD,KAAME,OAAQT,EAAMQ,KAAKE,aAC/C,kBAACJ,EAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,EAAA,EAAMO,MAAP,oBAEF,kBAACP,EAAA,EAAMQ,KAAP,OACKd,EAAMQ,KAAK3C,MAA4B,gBAApBmC,EAAMQ,KAAK3C,OAA2B,kBAACkD,EAAA,EAAD,KAC1D,kBAACA,EAAA,EAAKC,MAAN,CAAYC,UAAU,kBACpB,kBAACF,EAAA,EAAKG,MAAN,aACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,QAAQC,YAAY,QAAQC,QAjBrC,SAACC,GACnBrB,EAASqB,EAAMC,OAAOC,QAgBsDC,KAAKC,SAE3E,kBAACZ,EAAA,EAAKC,MAAN,CAAYC,UAAU,qBACpB,kBAACF,EAAA,EAAKG,MAAN,qBACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,WAAWC,YAAY,eAAeC,QAjBjD,SAACC,GACjBpB,EAAOoB,EAAMC,OAAOC,QAgBgEC,KAAKC,SAEnF,yBAAKC,UAAU,oBACb,kBAACC,EAAA,EAAD,CAAQD,UAAU,OAAOE,QAAQ,UAAUC,QAAS,YC/B3D,SAAoBtD,EAAOC,EAAK2B,EAAcK,EAAa5C,GAC9DuC,GAAa,GACb2B,IAAMC,IAAI,8DAA8DxD,GACvEU,MAAK,SAAAC,GAGJ,GAFApB,QAAQC,IAAImB,EAAIoB,MAChBH,GAAa,GACVjB,EAAIoB,KAAK9B,MAAQA,EAAK,CACvB,IAAK,IAAMwD,KAAO9C,EAAIoB,KACnBrE,EAAU+F,EAAK9C,EAAIoB,KAAK0B,GAAM,GAEjCpE,EAAWsB,EAAIoB,WAEZ1C,GAAW,MDmBmDqE,CAAW1D,EAAOC,EAAK2B,EAAcL,EAAMQ,KAAKE,YAAaV,EAAMQ,KAAK1C,aAAcsE,SAA2B,KAAjB3D,EAAMnB,QAAgC,KAAfoB,EAAIpB,QACrL8C,GAAa,kBAACiC,EAAA,EAAD,CACZC,GAAG,OACHC,UAAU,SACVC,KAAK,KACLC,KAAK,SACLC,cAAY,OACZd,UAAU,UAERxB,GAAa,kBAIA,OAApBJ,EAAMQ,KAAK3C,MAAqC,gBAApBmC,EAAMQ,KAAK3C,MAA0B,yBAAK+D,UAAU,eAAc,kBAACe,EAAA,EAAD,CAAOf,UAAU,OAAOE,QAAS9B,EAAMQ,KAAK3C,KAAO,UAAY,UACvJmC,EAAMQ,KAAK3C,MAA4B,iBAApBmC,EAAMQ,KAAK3C,KAA0B,wBAAuB,wCAOvF,SAAS+E,EAAiB5C,GAAQ,IAAD,EACLC,mBAAS,IADJ,mBAChC3B,EADgC,KACrBuE,EADqB,OAEP5C,mBAAS,IAFF,mBAEhC1B,EAFgC,KAEtBuE,EAFsB,OAGK7C,mBAAS,IAHd,mBAGhCzB,EAHgC,KAGhBuE,EAHgB,OAIb9C,mBAAS,IAJI,mBAIhCxB,EAJgC,KAIzByB,EAJyB,OAKjBD,mBAAS,IALQ,mBAKhCvB,EALgC,KAK3ByB,EAL2B,OAMaF,mBAAS,MANtB,mBAMhC+C,EANgC,KAMZC,EANY,KAgBhCC,EAAuB,SAAC3B,GAE5BwB,EAAkBxB,EAAMC,OAAOC,QAW3B1D,EAAoB,SAACV,GAEzB4F,EAAsB5F,IAGxB,OACE,kBAACiD,EAAA,EAAD,CAAOC,KAAMP,EAAMQ,KAAKD,KAAME,OAAQT,EAAMQ,KAAKE,aAC/C,kBAACJ,EAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,EAAA,EAAMO,MAAP,qBAEF,kBAACP,EAAA,EAAMQ,KAAP,KAC0B,OAAvBkC,GAA+B,kBAACjC,EAAA,EAAD,KAC9B,kBAACA,EAAA,EAAKC,MAAN,CAAYC,UAAU,OACpB,kBAACF,EAAA,EAAKG,MAAN,YACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,OAAOC,YAAY,MAAMC,QAnC9B,SAACC,GAEvBsB,EAAatB,EAAMC,OAAOC,QAiCmDC,KAAKC,MAAOwB,UAAQ,KAE3F,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,UACpB,kBAACF,EAAA,EAAKG,MAAN,eACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,OAAOC,YAAY,SAASC,QAnClC,SAACC,GAEtBuB,EAAYvB,EAAMC,OAAOC,QAiCsDC,KAAKC,MAAOwB,UAAQ,KAE7F,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,UACpB,kBAACF,EAAA,EAAKG,MAAN,0BACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,OAAOE,QAAS4B,EAAqBxB,KAAKC,MAAOyB,SAAUF,EAAqBxB,KAAKC,MAAOwB,UAAQ,KAEzH,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,6BACpB,kBAACF,EAAA,EAAKG,MAAN,cACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,QAAQC,YAAY,mBAAmBC,QAnChD,SAACC,GAEnBrB,EAASqB,EAAMC,OAAOC,QAiCiEC,KAAKC,MAAOwB,UAAQ,KAErG,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,OACpB,kBAACF,EAAA,EAAKG,MAAN,qBACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,WAAWC,YAAY,eAAeC,QAnCjD,SAACC,GAEjBpB,EAAOoB,EAAMC,OAAOC,QAiCgEC,KAAKC,MAAOwB,UAAQ,KAElG,yBAAKvB,UAAU,oBACb,kBAACC,EAAA,EAAD,CAAQD,UAAU,OAAOE,QAAQ,UAAUC,QAAS,kBAAMnE,EAAkB,CAACU,YAAWC,WAAUC,iBAAgBC,QAAOC,OAAMsB,EAAMQ,KAAK1C,WAAYC,KAAtJ,gBAKoB,OAAvBiF,GAA+B,yBAAKpB,UAAU,eAAc,kBAACe,EAAA,EAAD,CAAOf,UAAU,OAAOE,QAASkB,EAAqB,UAAY,UACxHA,EAAqB,gEAA+D,mCAsD5F,SAASK,EAAarD,GAAQ,IAAD,EACDC,mBAAS,IADR,mBAC5B3B,EAD4B,KACjBuE,EADiB,OAEH5C,mBAAS,IAFN,mBAE5B1B,EAF4B,KAElBuE,EAFkB,OAGS7C,mBAAS,IAHlB,mBAG5BzB,EAH4B,KAGZuE,EAHY,OAIT9C,mBAAS,IAJA,mBAI5BxB,EAJ4B,KAIrByB,EAJqB,OAKbD,mBAAS,IALI,mBAK5BvB,EAL4B,KAKvByB,EALuB,OAMIF,mBAASD,EAAMsD,MAAMlC,MANzB,mBAM5BrC,EAN4B,KAMbwE,EANa,OAOmBtD,mBAAS,MAP5B,mBAO5BuD,EAP4B,KAOPC,EAPO,KA6B5BC,EAA4B,SAACrG,GAEjCoG,EAAuBpG,IA/BS,EAqCF4C,oBAAS,GArCP,mBAqC3B0D,EArC2B,KAqCjBC,EArCiB,KA8ClC,OACE,kBAACtD,EAAA,EAAD,CAAOC,KAAMP,EAAMsD,MAAM/C,KAAME,OAAQT,EAAMsD,MAAM5C,aACjD,kBAACJ,EAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,EAAA,EAAMO,MAAP,yBAEF,kBAACP,EAAA,EAAMQ,KAAP,KACG6C,GAnGF,SAA2BvC,EAAMyC,EAAiBC,EAAgBZ,EAAsBa,EAAaC,EAAWC,EAAWC,EAAoBV,GACpJ,OACE,oCACyB,OAAxBA,GAAgC,kBAACzC,EAAA,EAAD,KAC/B,kBAACA,EAAA,EAAKC,MAAN,CAAYC,UAAU,OACpB,kBAACF,EAAA,EAAKG,MAAN,YACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,OAAOC,YAAY,MAAMC,QAASuC,EAAgBnC,KAAKC,MAAOwB,UAAQ,KAE3F,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,UACpB,kBAACF,EAAA,EAAKG,MAAN,eACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,OAAOC,YAAY,SAASC,QAASwC,EAAepC,KAAKC,MAAOwB,UAAQ,KAE7F,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,UACpB,kBAACF,EAAA,EAAKG,MAAN,0BACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,OAAOE,QAAS4B,EAAqBxB,KAAKC,MAAOyB,SAAUF,EAAqBxB,KAAKC,MAAOwB,UAAQ,KAEzH,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,6BACpB,kBAACF,EAAA,EAAKG,MAAN,cACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,QAAQC,YAAY,mBAAmBC,QAASyC,EAAYrC,KAAKC,MAAOwB,UAAQ,KAErG,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,OACpB,kBAACF,EAAA,EAAKG,MAAN,qBACA,kBAACH,EAAA,EAAKI,QAAN,CAAcC,KAAK,WAAWC,YAAY,eAAeC,QAAS0C,EAAUtC,KAAKC,MAAOwB,UAAQ,KAElG,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,8BACpB,kBAACF,EAAA,EAAKG,MAAN,mBACA,kBAACH,EAAA,EAAKI,QAAN,CAAcmB,GAAG,SAAS6B,aAAc/C,EAAMgC,SAAUa,EAAUvC,KAAKC,OACrE,4BAAQF,MAAM,QAAd,mBACA,4BAAQA,MAAM,KAAd,6CACA,4BAAQA,MAAM,KAAd,qCACA,4BAAQA,MAAM,KAAd,iDACA,4BAAQA,MAAM,KAAd,4CAGJ,yBAAKG,UAAU,oBACb,kBAACC,EAAA,EAAD,CAAQD,UAAU,OAAOE,QAAQ,UAAUC,QAASmC,GAApD,eAKqB,OAAxBV,GAAgC,yBAAK5B,UAAU,eAAc,kBAACe,EAAA,EAAD,CAAOf,UAAU,OAAOE,QAAS0B,EAAsB,UAAY,UAChIA,EAAsB,iEAAgE,oCA0DtEY,CAAkBpE,EAAMsD,MAAMlC,MA3CzB,SAACG,GAEvBsB,EAAatB,EAAMC,OAAOC,UAEL,SAACF,GAEtBuB,EAAYvB,EAAMC,OAAOC,UAEE,SAACF,GAE5BwB,EAAkBxB,EAAMC,OAAOC,UAEb,SAACF,GAEnBrB,EAASqB,EAAMC,OAAOC,UAEN,SAACF,GAEjBpB,EAAOoB,EAAMC,OAAOC,UAMG,SAACF,GAExBgC,EAAchC,EAAMC,OAAOC,UAOF,WACzB7D,EAAkB,CAACU,YAAWC,WAAUC,iBAAgBC,QAAOC,MAAKK,iBAAgB2E,KASsFF,IACpKG,GAAY3D,EAAMsD,MAAMe,MACxBV,GAAY,yBAAK/B,UAAU,oBAC3B,kBAACC,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAjBF,WAC9B6B,GAAY,KAiBH5D,EAAMsD,MAAMgB,Y,2FE9NrBC,EAAiB,SAACvE,GACpBwE,yBAAe,KAAMC,KACrB,IAAIrD,EAAO,EACmBA,EAAV,UAApBpB,EAAMQ,KAAKY,KAA0B,EAAW,EAHlB,MAIInB,mBAChCyE,kBAASC,kBAAW,IAAInI,KAAQ,GAAuC,MAAnCoI,IAAO,IAAIpI,MAAQqI,OAAO,KAAeD,IAAO,IAAIpI,MAAQsI,IAAI1D,EAAM,SAASyD,OAAO,KAAQD,IAAO,IAAIpI,MAAQqI,OAAO,OALhI,mBAIvBE,EAJuB,KAIZC,EAJY,KAOxBC,EAAc,SAAC,GAAD,IAAGxD,EAAH,EAAGA,MAAOM,EAAV,EAAUA,QAAV,OACf,kBAAChB,EAAA,EAAKI,QAAN,CAAcC,KAAK,OAAOQ,UAAU,uBAAuBG,QAASA,EAASN,MAAOA,EAAOyD,MAAO,CAACC,YAAcnF,EAAMQ,KAAK4E,2BAAuF,KAAzDpF,EAAMQ,KAAK6E,kBAAkBC,OAAS,QAAU,MAAeC,aAAevF,EAAMQ,KAAK4E,4BAA8B,UAQtR,OACE,kBAAC,IAAD,CACEI,OAAO,KACPC,SAAUV,EACV3B,SAAU,SAAAsC,GAAI,OAVC,SAACA,GAChBV,EAAaU,GACV1F,EAAMQ,KAAKmF,oBAAqB3F,EAAMQ,KAAKmF,oBAAoBD,GAC1D1F,EAAMQ,KAAKoF,mBAAmB5F,EAAMQ,KAAKoF,kBAAkBF,GACnE1F,EAAMQ,KAAKqF,+BAA8B,GAMvBC,CAAWJ,IAC7BK,YAAa,kBAACd,EAAD,MACbe,gBAAc,EACdC,cAAe,GACfC,WAAW,QAGXC,YAAY,QACZC,WAAW,qBAKZ,SAASC,EAAiBrG,GAAQ,IAAD,EACbC,mBAAS,KADI,mBAC9BmB,EAD8B,KACxBkF,EADwB,OAEOrG,oBAAS,GAFhB,mBAE9BsG,EAF8B,KAEdC,EAFc,OAGevG,oBAAS,GAHxB,mBAG9BwG,EAH8B,KAGVC,EAHU,OAIOzG,mBAAS,IAJhB,mBAI9B0G,EAJ8B,KAIdC,EAJc,OAKH3G,mBAAS,IALN,mBAK9B4G,EAL8B,KAKnBC,EALmB,OAMW7G,mBAAS,MANpB,mBAM9B8G,EAN8B,KAMZC,EANY,OAOK/G,mBAAS,MAPd,mBAOfgH,GAPe,aAQbhH,mBAAS,IARI,mBAQ9BiH,EAR8B,KAQxBC,EARwB,OASLlH,mBAAS,MATJ,mBASpBmH,GAToB,aAUKnH,oBAAS,GAVd,mBAU9BoH,EAV8B,KAUfC,EAVe,OAYKrH,mBAA4C,MAAnC2E,IAAO,IAAIpI,MAAQqI,OAAO,KAAeD,IAAO,IAAIpI,MAAQsI,IAAI,EAAG,SAASD,OAAO,oBAAsBD,IAAO,IAAIpI,MAAQqI,OAAO,qBAZjJ,mBAY9B0C,GAZ8B,KAYfC,GAZe,QAaCvH,mBAA4C,MAAnC2E,IAAO,IAAIpI,MAAQqI,OAAO,KAAeD,IAAO,IAAIpI,MAAQsI,IAAI,EAAG,SAASD,OAAO,oBAAsBD,IAAO,IAAIpI,MAAQqI,OAAO,qBAb7I,qBAa9B4C,GAb8B,MAajBC,GAbiB,SAcCzH,mBAAS,MAdV,qBAc9B0H,GAd8B,MAcjBC,GAdiB,SAea3H,mBAAS,MAftB,qBAe9BoF,GAf8B,MAeXwC,GAfW,SAgB+B5H,oBAAS,GAhBxC,qBAgB9BmF,GAhB8B,MAgBFS,GAhBE,MAwC9BF,GAAsB,SAACtI,GACzBmK,GAAiB5C,IAAOvH,GAAGwH,OAAO,sBAShCiD,GAAoB,SAACzK,GACvBwI,IAA8B,GAC9B+B,GAAevK,IAkDnB,OA/CA0K,qBAAU,WACN/J,QAAQC,IAAI,eACA,MAATmD,GAA0B,MAATA,GAAgBmF,IAChCvE,IAAMC,IAAI,mEAAoEjC,EAAMQ,KAAKwH,SACxF7I,MAAK,SAAAC,GACFpB,QAAQC,IAAImB,EAAIoB,MAChBgG,GAAkB,GAClBI,EAAkBxH,EAAIoB,MACtBwG,EAAoB,YAAI5H,EAAIoB,MAAMyH,QAAQC,OAE7C5I,OAAM,SAAAC,GAAC,OAAIiH,GAAkB,MAEtB,MAATpF,GAAgBqF,GACfzE,IAAMC,IAAI,8DAA+DjC,EAAMQ,KAAKwH,SACnF7I,MAAK,SAAAC,GACFpB,QAAQC,IAAImB,EAAIoB,MAChBkG,GAAsB,GACtBI,EAAa1H,EAAIoB,MACjByG,EAAiB,YAAI7H,EAAIoB,MAAMyH,QAAQC,OAE1C5I,OAAM,SAAAC,GAAC,OAAImH,GAAsB,MAE1B,MAATtF,GAAgBiG,GACfrF,IAAMC,IAAI,yDAA0DjC,EAAMQ,KAAKwH,SAC9E7I,MAAK,SAAAC,GACFpB,QAAQC,IAAImB,EAAIoB,MAChB8G,GAAiB,GACjBH,EAAQ/H,EAAIoB,MACZ4G,EAAY,YAAIhI,EAAIoB,MAAMyH,QAAQC,OAErC5I,OAAM,SAAAC,GAAC,OAAI+H,GAAiB,MAErB,MAATlG,GAAgBgE,IAA8B2B,IAC7C/I,QAAQC,IAAI,MACZD,QAAQC,IAAImD,GACZpD,QAAQC,IAAImH,IACZpD,IAAMC,IAAI,uFAAuF8E,EAAiB,IAAIQ,GAAcY,QAAQ,IAAK,KAAK,IAAIV,GAAYU,QAAQ,IAAK,MAClLhJ,MAAK,SAAAC,GACFpB,QAAQC,IAAImB,EAAIoB,MAChBqH,GAAqBzI,EAAIoB,MACzBqF,IAA8B,MAEjCvG,OAAM,SAAAC,GAAC,OAAIsG,IAA8B,SAG7C,CAAC7F,EAAMQ,KAAKwH,QAAS5C,GAA4B2B,IAGlD,oCACA,kBAACzG,EAAA,EAAD,CAAOC,KAAMP,EAAMQ,KAAKD,KAAME,OAAQT,EAAMQ,KAAKE,YAAa8B,KAAK,MACjE,kBAAClC,EAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,EAAA,EAAMO,MAAP,KAAc,kBAAiBb,EAAMQ,KAAK4H,MAE5C,kBAAC9H,EAAA,EAAMQ,KAAP,KACA,kBAACC,EAAA,EAAD,KACA,kBAACA,EAAA,EAAKC,MAAN,CAAYC,UAAU,8BAChB,kBAACF,EAAA,EAAKG,MAAN,aACA,kBAACH,EAAA,EAAKI,QAAN,CAAcmB,GAAG,SAAS6B,aAAc/C,EAAMgC,SA9FvC,SAAC7B,GACU,MAAvBA,EAAMC,OAAOC,OAAwC,MAAvBF,EAAMC,OAAOC,OAAe+E,GAAkB,GACrD,MAAvBjF,EAAMC,OAAOC,OAAeiF,GAAsB,GAC3B,MAAvBnF,EAAMC,OAAOC,OAAe6F,GAAiB,GAChDQ,GAAkB,MAClBxB,EAAQ/E,EAAMC,OAAOC,OACK,MAAvBF,EAAMC,OAAOC,OAAgBoE,IAA8B,IAwFanE,KAAKC,OACxE,4BAAQF,MAAM,KAAd,mBACA,4BAAQA,MAAM,KAAd,4BACA,4BAAQA,MAAM,KAAd,iCAGO,MAATL,IAAkBmF,GACpB,oCACA,kBAACxF,EAAA,EAAKC,MAAN,CAAYC,UAAU,8BAClB,kBAACF,EAAA,EAAKG,MAAN,yBACA,kBAACH,EAAA,EAAKI,QAAN,CAAcmB,GAAG,SAASc,SA/FP,SAAC7B,GAC5BsE,IAA8B,GAC9BmB,EAAoBzF,EAAMC,OAAOC,QA6FkCC,KAAKC,OAC3DgF,EAAe0B,KAAI,SAAAhL,GAAC,OAAI,4BAAQ6E,IAAK7E,EAAE6K,GAAIzG,MAAOpE,EAAE6K,IAAK7K,EAAE+K,WAI1D,MAAThH,IAAiBqF,GAAuB,kBAAC1F,EAAA,EAAKC,MAAN,CAAYC,UAAU,8BAC3D,kBAACF,EAAA,EAAKG,MAAN,oBACA,kBAACH,EAAA,EAAKI,QAAN,CAAcmB,GAAG,SAASc,SAjGV,SAAC7B,GACzB0F,EAAiB1F,EAAMC,OAAOC,QAgGkCC,KAAKC,OACxDkF,EAAUwB,KAAI,SAAAhL,GAAC,OAAI,4BAAQoE,MAAOpE,EAAE6K,IAAK7K,EAAE+K,WAIxC,MAAThH,IAAiBmF,GAA6B,MAATnF,IAAiBmF,IAAmBE,IAAwB,oCACpG,kBAAC1F,EAAA,EAAKC,MAAN,KACI,kBAACD,EAAA,EAAKG,MAAN,kCACA,kBAACH,EAAA,EAAKC,MAAN,KAAY,kBAAC,EAAD,CAAgBR,KAAM,CAACmF,uBAAqBvE,KAAM,QAASyE,iCAA+BR,qBAAmBD,mCAE7H,kBAACrE,EAAA,EAAKC,MAAN,KACI,kBAACD,EAAA,EAAKG,MAAN,6BACA,kBAACH,EAAA,EAAKC,MAAN,KAAY,kBAAC,EAAD,CAAgBR,KAAM,CAACoF,kBAhGrB,SAACvI,GACvBqK,GAAe9C,IAAOvH,GAAGwH,OAAO,sBA+F8BzD,KAAM,MAAOyE,iCAA+BR,qBAAmBD,oCAG/G,MAAThE,IAAiBiG,GAClB,oCACA,kBAACtG,EAAA,EAAKC,MAAN,CAAYC,UAAU,8BAClB,kBAACF,EAAA,EAAKG,MAAN,uBACA,kBAACH,EAAA,EAAKI,QAAN,CAAcmB,GAAG,SAASc,SAhHf,SAAC7B,GACpB6F,EAAY7F,EAAMC,OAAOC,QA+GkCC,KAAKC,OACnDuF,EAAKmB,KAAI,SAAAhL,GAAC,OAAI,4BAAQoE,MAAOpE,EAAE6K,IAAK7K,EAAE+K,UAG/C,kBAACrH,EAAA,EAAKC,MAAN,KACI,kBAACD,EAAA,EAAKG,MAAN,sBACA,kBAACH,EAAA,EAAKC,MAAN,KAAY,kBAAC,EAAD,CAAgBR,KAAM,CAACmF,uBAAqBvE,KAAM,QAASyE,wCAIzEU,GAA4B,MAATnF,GAAgBqF,GAAiC,MAATrF,GAAgBiG,IAAmB,yBAAKzF,UAAU,eAAc,kBAACS,EAAA,EAAD,CACzHC,GAAG,OACHC,UAAU,SACVC,KAAK,KACLV,QAAQ,UACRW,KAAK,SACLC,cAAY,OACZwC,MAAO,CAACoD,MAAO,MAAOC,OAAQ,YAIhCnD,IAA8B,yBAAKxD,UAAU,oBAAmB,kBAACe,EAAA,EAAD,CAAOf,UAAU,OAAOE,QAASuD,GAAkBC,OAAS,OAAS,UAClID,GAAkBmD,MAEN,OAAhBb,IAAwB,yBAAK/F,UAAU,eAAc,kBAACe,EAAA,EAAD,CAAOf,UAAU,OAAOE,QAAS6F,GAAc,UAAY,UAC5GA,GAAc,8BAA0B,wCAG/C,kBAACrH,EAAA,EAAMmI,OAAP,CAAc7G,UAAU,2BACpBwD,IAA8B,kBAACvD,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAAS,kBAAM2G,EAAY,CAACtH,OAAM2F,mBAAkBQ,iBAAeE,gBAAcK,GAAmB9H,EAAMQ,KAAK3C,OAAOuE,UAAWiD,GAAkBC,QAA7K,eAG/BF,IAA8B,kBAAC/C,EAAA,EAAD,CAASC,GAAG,OAAOC,UAAU,SAASC,KAAK,KAAKV,QAAQ,UAAUW,KAAK,SAASC,cAAY,YAOrI,IAAMgG,EAAc,SAAClI,EAAMsH,EAAmBjK,GAC1C,IAAIK,GAAc,EACdyK,GAAM,EACV,GAAGnI,EAAM,CACP,IAAI7B,EAAW,IAAIC,SACF,MAAd4B,EAAKY,OACJuH,EAAM,2EACNhK,EAASE,OAAO,gBAAiB2B,EAAK+G,eACtC5I,EAASE,OAAO,cAAe2B,EAAKiH,aACpC9I,EAASE,OAAO,qBAAsB2B,EAAKuG,kBAC3CpI,EAASE,OAAO,UAAWhB,EAAKqK,KAEnB,MAAd1H,EAAKY,OACJuH,EAAM,wEACNhK,EAASE,OAAO,gBAAiB2B,EAAK+G,eACtC5I,EAASE,OAAO,cAAe2B,EAAKiH,aACpC9I,EAASE,OAAO,eAAgB2B,EAAKuG,kBACrCpI,EAASE,OAAO,UAAWhB,EAAKqK,KAEnB,MAAd1H,EAAKY,OACJuH,EAAM,mEACNhK,EAASE,OAAO,UAAW2B,EAAK+G,eAChC5I,EAASE,OAAO,UAAW2B,EAAKuG,kBAChCpI,EAASE,OAAO,UAAWhB,EAAKqK,KAEjCS,GACC3J,MAAM2J,EACF,CACI1J,KAAMN,EACNO,OAAQ,SAEXC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAC,GACQ,sCAAXA,EAAI,KACHlB,GAAc,GAElB4J,EAAkB5J,MAEjBoB,OAAM,SAAAC,GACHuI,EAAkB5J,QCtQ/B,SAAS0K,EAAM5I,GAAQ,IAAD,EACDC,oBAAS,GADR,mBAClBM,EADkB,KACZsI,EADY,KAKzB,OACE,oCACE,kBAACC,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKC,IAAN,CAAUjH,QAAQ,MAAMkH,IAAK,uBAC7B,kBAACF,EAAA,EAAKhI,KAAN,KACE,kBAACgI,EAAA,EAAKjI,MAAN,KAAab,EAAMsD,MAAM2F,OACzB,kBAACH,EAAA,EAAKI,SAAN,CAAetH,UAAU,mBAAmB5B,EAAMsD,MAAM6F,UACxD,kBAACL,EAAA,EAAKM,KAAN,yIAIA,kBAACvH,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAbf,kBAAM8G,GAAQ,KAazB,mBAIF,kBAACC,EAAA,EAAKL,OAAN,KACE,2BAAO7G,UAAU,cAAjB,6BAGJ,kBAACyB,EAAD,CAAcC,MAAO,CAAC/C,KAAMA,EAAMG,YAtBlB,kBAAMmI,GAAQ,IAsB8BxE,KAAMrE,EAAMsD,MAAMe,KAAMC,QAAS,aAAclD,KAAMpB,EAAMsD,MAAMlC,SAK9H,SAASiI,EAAWrJ,GACzB,IAAIsJ,EAAM,GACV,OAAOtJ,EAAMQ,KAAK0H,IAChB,IAAK,IACHoB,EAAM,eACN,MACF,IAAK,IACHA,EAAM,iBACN,MACF,IAAK,IACHA,EAAM,YACN,MACF,IAAK,IACHA,EAAM,mBACN,MACF,IAAK,IACHA,EAAM,aACN,MACF,IAAK,IACHA,EAAM,gBAIV,OACE,oCACE,kBAACR,EAAA,EAAD,CAAMlH,UAAU,QAAQsD,MAAO,CAAEoD,MAAO,SAAWJ,GAAIlI,EAAMQ,KAAK0H,IAChE,kBAACY,EAAA,EAAKC,IAAN,CAAUjH,QAAQ,MAAMkH,IAAKO,WAA+BD,IAC5D,kBAACR,EAAA,EAAKhI,KAAN,KACE,kBAACgI,EAAA,EAAKjI,MAAN,KAAab,EAAMQ,KAAKyI,OACxB,kBAACH,EAAA,EAAKI,SAAN,CAAetH,UAAU,oBACzB,kBAACkH,EAAA,EAAKM,KAAN,OAGF,kBAACN,EAAA,EAAKL,OAAN,KACE,kBAAC5G,EAAA,EAAD,CAAQK,IAAKlC,EAAMQ,KAAK0H,GAAIpG,QAAQ,UAAUC,QAAS,kBAAI/B,EAAMQ,KAAKsH,mBAAkB,EAAM9H,EAAMQ,KAAKyI,MAAOjJ,EAAMQ,KAAK0H,MAA3H,kB,wCCzDJsB,EAAS,SAACxJ,GATdzC,EAAa,KAAM,KACnBA,EAAa,YAAa,KAC1BA,EAAa,WAAY,KACzBA,EAAa,iBAAkB,KAC/BA,EAAa,QAAS,KACtBA,EAAa,MAAO,KACpBA,EAAa,gBAAiB,KAK9ByC,EAAMQ,KAAK1C,WAAW,MACtBkC,EAAMQ,KAAKiJ,YAAW,IAGjB,SAAS9I,EAAOX,GACnB,OACE,oCACE,kBAAC0J,EAAA,EAAD,CAAQC,GAAG,UAAU7H,QAAQ,OAAO8H,OAAO,KAAKhI,UAAU,WACxD,kBAAC8H,EAAA,EAAOG,MAAR,CAAc9H,QAAS,WAAK/B,EAAMQ,KAAKsJ,eAAc,GAAQ9J,EAAMQ,KAAKiJ,WAAWM,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,IAAKC,KAAK,KAA/H,WACA,kBAACR,EAAA,EAAOS,OAAR,CAAeC,gBAAc,0BAC7B,kBAACV,EAAA,EAAOW,SAAR,CAAiBnC,GAAG,yBAClB,kBAACoC,EAAA,EAAD,CAAK1I,UAAU,YAEf,kBAAC0I,EAAA,EAAD,MACIvN,EAAU,OAAS,kBAAC8E,EAAA,EAAD,CAAQC,QAAQ,gBAAgBF,UAAU,UAAUG,QAAS/B,EAAMQ,KAAK+J,aAAxE,eACnBxN,EAAU,OAAS,kBAAC8E,EAAA,EAAD,CAAQC,QAAQ,gBAAgBF,UAAU,UAAUG,QAAS/B,EAAMQ,KAAKgK,aAAxE,eACpBzN,EAAU,OAAS,kBAAC0N,EAAA,EAAD,CAAgBvC,GAAG,uBAAuBe,ONN3CyB,EMMiE3N,EAAU,aAAa4N,cNL9GD,EAAIE,OAAO,GAAGC,cAAgBH,EAAII,UAAU,IMKkFlJ,UAAU,gBAAgBmJ,YAAU,GAC/J,kBAACC,EAAA,EAASC,KAAV,CAAe3I,GAAG,SAASP,QAAS,kBAAM/B,EAAMQ,KAAKsJ,eAAc,KAAnE,UACA,kBAACkB,EAAA,EAASC,KAAV,CAAe3I,GAAG,SAASP,QAAS,kBAAM/B,EAAMQ,KAAK0K,4BAA2B,KAAhF,mBACA,kBAACF,EAAA,EAASC,KAAV,CAAe3I,GAAG,SAASP,QAAS,kBAAM/B,EAAMQ,KAAK2K,qBAArD,aACA,kBAACH,EAAA,EAASC,KAAV,CAAe3I,GAAG,SAASP,QAAS,kBAAMyH,EAAOxJ,KAAjD,uBNVkB,IAAC0K,EOP/B,IAAIxF,EAAQ,CACVkG,gBAAiB,UACjBC,UAAW,oBACXC,UAAW,SACXC,QAAS,OACTC,SAAU,QACVC,KAAM,IACNC,OAAQ,IACRnD,OAAQ,OACRD,MAAO,QAGPqD,EAAU,CACZC,QAAS,QACTL,QAAS,OACThD,OAAQ,OACRD,MAAO,OACPuD,WAAY,QAGP,SAASpD,EAAT,GAA+B,IAAbqD,EAAY,EAAZA,SACrB,OACI,6BACI,yBAAK5G,MAAOyG,IACZ,yBAAKzG,MAAOA,GACN4G,I,oDCtClB,SAASC,GAAY/L,GAAQ,IAAD,EACSC,mBAASlD,EAAU,cAD5B,mBAClBuB,EADkB,KACPuE,EADO,OAEO5C,mBAASlD,EAAU,aAF1B,mBAElBwB,EAFkB,KAERuE,EAFQ,OAGmB7C,mBAASlD,EAAU,mBAHtC,mBAGlByB,EAHkB,KAGFuE,EAHE,OAIC9C,mBAASlD,EAAU,UAJpB,mBAIlB0B,EAJkB,KAIXyB,EAJW,OAKHD,mBAASlD,EAAU,QALhB,mBAKlB2B,EALkB,KAKbyB,EALa,KAelB+C,EAAuB,SAAC3B,GAE5BwB,EAAkBxB,EAAMC,OAAOC,QAU3B5D,EAAI,eAAQmC,EAAMnC,KAAKA,MAG7B,cAFOA,EAAKkB,cAGR,kBAACgC,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKC,MAAN,CAAYC,UAAU,OACpB,kBAACF,EAAA,EAAKG,MAAN,CAAYU,UAAU,cAAtB,QACA,kBAACb,EAAA,EAAKI,QAAN,CAAcC,KAAK,OAAO+C,aAAcpH,EAAU,aAAcuE,QA3BlD,SAACC,GAEvBsB,EAAatB,EAAMC,OAAOC,QAyBuEC,KAAKC,MAAOwB,UAAQ,KAE/G,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,UACpB,kBAACF,EAAA,EAAKG,MAAN,CAAYU,UAAU,cAAtB,UACA,kBAACb,EAAA,EAAKI,QAAN,CAAcC,KAAK,OAAO+C,aAAcpH,EAAU,YAAauE,QA3BlD,SAACC,GAEtBuB,EAAYvB,EAAMC,OAAOC,QAyBsEC,KAAKC,MAAOwB,UAAQ,KAE7G,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,UACpB,kBAACF,EAAA,EAAKG,MAAN,CAAYU,UAAU,cAAtB,qBACA,kBAACb,EAAA,EAAKI,QAAN,CAAcC,KAAK,OAAO+C,aAAcpH,EAAU,kBAAmBuE,QAAS4B,EAAqBxB,KAAKC,MAAOyB,SAAUF,EAAqBxB,KAAKC,MAAOwB,UAAQ,KAEpK,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,6BACpB,kBAACF,EAAA,EAAKG,MAAN,CAAYU,UAAU,cAAtB,SACA,kBAACb,EAAA,EAAKI,QAAN,CAAcC,KAAK,QAAQ+C,aAAcpH,EAAU,SAAUuE,QA3BnD,SAACC,GAEnBrB,EAASqB,EAAMC,OAAOC,QAyBoEC,KAAKC,MAAOwB,UAAQ,KAExG,kBAACpC,EAAA,EAAKC,MAAN,CAAYC,UAAU,OACpB,kBAACF,EAAA,EAAKG,MAAN,CAAYU,UAAU,cAAtB,gBACA,kBAACb,EAAA,EAAKI,QAAN,CAAcC,KAAK,WAAW+C,aAAcpH,EAAU,aAAcuE,QA3B5D,SAACC,GAEjBpB,EAAOoB,EAAMC,OAAOC,QAyB2EC,KAAKC,MAAOwB,UAAQ,KAE7G,yBAAKvB,UAAU,oBACb,kBAACC,EAAA,EAAD,CAAQO,SAAUhE,KAAKC,UAAU,CAACC,YAAWC,WAAUC,iBAAgBC,QAAOC,UAAUN,KAAKC,UAAUR,GAAO+D,UAAU,OAAOE,QAAQ,UAAUC,QAAS,kBPjB/J,SAA4BlE,EAAMmO,GACvC,IAAIrN,EAAW,IAAIC,SACfqN,EAAa,GACjB,IAAK,IAAM7O,KAAKS,EACU,KAAnBA,EAAKT,GAAGE,SACPU,QAAQC,IAAIJ,EAAKT,IACjB6O,EAAW7O,GAAKS,EAAKT,GACrBuB,EAASE,OAAOzB,EAAGS,EAAKT,KAIhC4B,MAAM,gEAAgEjC,EAAU,MAC5E,CACIkC,KAAMN,EACNO,OAAQ,SAEXC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAC,GACF,GAAc,+BAAXA,EAAI,GAAqC,CAExC,IAAK,IAAM8C,KADXlE,QAAQC,IAAI,MACMgO,EACd9P,EAAU+F,EAAK+J,EAAW/J,GAAM,GAEnC8J,EAAmBC,QACjBD,GAAmB,MAE7B1M,OAAM,SAAAC,GAAC,OAAIyM,GAAmB,MOTuIE,CAAmB,CAAC5N,YAAWC,WAAUC,iBAAgBC,QAAOC,OAAMsB,EAAMnC,KAAKC,cAAjP,cAQd,SAASqO,GAAcnM,GACnB,IAAIoM,EAAa,GAMjB,OALqC,OAAlCpM,EAAMnC,KAAKA,KAAKkB,cAAwBqN,EAAa,4BACd,MAAlCpM,EAAMnC,KAAKA,KAAKkB,cAAuBqN,EAAa,4CAClB,MAAlCpM,EAAMnC,KAAKA,KAAKkB,cAAuBqN,EAAa,oCAClB,MAAlCpM,EAAMnC,KAAKA,KAAKkB,cAAuBqN,EAAa,gDAClB,MAAlCpM,EAAMnC,KAAKA,KAAKkB,gBAAuBqN,EAAa,0CAExD,kBAACC,GAAA,EAAD,KACA,4BAAKD,GACL,6JAIA,2BACI,kBAACvK,EAAA,EAAD,CAAQC,QAAQ,SAASU,KAAK,MAA9B,iBAQL,SAAS8J,GAAWtM,GAEzB,OACE,kBAACuM,GAAA,EAAD,CAAMC,iBAAiB,UAAUtE,GAAG,4BACpC,kBAACuE,GAAA,EAAD,CAAKC,SAAS,UAAUzD,MAAM,UAC1B,kBAAC0D,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAG,IAAIjL,UAAU,QAClB,kBAACmK,GAAD,CAAalO,KAAMmC,EAAMnC,UAIrC,kBAAC4O,GAAA,EAAD,CAAKC,SAAS,aAAazD,MAAM,kBAC7B,kBAAC0D,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAG,IAAIjL,UAAU,QAClB,kBAACuK,GAAD,CAAetO,KAAMmC,EAAMnC,WAQ3C,SAASiP,GAAiB9M,GACxB,OACE,kBAAC+M,GAAA,EAAD,CAAWP,iBAAiB,KACzBxM,EAAMQ,KAAK6H,KAAI,SAAAhL,GAAC,OACjB,kBAACyL,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKnI,OAAN,KACE,kBAACoM,GAAA,EAAU5C,OAAX,CAAkB7H,GAAIT,IAAQC,QAAQ,OAAO4K,SAAUrP,EAAE6K,IACtD7K,EAAE2P,eAAiB3P,EAAE4P,SAAW5P,EAAE6K,KAGvC,kBAAC6E,GAAA,EAAU1C,SAAX,CAAoBqC,SAAUrP,EAAE6K,IAC9B,kBAACY,EAAA,EAAKhI,KAAN,KACGnB,OAAOC,KAAKvC,GAAGgL,KAAI,SAACnG,GAAD,OAAS,2BAAIA,EAAI,KAAK7E,EAAE6E,cASjD,SAASgL,GAAqBlN,GAAQ,IAAD,EACRC,mBAAS,IADD,mBACnCkN,EADmC,KACxBC,EADwB,OAGRnN,mBAAS,IAHD,mBAGnC4G,EAHmC,KAGxBC,EAHwB,OAKlB7G,mBAAS,IALS,mBAKnCiH,EALmC,KAK7BC,EAL6B,OAOdlH,mBAAS,IAPK,mBAOnCoN,EAPmC,KAO3BC,EAP2B,OASRrN,mBAAS,aATD,mBASnCsN,EATmC,KASxBC,EATwB,OAWRvN,mBAAS,CAACkN,WAAW,EAAMtG,WAAW,EAAMK,MAAM,EAAMmG,QAAQ,IAXxD,mBAWnCjN,EAXmC,KAWxBC,EAXwB,KAmE1C,OApCA0H,qBAAU,WACS,cAAdwF,GACDvL,IAAMC,IAAI,mEAAmEjC,EAAMQ,KAAK3C,KAAKqK,IAC5F/I,MAAK,SAAAC,GACFpB,QAAQC,IAAImB,EAAIoB,MAChBH,EAAa,2BAAID,GAAL,IAAgB+M,WAAW,KACvCC,EAAahO,EAAIoB,SAEpBlB,OAAM,SAAAC,GAAC,OAAIc,EAAa,2BAAID,GAAL,IAAgB+M,WAAW,QAEpC,cAAdI,GACDvL,IAAMC,IAAI,mEAAmEjC,EAAMQ,KAAK3C,KAAKqK,IAC5F/I,MAAK,SAAAC,GACJiB,EAAa,2BAAID,GAAL,IAAgByG,WAAW,KACrCC,EAAa1H,EAAIoB,SAEpBlB,OAAM,SAAAC,GAAC,OAAIc,EAAa,2BAAID,GAAL,IAAgByG,WAAW,QAEpC,SAAd0G,GACDvL,IAAMC,IAAI,8DAA8DjC,EAAMQ,KAAK3C,KAAKqK,IACvF/I,MAAK,SAAAC,GACJiB,EAAa,2BAAID,GAAL,IAAgB8G,MAAM,KAChCC,EAAQ/H,EAAIoB,SAEflB,OAAM,SAAAC,GAAC,OAAIc,EAAa,2BAAID,GAAL,IAAgB8G,MAAM,QAE/B,WAAdqG,GACDvL,IAAMC,IAAI,gEAAgEjC,EAAMQ,KAAK3C,KAAKqK,IACzF/I,MAAK,SAAAC,GACJiB,EAAa,2BAAID,GAAL,IAAgBiN,QAAQ,KAClCC,EAAUlO,EAAIoB,SAEjBlB,OAAM,SAAAC,GAAC,OAAIc,EAAa,2BAAID,GAAL,IAAgBiN,QAAQ,UAEjD,CAACE,IAGF,kBAAChB,GAAA,EAAD,CAAMC,iBAAiB,YAAYtE,GAAG,2BAA2BuF,SAAU,SAAClO,GAAD,OAvDxD,SAACmO,GACpB,OAAOA,GACL,IAAK,YACHrN,EAAa,2BAAID,GAAL,IAAgByG,WAAW,EAAMK,MAAM,EAAMmG,QAAQ,KACjE,MACF,IAAK,YACHhN,EAAa,2BAAID,GAAL,IAAgB+M,WAAW,EAAMjG,MAAM,EAAMmG,QAAQ,KACjE,MACF,IAAK,OACHhN,EAAa,2BAAID,GAAL,IAAgB+M,WAAW,EAAMtG,WAAW,EAAMwG,QAAQ,KACtE,MACF,IAAK,SACHhN,EAAa,2BAAID,GAAL,IAAgB+M,WAAW,EAAMtG,WAAW,EAAMK,MAAM,KAGxEsG,EAAaE,GAwCqEC,CAAapO,KAC7F,kBAACkN,GAAA,EAAD,CAAKC,SAAS,YAAYzD,MAAM,oBAAoBjM,KAAK,aACrD,kBAAC2P,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAG,IAAIjL,UAAU,QACnBxB,EAAU+M,WAAa,yBAAKvL,UAAU,eAAc,kBAACS,EAAA,EAAD,CACrDC,GAAG,OACHC,UAAU,SACVC,KAAK,KACLV,QAAQ,UACRW,KAAK,SACLC,cAAY,OACZwC,MAAO,CAACoD,MAAO,MAAOC,OAAQ,WAE5BnI,EAAU+M,WAA2B,cAAdI,GAA6B,kBAACT,GAAD,CAAkBtM,KAAM2M,OAIxF,kBAACV,GAAA,EAAD,CAAKC,SAAS,YAAYzD,MAAM,cAAWjM,KAAK,aAC5C,kBAAC2P,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAG,IAAIjL,UAAU,QACnBxB,EAAUyG,WAAa,yBAAKjF,UAAU,eAAc,kBAACS,EAAA,EAAD,CACnDC,GAAG,OACHC,UAAU,SACVC,KAAK,KACLV,QAAQ,UACRW,KAAK,SACLC,cAAY,OACZwC,MAAO,CAACoD,MAAO,MAAOC,OAAQ,WAE9BnI,EAAUyG,WAA2B,cAAd0G,GAA6B,kBAACT,GAAD,CAAkBtM,KAAMqG,OAIxF,kBAAC4F,GAAA,EAAD,CAAKC,SAAS,OAAOzD,MAAM,iBAAiBjM,KAAK,QAC7C,kBAAC2P,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAG,IAAIjL,UAAU,QACnBxB,EAAU8G,MAAQ,yBAAKtF,UAAU,eAAc,kBAACS,EAAA,EAAD,CAC9CC,GAAG,OACHC,UAAU,SACVC,KAAK,KACLV,QAAQ,UACRW,KAAK,SACLC,cAAY,OACZwC,MAAO,CAACoD,MAAO,MAAOC,OAAQ,WAE9BnI,EAAU8G,MAAsB,SAAdqG,GAAwB,kBAACT,GAAD,CAAkBtM,KAAM0G,OAI9E,kBAACuF,GAAA,EAAD,CAAKC,SAAS,SAASzD,MAAM,aAAajM,KAAK,UAC3C,kBAAC2P,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAG,IAAIjL,UAAU,QACnBxB,EAAUiN,QAAU,yBAAKzL,UAAU,eAAc,kBAACS,EAAA,EAAD,CAChDC,GAAG,OACHC,UAAU,SACVC,KAAK,KACLV,QAAQ,UACRW,KAAK,SACLC,cAAY,OACZwC,MAAO,CAACoD,MAAO,MAAOC,OAAQ,WAE9BnI,EAAUiN,QAAwB,WAAdE,GAA0B,kBAACT,GAAD,CAAkBtM,KAAM6M,Q,cClQjF,SAASO,GAAmB5N,GAAQ,IAAD,EACFC,mBAAS,MADP,mBAC/B4N,EAD+B,KACnBC,EADmB,OAEZ7N,mBAAS,IAFG,mBAE/B8N,EAF+B,KAExBC,EAFwB,KAIhCC,EAAmB,SAAC5Q,GACtByQ,EAAczQ,IAYlB,OAJA0K,qBAAU,WACH/H,EAAMQ,KAAK0N,WAAalO,EAAMQ,KAAK3C,MAAMmE,IAAMC,IAAI,2DAA6D8L,GAAO5O,MAAK,SAAAC,GAAG,OAAI6O,EAAiB7O,EAAIoB,SAAOlB,OAAM,SAAA6O,GAAG,OAAInQ,QAAQC,IAAIkQ,QAC5L,CAACJ,IAGA,oCACI,kBAAChN,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKC,MAAN,CAAYC,UAAU,eAClB,kBAACF,EAAA,EAAKG,MAAN,CAAYU,UAAU,cAAtB,UACA,kBAACb,EAAA,EAAKI,QAAN,CAAcmB,GAAG,SAAS6B,aAAa,IAAIf,SAdrC,SAAC/F,GACnB4Q,EAAiB,MACjBD,EAAS3Q,EAAE+Q,YAAY5M,OAAOC,SAalB,4BAAQA,MAAM,IAAd,QACA,4BAAQA,MAAM,KAAd,oBACA,4BAAQA,MAAM,KAAd,sBACA,4BAAQA,MAAM,KAAd,oBACA,4BAAQA,MAAM,KAAd,0BACA,4BAAQA,MAAM,KAAd,kBACA,4BAAQA,MAAM,KAAd,gCAIPzB,EAAMQ,KAAK0N,WAAalO,EAAMQ,KAAK3C,OAASgQ,GAAc,kBAACxL,EAAA,EAAD,CAC3DC,GAAG,OACHC,UAAU,SACVC,KAAK,KACLV,QAAQ,UACRW,KAAK,SACLC,cAAY,OACZwC,MAAO,CAACoD,MAAO,MAAOC,OAAQ,SAE7BvI,EAAMQ,KAAK0N,WAAalO,EAAMQ,KAAK3C,MAAQgQ,GAC5C,kBAAClB,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAG,QACR,kBAACwB,EAAA,EAAD,KACKR,EAAWxF,KAAI,SAAAhL,GAAC,OAAI,kBAACiR,GAAD,CAAgBhL,MAAK,2BAAMjG,GAAN,IAASkR,QAASvO,EAAMQ,KAAK3C,KAAKqK,cAOzF,SAASoG,GAAetO,GAAQ,IAAD,EACYC,mBAASD,EAAMsD,MAAMkL,WADjC,mBAC3BC,EAD2B,KACVC,EADU,OAEIzO,mBAAS,MAFb,mBAE3B/B,EAF2B,KAEdyQ,EAFc,OAGI1O,mBAAS,MAHb,mBAG3B2O,EAH2B,KAGdC,EAHc,OAII5O,oBAAS,GAJb,mBAI3B6O,EAJ2B,KAIdC,EAJc,OAKM9O,oBAAS,GALf,mBAK3B+O,EAL2B,KAKbC,EALa,KAY5BlR,EAAoB,SAACV,GACvBsR,EAAetR,IAQnB0K,qBAAU,WACN/F,IAAMC,IAAI,4EAA8EjC,EAAMsD,MAAM4E,IAAI/I,MAAK,SAAAC,GAAG,OANrF/B,EAM+G+B,EAAIoB,KAL9IkO,EAAmB1O,EAAMsD,MAAMkL,UAAYnR,QAC3C0R,GAAe,GAFW,IAAC1R,KAM0HiC,OAAM,SAAA6O,GAAG,OAAInQ,QAAQC,IAAIkQ,MAC9KnM,IAAMC,IAAI,kFAAoFjC,EAAMsD,MAAMiL,SAASpP,MAAK,SAAAC,GAAG,OAhBpG/B,EAgB0H+B,EAAIoB,KAfrJqO,EAAexR,QACf4R,GAAgB,GAFM,IAAC5R,KAgBqIiC,OAAM,SAAA6O,GAAG,OAAInQ,QAAQC,IAAIkQ,QACrL,CAACjQ,IAEJ,IAAIoL,EAAM,GACNyE,EAAQ,GACZ,OAAO/N,EAAMsD,MAAM4L,UACjB,IAAK,IACH5F,EAAM,eACNyE,EAAQ,mBACR,MACF,IAAK,IACHzE,EAAM,iBACNyE,EAAQ,qBACR,MACF,IAAK,IACHzE,EAAM,YACNyE,EAAQ,gBACR,MACF,IAAK,IACHzE,EAAM,mBACNyE,EAAQ,yBACR,MACF,IAAK,IACHzE,EAAM,aACNyE,EAAQ,iBACR,MACF,IAAK,IACHzE,EAAM,gBACNyE,EAAQ,oBAGb,OACE,oCACE,kBAACjF,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKC,IAAN,CAAUjH,QAAQ,MAAMkH,IAAKO,WAA+BD,IAC5D,kBAACR,EAAA,EAAKhI,KAAN,KACE,kBAACgI,EAAA,EAAKjI,MAAN,KAAab,EAAMsD,MAAM8E,KACzB,kBAACU,EAAA,EAAKI,SAAN,CAAetH,UAAU,mBAAmBmM,GAC5C,oCACI,4BACK,qBACAe,GAAe,kBAACzM,EAAA,EAAD,CAASC,GAAG,OAAOC,UAAU,SAASC,KAAK,KAAKV,QAAQ,UAAUW,KAAK,SAASC,cAAY,UAC1GoM,GAAe,kBAACK,GAAA,EAAD,CAAOrN,QAAS2M,EAAkB,EAAKA,EAAkBzO,EAAMsD,MAAMkL,UAAY,EAAI,UAAY,UAAa,UAAWC,IAE9I,4BAAKzO,EAAMsD,MAAM8L,cAEJ,OAAhBlR,GAAwB,yBAAK0D,UAAU,eAAc,kBAACe,EAAA,EAAD,CAAOf,UAAU,OAAOE,QAAS5D,EAAc,UAAY,UAC5GA,EAAc,2BAA0B,oCAG/C,kBAAC4K,EAAA,EAAKL,OAAN,MACIuG,GAAgB,kBAACnN,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAAS,kBAUjE,SAA0BsN,EAASC,EAAUvR,GACzC,IAAIG,GAAc,EACdS,EAAW,IAAIC,SACnBD,EAASE,OAAO,UAAWwQ,GAC3B1Q,EAASE,OAAO,YAAayQ,GAE7BtQ,MAAM,sEACF,CACIC,KAAMN,EACNO,OAAQ,SAEXC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAC,GACQ,sCAAXA,EAAI,KACHlB,EAAc1B,KAAK+S,KAEvBxR,EAAkBG,MAEjBoB,OAAM,SAAAC,GACHxB,EAAkBG,MA7ByCsR,CAAiBxP,EAAMsD,MAAMiL,QAASvO,EAAMsD,MAAM4E,GAAInK,IAAoBqE,SAAUqM,GAAmB,GAAKG,EAAc,GAChLH,GAAmB,GAAKG,EAAc,EAAI,+BAA2B,cAEzEI,GAAgB,kBAAC3M,EAAA,EAAD,CAASC,GAAG,OAAOC,UAAU,SAASC,KAAK,KAAKV,QAAQ,UAAUW,KAAK,SAASC,cAAY,YC2B1G+M,OAlJf,WACE,IAAIC,EAAa,KACdvR,EAAU,CAACG,UAAWvB,EAAU,aAAcwB,SAAUxB,EAAU,YAAayB,eAAgBzB,EAAU,kBAAmB0B,MAAO1B,EAAU,SAAU2B,IAAK3B,EAAU,OAAQgC,cAAehC,EAAU,qBACxM2S,EAAa,CAACxH,GAAInL,EAAU,MAAOuB,UAAWvB,EAAU,aAAcwB,SAAUxB,EAAU,YAAayB,eAAgBzB,EAAU,kBAAmB0B,MAAO1B,EAAU,SAAU2B,IAAK3B,EAAU,OAAQgC,cAA8C,SAA/BhC,EAAU,iBAA8B,KAAOA,EAAU,oBAHnQ,MAMakD,oBAAS,GANtB,mBAMN0P,EANM,KAMCC,EAND,OAYa3P,oBAAS,GAZtB,mBAYN4P,EAZM,KAYCC,EAZD,OAgBkB7P,oBAAS,GAhB3B,mBAgBN8P,EAhBM,KAgBGC,EAhBH,OAkBW/P,mBAASyP,GAlBpB,mBAkBN7R,EAlBM,KAkBAoS,EAlBA,OAmBYhQ,oBAAS,GAnBrB,mBAmBNiQ,EAnBM,KAmBAC,EAnBA,OAoBalQ,mBAAS,MApBtB,mBAoBN8N,EApBM,KAoBCC,EApBD,OAsB6B/N,oBAAS,GAtBtC,mBAsBNmQ,EAtBM,KAsBWxI,EAtBX,OAwBmB3H,mBAAS,IAxB5B,mBAwBNoQ,EAxBM,KAwBIC,EAxBJ,QAyBiBrQ,mBAAS,IAzB1B,qBAyBN+H,GAzBM,MAyBGuI,GAzBH,SA2B4CtQ,oBAAS,GA3BrD,qBA2BNuQ,GA3BM,MA2BgBC,GA3BhB,SA4BsBxQ,oBAAS,GA5B/B,qBA4BNiO,GA5BM,MA4BKwC,GA5BL,MAqCP5I,GAAoB,SAACzK,EAAG+K,EAAKF,GACjCoI,EAAYlI,GACZmI,GAAWrI,GACXN,EAAevK,IAyBXS,GAAa,SAACT,GACT,OAANA,GAAY2Q,EAAS,MACrB3Q,IAAM,IAAMA,IAAMQ,GACnBoS,EAAQ5S,IASZ,OALA0K,qBAAU,WACRlL,SAASoM,MAAQ,UACdiH,GAAQrS,GAAMmE,IAAMC,IAAI,0DAA0D9C,MAAK,SAAAC,GAAG,OA1B1E/B,EA0B0F+B,EAAIoB,UAzBjHwN,EAAS3Q,GADS,IAACA,KA0BqGiC,OAAM,SAAA6O,GAAG,OAAInQ,QAAQC,IAAIkQ,QACjJ,CAACtQ,EAAMqS,IAGP,yBAAKtO,UAAU,OACb,kBAAC+O,EAAA,EAAD,CAAWC,OAAK,EAAChP,UAAU,aACxBwO,GAAmB,kBAAC/J,EAAD,CAAkB7F,KAAM,CAACD,KAAM6P,EAAiB1P,YAzDrD,kBAAMkH,GAAe,IAyD2DQ,IAAKiI,EAAUrI,QAASA,GAAS6I,MAAM,EAAMhT,KAAMA,KACjJ8R,GAAS,kBAAC/M,EAAD,CAAkBpC,KAAM,CAACD,KAAMoP,EAAOjP,YA1EjC,kBAAMkP,GAAS,IA0E6C9R,WAAYA,MACtF+R,GAAS,kBAAC9P,EAAD,CAAiBS,KAAM,CAACD,KAAMsP,EAAOnP,YArEhC,kBAAMoP,GAAS,IAqE4ChS,WAAYA,GAAYD,KAAMA,KACtG,kBAAC8C,EAAD,CAAQH,KAAM,CAACgK,YA3EH,WAClBoF,GAAS,IA0EyBrF,YArEhB,kBAAMuF,GAAS,IAqEchS,cAAYgM,cAhCvC,SAACzM,GACrB2S,EAAY3S,GACZ8S,GAAU9S,GACVoT,IAA0BpT,GAC1BqT,IAAerT,IA4B2DoM,WAzCzD,SAACpM,GAClB2Q,EAAS,MACTmC,EAAS9S,GACToT,IAA0BpT,GAC1BqT,IAAerT,IAqCuE6N,2BAzBrD,SAAC7N,GAClCoT,GAAyBpT,GACzB2S,GAAa3S,GACb8S,GAAU9S,GACVqT,IAAerT,IAqBmG8N,iBArD3F,WACvBuF,IAAc,GACdX,GAAWC,GAAY,GACvBE,GAAQC,GAAS,GACjBK,IAAwBC,IAAyB,OAkD3C,0BAAM7O,UAAU,OACd,kBAAC+K,EAAA,EAAD,CAAK/K,UAAW,6BACbsO,IAASnT,EAAU,OACpB,oCACE,kBAAC6P,EAAA,EAAD,CAAKC,GAAG,QACN,kBAACwB,EAAA,EAAD,KACE,kBAACzF,EAAD,CAAOtF,MAAO,CAACe,KAAK5G,EAAqBwL,MAAM,kBAAmBE,SAAS,0FAAkF/H,KAAM,KACnK,kBAACwH,EAAD,CAAOtF,MAAO,CAACe,KAAK3G,EAAuBuL,MAAM,oBAAqBE,SAAS,mDAAwC/H,KAAM,KAC7H,kBAACwH,EAAD,CAAOtF,MAAO,CAACe,KAAK1G,EAA0BsL,MAAM,yBAAuBE,SAAS,+BAA6B/H,KAAM,QAI7H,kBAACwL,EAAA,EAAD,CAAKC,GAAG,KACLqD,GAAQnT,EAAU,QAAUgR,GAAS,kBAAC1L,EAAA,EAAD,CACpCC,GAAG,OACHC,UAAU,SACVC,KAAK,KACLV,QAAQ,UACRW,KAAK,SACLC,cAAY,OACZwC,MAAO,CAACoD,MAAO,MAAOC,OAAQ,SAEhC,kBAACoE,EAAA,EAAD,KACA,kBAAC0B,EAAA,EAAD,KACE,kBAAC1B,EAAA,EAAD,KACCuD,GAAQnT,EAAU,OAASgR,GAASA,EAAM1F,KAAI,SAAAyI,GAAC,OAC9C,kBAAClE,EAAA,EAAD,CAAKC,GAAG,UACN,kBAACxD,EAAD,CAAYnH,IAAK4O,EAAE5I,GAAI1H,KAAM,CAACyI,MAAO6H,EAAE1I,IAAKF,GAAI4I,EAAE5I,GAAIJ,kBAAmBA,eASlFiI,GAAWhT,EAAU,OACtB,kBAAC4P,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAG,MACN,kBAACP,GAAD,CAAYzO,KAAM,CAACC,WAAYA,GAAYD,KAAMA,OAGpD2S,IAAwBzT,EAAU,OACnC,kBAAC4P,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAG,MACN,kBAACK,GAAD,CAAsB1M,KAAM,CAAC3C,YAGhCqQ,IAAanR,EAAU,OACxB,kBAAC4P,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAG,QACN,kBAACe,GAAD,CAAoBpN,KAAM,CAAC0N,aAAWrQ,aAK5C,kBAAC4K,EAAD,SC/IUsI,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,cCTNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFzU,SAAS0U,eAAe,SDsHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBvS,MAAK,SAAAwS,GACJA,EAAaC,gBAEdtS,OAAM,SAAAuS,GACL7T,QAAQ6T,MAAMA,EAAMC,c","file":"static/js/main.0dd6ec7a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const setCookie = (cname, cvalue, exdays) => {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\r\n    var expires = \"expires=\"+ d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\n\r\nexport const getCookie = (name) => {\r\n    let cookie = {};\r\n    document.cookie.split(';').forEach(function(el) {\r\n      let [k,v] = el.split('=');\r\n      cookie[k.trim()] = v;\r\n    })\r\n    return cookie[name];\r\n  }\r\n\r\nexport const deleteCookie = ( name, path ) => {\r\n    if( getCookie( name ) ) {\r\n      document.cookie = name + \"=\" +\r\n        ((path) ? \";path=\"+path:\"\")+\r\n        \";expires=Thu, 01 Jan 1970 00:00:01 GMT\";\r\n    }\r\n  }\r\n\r\n  export const upperCaseFirst = (str) => {\r\n    return str.charAt(0).toUpperCase() + str.substring(1);\r\n  }\r\n  \r\n  export const isEmpty = (obj) => {\r\n    return Object.keys(obj).length === 0;\r\n  }\r\n\r\n  export const text_sans_abonnment = (<><p>Payez le temps passé sur\r\n    place, les consommations\r\n    sont incluses et à volonté !</p>\r\n    <p>Accessible sans\r\n    réservation ou\r\n    abonnement.</p>\r\n    <p>Tarifs par personne :\r\n    Première heure : 5€\r\n    ½ heure suivante : 2,5€\r\n    Journée (5 heures et plus) :\r\n    24€\r\n    </p>\r\n    <p>Réduction étudiante :\r\n    Journée (5 heures et plus) :\r\n    20€\r\n    </p>\r\n    <p>Accès open space (sans\r\n    possibilité de changer\r\n    d'adresse)\r\n    Wifi\r\n    Snacking et boissons à\r\n    volonté\r\n    Cabines téléphonique\r\n    </p></>)\r\n  export const text_abonnment_simple = (<>\r\n    <p>Rejoignez la communauté\r\n  CO'WORK et bénéficiez de\r\n  tarifs préférentiels !</p>\r\n  <p>Tarifs membre par\r\n  personne :\r\n  Première heure : 4€\r\n  ½ heure suivante : 2€\r\n  Journée (5 heures et plus) :\r\n  20€</p>\r\n  <p>Devenir membre sans\r\n  engagement :\r\n  24€ TTC /mois</p>\r\n  <p>Devenir membre sans\r\n  engagement 12 mois :\r\n  20€ TTC /mois\r\n  </p>\r\n  <p>Accès open space\r\n  Wifi\r\n  Snacking et boissons à\r\n  volonté\r\n  Cabines téléphonique\r\n  Accès libre à tous les\r\n  espaces\r\n  Accès premium au HUB\r\n  </p>\r\n    </>)\r\n  export const text_abonnement_residant = (<>\r\n  <p>Rejoignez la communauté\r\n  CO'WORK et devenez\r\n  membre résident !</p>\r\n  <p>Bénéficiez d'un accès en\r\n  illimité 7/7j</p>\r\n  <p>Devenir membre résident\r\n  sans engagement :\r\n  300€ TTC /mois\r\n  </p>\r\n  <p>Devenir membre résident\r\n  avec engagement 8 mois:\r\n  252€ TTC /mois</p>\r\n  </>)","import {isEmpty, getCookie, setCookie} from '../util/util';\r\n\r\nexport function submitInscription(user, handleUser, handleInscription) {\r\n    console.log(user)\r\n    let inscription = false\r\n    if(validUser(user)) {\r\n      console.log(JSON.stringify({\r\n        firstname: user.firstname,\r\n        lastname: user.lastname,\r\n        date_naissance: user.date_naissance,\r\n        email: user.email,\r\n        pwd: user.pwd\r\n    }))\r\n    let formData = new FormData();\r\n    formData.append('firstname', user.firstname);\r\n    formData.append('lastname', user.lastname);\r\n    formData.append('date_naissance', user.date_naissance);\r\n    formData.append('email', user.email);\r\n    formData.append('pwd', user.pwd);\r\n    if(user.id_abonnement !== undefined) formData.append('id_abonnement', user.id_abonnement);\r\n    \r\n    fetch('https://cowork-paris.000webhostapp.com/index.php/user',\r\n        {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        .then(res=>res.json())\r\n        .then(res => {\r\n          console.log(res)\r\n        if(res[0] === \"User created successfully.\") {\r\n            inscription = true\r\n        }\r\n        handleUser(user)\r\n        handleInscription(user) // faut mettre true, a revoir\r\n        })\r\n        .catch(e => {\r\n            handleUser(inscription)\r\n            handleInscription(false)\r\n        })\r\n    }\r\n  }\r\n\r\n  export function submitModification(user, handleModification) {\r\n    let formData = new FormData();\r\n    let userUpdate = {}\r\n    for (const k in user) {\r\n        if(user[k].trim() !== \"\") {\r\n            console.log(user[k])\r\n            userUpdate[k] = user[k]\r\n            formData.append(k, user[k]);\r\n        }\r\n    }\r\n    \r\n    fetch('https://cowork-paris.000webhostapp.com/index.php/user/update/'+getCookie(\"id\"),\r\n        {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        .then(res=>res.json())\r\n        .then(res => {\r\n            if(res[0] === \"User updated successfully.\") {\r\n                console.log(\"ok\")\r\n                for (const key in userUpdate) {\r\n                    setCookie(key, userUpdate[key], 1)\r\n                 }\r\n                 handleModification(userUpdate)\r\n            } else handleModification(false)\r\n        })\r\n        .catch(e => handleModification(false))\r\n  }\r\n\r\n  export function validUser(user) {\r\n    const attributes = [\"firstname\", \"lastname\", \"date_naissance\", \"email\", \"pwd\", \"id_abonnement\"]\r\n    let i = 0\r\n    if(!isEmpty(user)) {\r\n      for (const k in user) {\r\n        if(attributes.includes(k)) {\r\n          if(user[k] !== undefined && user[k] !== null && (typeof user[k] === \"string\" ? user[k].trim() !== \"\": true)) i++\r\n          else return false\r\n        }\r\n        else return false\r\n      }\r\n      if(attributes.length === i) return true\r\n      else if(attributes.length-1 === i && !(\"id_abonnement\" in user)) return true\r\n      else return false\r\n    }\r\n  }","import React, { useState } from 'react';\r\nimport {Form, Button,Modal, Spinner, Alert} from 'react-bootstrap'\r\nimport {Connection} from '../components/connection'\r\nimport {submitInscription} from '../components/inscription'\r\n\r\nexport function ConnectionModal(props) {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [pwd, setPwd] = useState(\"\")\r\n    const [isLoading, setIsLoading] = useState(false)\r\n  \r\n    const handleEmail = (event) => {\r\n      setEmail(event.target.value)\r\n    }\r\n  \r\n    const handlePwd = (event) => {\r\n      setPwd(event.target.value)\r\n    }\r\n\r\n    return (\r\n      <Modal show={props.data.show} onHide={props.data.handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Connection</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {(!props.data.user || props.data.user === \"deconnected\") && <Form>\r\n            <Form.Group controlId=\"formBasicEmail\">\r\n              <Form.Label>Mail</Form.Label>\r\n              <Form.Control type=\"email\" placeholder=\"Email\" onKeyUp={handleEmail.bind(this)}/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formBasicPassword\">\r\n              <Form.Label>Mot de passe</Form.Label>\r\n              <Form.Control type=\"password\" placeholder=\"Mot de passe\" onKeyUp={handlePwd.bind(this)}/>\r\n            </Form.Group>\r\n            <div className=\"text-center pt-3\">\r\n              <Button className=\"mb-3\" variant=\"primary\" onClick={() => {Connection(email, pwd, setIsLoading, props.data.handleClose, props.data.handleUser)}} disabled={email.trim() === \"\" || pwd.trim() === \"\"}>\r\n              {isLoading && <Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                className=\"pr-2\"\r\n              />}\r\n                {!isLoading && \"Se connecter\"}\r\n              </Button>\r\n            </div>\r\n          </Form>}\r\n          {props.data.user !== null && props.data.user !== \"deconnected\" && <div className=\"text-center\"><Alert className=\"mb-0\" variant={props.data.user ? \"success\" : \"danger\"}>\r\n                {props.data.user && props.data.user !== \"disconnected\" ? \"Connection réussie\" : \"L'authentification a échoué\"}\r\n            </Alert></div>}\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  export function InscriptionModal(props) {\r\n    const[firstname, setFirstname] = useState(\"\")\r\n    const[lastname, setLastname] = useState(\"\")\r\n    const[date_naissance, setDate_naissance] = useState(\"\")\r\n    const[email, setEmail] = useState(\"\")\r\n    const[pwd, setPwd] = useState(\"\")\r\n    const[successInscription, setsuccessInscription] = useState(null)\r\n  \r\n    const handleFirstname = (event) => {\r\n      \r\n      setFirstname(event.target.value)\r\n    }\r\n    const handleLastname = (event) => {\r\n      \r\n      setLastname(event.target.value)\r\n    }\r\n    const handleDate_naissance = (event) => {\r\n      \r\n      setDate_naissance(event.target.value)\r\n    }\r\n    const handleEmail = (event) => {\r\n      \r\n      setEmail(event.target.value)\r\n    }\r\n    const handlePwd = (event) => {\r\n      \r\n      setPwd(event.target.value)\r\n    }\r\n\r\n    const handleInscription = (v) => {\r\n      \r\n      setsuccessInscription(v)\r\n    }\r\n\r\n    return (\r\n      <Modal show={props.data.show} onHide={props.data.handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Inscription</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {successInscription === null && <Form>\r\n            <Form.Group controlId=\"nom\">\r\n              <Form.Label>Nom</Form.Label>\r\n              <Form.Control type=\"text\" placeholder=\"Nom\" onKeyUp={handleFirstname.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"prenom\">\r\n              <Form.Label>Prenom</Form.Label>\r\n              <Form.Control type=\"text\" placeholder=\"Prenom\" onKeyUp={handleLastname.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"prenom\">\r\n              <Form.Label>Date de naissance</Form.Label>\r\n              <Form.Control type=\"date\" onKeyUp={handleDate_naissance.bind(this)} onChange={handleDate_naissance.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" placeholder=\"name@example.com\" onKeyUp={handleEmail.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"pwd\">\r\n              <Form.Label>Mot de passe</Form.Label>\r\n              <Form.Control type=\"password\" placeholder=\"Mot de passe\" onKeyUp={handlePwd.bind(this)} required/>\r\n            </Form.Group>\r\n            <div className=\"text-center pt-3\">\r\n              <Button className=\"mb-3\" variant=\"primary\" onClick={() => submitInscription({firstname, lastname, date_naissance, email, pwd}, props.data.handleUser, handleInscription)}>\r\n                S'inscrire\r\n              </Button>\r\n            </div>\r\n          </Form>}\r\n          {successInscription !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={successInscription ? \"success\" : \"danger\"}>\r\n                {successInscription ? \"Inscription réussie, vous pouvez maintenant vous connecter\" : \"L'inscription a échoué\"}\r\n            </Alert></div>}\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  export function SubscriptionModal(type, handleFirstname, handleLastname, handleDate_naissance, handleEmail, handlePwd, handleSub, handleSubscription, successSubscription) {\r\n    return(\r\n      <>\r\n      {successSubscription === null && <Form>\r\n        <Form.Group controlId=\"nom\">\r\n          <Form.Label>Nom</Form.Label>\r\n          <Form.Control type=\"text\" placeholder=\"Nom\" onKeyUp={handleFirstname.bind(this)} required/>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"prenom\">\r\n          <Form.Label>Prenom</Form.Label>\r\n          <Form.Control type=\"text\" placeholder=\"prenom\" onKeyUp={handleLastname.bind(this)} required/>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"prenom\">\r\n          <Form.Label>Date de naissance</Form.Label>\r\n          <Form.Control type=\"date\" onKeyUp={handleDate_naissance.bind(this)} onChange={handleDate_naissance.bind(this)} required/>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control type=\"email\" placeholder=\"name@example.com\" onKeyUp={handleEmail.bind(this)} required/>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"pwd\">\r\n          <Form.Label>Mot de passe</Form.Label>\r\n          <Form.Control type=\"password\" placeholder=\"Mot de passe\" onKeyUp={handlePwd.bind(this)} required/>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n          <Form.Label>Abonnement</Form.Label>\r\n          <Form.Control as=\"select\" defaultValue={type} onChange={handleSub.bind(this)}>\r\n            <option value=\"null\">Sans abonnement</option>\r\n            <option value=\"1\">Abonnement simple 12 mois sans engagement</option>\r\n            <option value=\"2\">Abonnement simple sans engagement</option>\r\n            <option value=\"3\">Abonnement résident 8 mois sans engagement</option>\r\n            <option value=\"4\">Abonnement résident sans engagement</option>\r\n          </Form.Control>\r\n        </Form.Group>\r\n        <div className=\"text-center pt-3\">\r\n          <Button className=\"mb-3\" variant=\"primary\" onClick={handleSubscription}>\r\n            Souscrire\r\n          </Button>\r\n        </div>\r\n      </Form>}\r\n      {successSubscription !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={successSubscription ? \"success\" : \"danger\"}>\r\n      {successSubscription ? \"Souscription réussie, vous pouvez maintenant vous connecter\" : \"La souscription a échoué\"}\r\n      </Alert></div>}\r\n      </>\r\n    );\r\n  }\r\n  \r\n  export function DetailsModal(props) {\r\n    const[firstname, setFirstname] = useState(\"\")\r\n    const[lastname, setLastname] = useState(\"\")\r\n    const[date_naissance, setDate_naissance] = useState(\"\")\r\n    const[email, setEmail] = useState(\"\")\r\n    const[pwd, setPwd] = useState(\"\")\r\n    const[id_abonnement, setAbonnement] = useState(props.infos.type)\r\n    const[successSubscription, setSuccessSubscription] = useState(null)\r\n  \r\n    const handleFirstname = (event) => {\r\n      \r\n      setFirstname(event.target.value)\r\n    }\r\n    const handleLastname = (event) => {\r\n      \r\n      setLastname(event.target.value)\r\n    }\r\n    const handleDate_naissance = (event) => {\r\n      \r\n      setDate_naissance(event.target.value)\r\n    }\r\n    const handleEmail = (event) => {\r\n      \r\n      setEmail(event.target.value)\r\n    }\r\n    const handlePwd = (event) => {\r\n      \r\n      setPwd(event.target.value)\r\n    }\r\n    const handleSuccessSubscription = (v) => {\r\n      \r\n      setSuccessSubscription(v)\r\n    }\r\n    const handleAbonnement = (event) => {\r\n      \r\n      setAbonnement(event.target.value)\r\n    }\r\n    const [subModal, setSubModal] = useState(false)\r\n    const handleSubscriptionModal = () => {\r\n      setSubModal(true)\r\n    }\r\n  \r\n    const handleSubscription = () => {\r\n      submitInscription({firstname, lastname, date_naissance, email, pwd, id_abonnement}, handleSuccessSubscription)\r\n    }\r\n  \r\n    return (\r\n      <Modal show={props.infos.show} onHide={props.infos.handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Sans abonnement</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {subModal && SubscriptionModal(props.infos.type, handleFirstname, handleLastname, handleDate_naissance, handleEmail, handlePwd, handleAbonnement, handleSubscription, successSubscription)}\r\n          {!subModal && props.infos.text}\r\n          {!subModal && <div className=\"text-center pt-3\">\r\n            <Button variant=\"success\" onClick={handleSubscriptionModal}>\r\n              {props.infos.btnText}\r\n            </Button>\r\n          </div>}\r\n        </Modal.Body>\r\n      </Modal>\r\n      )\r\n    }","import {setCookie} from '../util/util';\r\nimport axios from 'axios'\r\n\r\nexport function Connection(email, pwd, setIsLoading, handleClose, handleUser) {\r\n    setIsLoading(true)\r\n    axios.get('https://cowork-paris.000webhostapp.com/index.php/user/show/'+email)\r\n    .then(res => {\r\n      console.log(res.data)\r\n      setIsLoading(false)\r\n      if(res.data.pwd === pwd) {\r\n        for (const key in res.data) {\r\n           setCookie(key, res.data[key], 1)\r\n        }\r\n        handleUser(res.data)\r\n      }\r\n      else(handleUser(false))\r\n    })\r\n  }","import React, { useState, useEffect } from 'react';\r\nimport {Form, Button,Modal, Spinner, Alert, FormControl} from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport DatePicker, { registerLocale } from \"react-datepicker\";\r\nimport setHours from 'date-fns/setHours'\r\nimport setMinutes from 'date-fns/setMinutes'\r\nimport getHours from 'date-fns/setMinutes'\r\nimport fr from \"date-fns/locale/fr\"; // the locale you want\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport moment from 'moment';\r\n\r\nconst DateTimePicker = (props) => {\r\n    registerLocale(\"fr\", fr);\r\n    let type = 1\r\n    props.data.type === \"start\" ? type = 1 : type = 2\r\n    const [startDate, setStartDate] = useState(\r\n      setHours(setMinutes(new Date(), 0), moment(new Date()).format('m') !== \"0\" ? moment(new Date()).add(type, 'hours').format('H') :  moment(new Date()).format('H'))\r\n    );\r\n    const CustomInput = ({ value, onClick }) => (\r\n         <Form.Control type=\"text\" className=\"example-custom-input\" onClick={onClick} value={value} style={{borderColor: !props.data.isLoadingPrivateDisponible ? (props.data.privateDisponible.status ? \"green\" : \"red\") : null, borderWidth:  !props.data.isLoadingPrivateDisponible && \"2px\"}}/>\r\n      );\r\n    const handleDate = (date) => {\r\n        setStartDate(date)\r\n        if(props.data.handleDateTimeStart) props.data.handleDateTimeStart(date)\r\n        else if(props.data.handleDateTimeEnd) props.data.handleDateTimeEnd(date)\r\n        props.data.setIsLoadingPrivateDisponible(true)\r\n    }\r\n    return (\r\n      <DatePicker\r\n        locale=\"fr\"\r\n        selected={startDate}\r\n        onChange={date => handleDate(date)}\r\n        customInput={<CustomInput />}\r\n        showTimeSelect\r\n        timeIntervals={60}\r\n        timeFormat=\"HH:mm\"\r\n        //minTime={setHours(setMinutes(new Date(), 0), 9)}\r\n        //maxTime={setHours(setMinutes(new Date(), 0), 17)}\r\n        timeCaption=\"Heure\"\r\n        dateFormat=\"d/MM/yyyy HH:mm\"\r\n      />\r\n    );\r\n  };\r\n\r\nexport function ReservationModal(props) {\r\n    const[type, setType] = useState(\"1\")\r\n    const[isLoadingSpace, setIsLoadingSpace] = useState(true)\r\n    const[isLoadingEquipment, setIsLoadingEquipment] = useState(true)\r\n    const[privativeSpace, setPrivativeSpace] = useState([]) // Tous pour pouvoir créer le select\r\n    const[equipment, setEquipment] = useState([])\r\n    const[formPrivateSpace, setFormPrivateSpace] = useState(null) // Celui selectionné dans le select\r\n    const[formEquipment, setFormEquipment] = useState(null)\r\n    const[meal, setMeal] = useState([])\r\n    const[formMeal, setFormMeal] = useState(null)\r\n    const[isLoadingMeal, setIsLoadingMeal] = useState(true)\r\n    // Changer jour quand 23h01\r\n    const[dateTimeStart, setDateTimeStart] = useState(moment(new Date()).format('m') !== \"0\" ? moment(new Date()).add(1, 'hours').format('YYYY-MM-DD HH:00') : moment(new Date()).format('YYYY-MM-DD HH:00'))\r\n    const[dateTimeEnd, setDateTimeEnd] = useState(moment(new Date()).format('m') !== \"0\" ? moment(new Date()).add(2, 'hours').format('YYYY-MM-DD HH:00') : moment(new Date()).format('YYYY-MM-DD HH:00'))\r\n    const[reservation, setReservation] = useState(null)\r\n    const[privateDisponible, setPrivateDisponible] = useState(null)\r\n    const[isLoadingPrivateDisponible, setIsLoadingPrivateDisponible] = useState(true)\r\n\r\n    const handleType = (event) => {\r\n        if(event.target.value === \"1\" || event.target.value === \"2\") setIsLoadingSpace(true)\r\n        if(event.target.value === \"2\") setIsLoadingEquipment(true)\r\n        if(event.target.value === \"3\") setIsLoadingMeal(true)\r\n        handleReservation(null)\r\n        setType(event.target.value)\r\n        if(event.target.value === \"1\" ) setIsLoadingPrivateDisponible(true) // Plus tard enlever le if\r\n    }\r\n\r\n    const handleFormPrivateSpace = (event) => {\r\n        setIsLoadingPrivateDisponible(true)\r\n        setFormPrivateSpace(event.target.value)\r\n    }\r\n\r\n    const handleFormEquipment = (event) => {\r\n        setFormEquipment(event.target.value)\r\n    }\r\n\r\n    const handleFormMeal = (event) => {\r\n        setFormMeal(event.target.value)\r\n    }\r\n\r\n    const handleDateTimeStart = (v) => {\r\n        setDateTimeStart(moment(v).format('YYYY-MM-DD HH:mm'))\r\n        //console.log(\"debut \"+moment(v).format('YYYY-MM-DD HH:mm'))\r\n    }\r\n\r\n    const handleDateTimeEnd = (v) => {\r\n        setDateTimeEnd(moment(v).format('YYYY-MM-DD HH:mm'))\r\n        //console.log(\"fin \"+moment(v).format('YYYY-MM-DD HH:mm'))\r\n    }\r\n\r\n    const handleReservation = (v) => {\r\n        setIsLoadingPrivateDisponible(true)\r\n        setReservation(v)\r\n    }\r\n    \r\n    useEffect(() => {\r\n        console.log(\"use_effect\")\r\n        if(type === \"1\" || (type === \"2\" && isLoadingSpace)) {\r\n            axios.get('https://cowork-paris.000webhostapp.com/index.php/PrivativeSpace/'+ props.data.idSpace)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setIsLoadingSpace(false)\r\n                setPrivativeSpace(res.data)\r\n                setFormPrivateSpace([...res.data].shift().id)\r\n            })\r\n            .catch(e => setIsLoadingSpace(false))\r\n        }\r\n        if(type === \"2\" && isLoadingEquipment) {\r\n            axios.get('https://cowork-paris.000webhostapp.com/index.php/Equipment/'+ props.data.idSpace)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setIsLoadingEquipment(false)\r\n                setEquipment(res.data)\r\n                setFormEquipment([...res.data].shift().id)\r\n            })\r\n            .catch(e => setIsLoadingEquipment(false))\r\n        }\r\n        if(type === \"3\" && isLoadingMeal) {\r\n            axios.get('https://cowork-paris.000webhostapp.com/index.php/Meal/'+ props.data.idSpace)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setIsLoadingMeal(false)\r\n                setMeal(res.data)\r\n                setFormMeal([...res.data].shift().id)\r\n            })\r\n            .catch(e => setIsLoadingMeal(false))\r\n        }\r\n        if(type === \"1\" && isLoadingPrivateDisponible && formPrivateSpace) {\r\n            console.log(\"ok\")\r\n            console.log(type)\r\n            console.log(isLoadingPrivateDisponible)\r\n            axios.get('https://cowork-paris.000webhostapp.com/index.php/ReservationPrivateSpace/disponible/'+formPrivateSpace+\"/\"+dateTimeStart.replace(\" \", \"+\")+\"/\"+dateTimeEnd.replace(\" \", \"+\"))\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setPrivateDisponible(res.data)\r\n                setIsLoadingPrivateDisponible(false)\r\n            })\r\n            .catch(e => setIsLoadingPrivateDisponible(false))\r\n        }\r\n\r\n      }, [props.data.idSpace, isLoadingPrivateDisponible, formPrivateSpace]);\r\n\r\n    return(\r\n        <>\r\n        <Modal show={props.data.show} onHide={props.data.handleClose} size=\"lg\">\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{\"Réservation \" + props.data.nom}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n          <Form>\r\n          <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                <Form.Label>Type</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={type} onChange={handleType.bind(this)}>\r\n                <option value=\"1\">Espace privatif</option>\r\n                <option value=\"2\">Prêts de matériels</option>\r\n                <option value=\"3\">Commandes de plateaux repas</option>\r\n                </Form.Control>\r\n            </Form.Group>\r\n            {(type === \"1\") && !isLoadingSpace &&\r\n            <>\r\n            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                <Form.Label>Espace privatifs</Form.Label>\r\n                <Form.Control as=\"select\" onChange={handleFormPrivateSpace.bind(this)}>\r\n                    {privativeSpace.map(v => <option key={v.id} value={v.id}>{v.nom}</option>)}\r\n                </Form.Control>\r\n            </Form.Group>\r\n            </>}\r\n            {type === \"2\" && !isLoadingEquipment &&  <Form.Group controlId=\"exampleForm.ControlSelect2\">\r\n                <Form.Label>Equipements</Form.Label>\r\n                <Form.Control as=\"select\" onChange={handleFormEquipment.bind(this)}>\r\n                    {equipment.map(v => <option value={v.id}>{v.nom}</option>)}\r\n                </Form.Control>\r\n            </Form.Group>\r\n            }\r\n            {((type === \"1\" && !isLoadingSpace) || (type === \"2\" && !isLoadingSpace && !isLoadingEquipment)) && <>\r\n            <Form.Group>\r\n                <Form.Label>Date et heure de début</Form.Label>\r\n                <Form.Group><DateTimePicker data={{handleDateTimeStart, type: \"start\", setIsLoadingPrivateDisponible, privateDisponible, isLoadingPrivateDisponible}} /></Form.Group>\r\n            </Form.Group>\r\n            <Form.Group>\r\n                <Form.Label>Date et heure de fin</Form.Label>\r\n                <Form.Group><DateTimePicker data={{handleDateTimeEnd, type: \"end\", setIsLoadingPrivateDisponible, privateDisponible, isLoadingPrivateDisponible}} /></Form.Group>\r\n            </Form.Group>\r\n            </>}\r\n            {type === \"3\" && !isLoadingMeal && \r\n            <>\r\n            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                <Form.Label>Plateaux repas</Form.Label>\r\n                <Form.Control as=\"select\" onChange={handleFormMeal.bind(this)}>\r\n                    {meal.map(v => <option value={v.id}>{v.nom}</option>)}\r\n                </Form.Control>\r\n            </Form.Group>\r\n            <Form.Group>\r\n                <Form.Label>Date et heure</Form.Label>\r\n                <Form.Group><DateTimePicker data={{handleDateTimeStart, type: \"start\", setIsLoadingPrivateDisponible}}/></Form.Group>\r\n            </Form.Group>\r\n            </>\r\n            }\r\n            {(isLoadingSpace || (type === \"2\" && isLoadingEquipment) || (type === \"3\" && isLoadingMeal)) && <div className=\"text-center\"><Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                variant=\"primary\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                style={{width: \"5em\", height: \"5em\"}}\r\n                /></div>\r\n            }\r\n            </Form>\r\n            {!isLoadingPrivateDisponible && <div className=\"text-center pb-3\"><Alert className=\"mb-0\" variant={privateDisponible.status ? \"info\" : \"danger\"}>\r\n                {privateDisponible.msg}\r\n            </Alert></div>}\r\n            {reservation !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={reservation ? \"success\" : \"danger\"}>\r\n                {reservation ? \"Réservation réussie !\" : \"La réservation a échoué !\"}\r\n            </Alert></div>}\r\n          </Modal.Body>\r\n          <Modal.Footer className=\"justify-content-center\">\r\n            {!isLoadingPrivateDisponible && <Button variant=\"success\" onClick={() => Reservation({type, formPrivateSpace, dateTimeStart, dateTimeEnd}, handleReservation, props.data.user)} disabled={!privateDisponible.status}>\r\n              Réserver\r\n            </Button>}\r\n            {isLoadingPrivateDisponible && <Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\" />}\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n\r\n  const Reservation = (data, handleReservation, user) => {\r\n      let inscription = false\r\n      let url = false\r\n      if(data) {\r\n        let formData = new FormData();\r\n        if(data.type === \"1\") {\r\n            url = \"https://cowork-paris.000webhostapp.com/index.php/ReservationPrivateSpace\"\r\n            formData.append('horaire_debut', data.dateTimeStart);\r\n            formData.append('horaire_fin', data.dateTimeEnd);\r\n            formData.append('id_espace_privatif', data.formPrivateSpace);\r\n            formData.append('id_user', user.id);\r\n        }\r\n        if(data.type === \"2\") {\r\n            url = \"https://cowork-paris.000webhostapp.com/index.php/ReservationEquipment\"\r\n            formData.append('horaire_debut', data.dateTimeStart);\r\n            formData.append('horaire_fin', data.dateTimeEnd);\r\n            formData.append('id_equipment', data.formPrivateSpace);\r\n            formData.append('id_user', user.id);\r\n        }\r\n        if(data.type === \"3\") {\r\n            url = \"https://cowork-paris.000webhostapp.com/index.php/ReservationMeal\"\r\n            formData.append('horaire', data.dateTimeStart);\r\n            formData.append('id_meal', data.formPrivateSpace);\r\n            formData.append('id_user', user.id);\r\n        }\r\n        if(url) {\r\n            fetch(url,\r\n                {\r\n                    body: formData,\r\n                    method: \"post\"\r\n                })\r\n                .then(res=>res.json())\r\n                .then(res => {\r\n                if(res[0] === \"Reservation created successfully.\") {\r\n                    inscription = true\r\n                }\r\n                handleReservation(inscription)\r\n                })\r\n                .catch(e => {\r\n                    handleReservation(inscription)\r\n                })\r\n            }\r\n        }\r\n    }","import React, { useState } from 'react';\r\nimport {Button, Card} from 'react-bootstrap'\r\nimport {DetailsModal} from '../components/modal'\r\nimport {getCookie} from '../util/util'\r\nimport axios from 'axios';\r\nimport {Col} from 'react-bootstrap'\r\nimport {SubscriptionModal} from '../components/reservation'\r\n\r\nexport function Cards(props) {\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n  \r\n    return (\r\n      <>\r\n        <Card>\r\n          <Card.Img variant=\"top\" src={\"holder.js/100px160\"} />\r\n          <Card.Body>\r\n            <Card.Title>{props.infos.title}</Card.Title>\r\n            <Card.Subtitle className=\"mb-2 text-muted\">{props.infos.subtitle}</Card.Subtitle>\r\n            <Card.Text>\r\n              This is a wider card with supporting text below as a natural lead-in to\r\n              additional content. This content is a little bit longer.\r\n            </Card.Text>\r\n            <Button variant=\"primary\" onClick={handleShow}>\r\n              En savoir plus\r\n            </Button>\r\n          </Card.Body>\r\n          <Card.Footer>\r\n            <small className=\"text-muted\">Last updated 3 mins ago</small>\r\n          </Card.Footer>\r\n        </Card>\r\n        <DetailsModal infos={{show: show, handleClose: handleClose, text: props.infos.text, btnText: \"S'inscrire\", type: props.infos.type}}/>\r\n      </>\r\n    );\r\n  }\r\n\r\nexport function CardsSpace(props) {\r\n  let img = \"\"\r\n  switch(props.data.id) {\r\n    case \"1\":\r\n      img = \"bastille.jpg\"\r\n      break;\r\n    case \"2\":\r\n      img = \"republique.jpg\"\r\n      break;\r\n    case \"3\":\r\n      img = \"odeon.jpg\"\r\n      break;\r\n    case \"4\":\r\n      img = \"place_italie.jpg\"\r\n      break;\r\n    case \"5\":\r\n      img = \"ternes.jpg\"\r\n      break;\r\n    case \"6\":\r\n      img = \"beaubourg.jpg\"\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card className='h-100' style={{ width: '18rem' }} id={props.data.id}>\r\n        <Card.Img variant=\"top\" src={process.env.PUBLIC_URL + '/' + img} />\r\n        <Card.Body>\r\n          <Card.Title>{props.data.title}</Card.Title>\r\n          <Card.Subtitle className=\"mb-2 text-muted\"></Card.Subtitle>\r\n          <Card.Text>\r\n          </Card.Text>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <Button key={props.data.id} variant=\"primary\" onClick={()=>props.data.handleReservation(true, props.data.title, props.data.id)}>\r\n            Réserver\r\n          </Button>\r\n        </Card.Footer>\r\n      </Card>\r\n      </>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport {Navbar,Nav, NavDropdown, Button, DropdownButton, Dropdown } from 'react-bootstrap'\r\nimport {getCookie, deleteCookie, upperCaseFirst} from '../util/util';\r\n\r\nconst deleteUser = () => {\r\n  deleteCookie(\"id\", \"/\")\r\n  deleteCookie(\"firstname\", \"/\")\r\n  deleteCookie(\"lastname\", \"/\")\r\n  deleteCookie(\"date_naissance\", \"/\")\r\n  deleteCookie(\"email\", \"/\")\r\n  deleteCookie(\"pwd\", \"/\")\r\n  deleteCookie(\"id_abonnement\", \"/\")\r\n}\r\n\r\nconst logout = (props) => {\r\n  deleteUser()\r\n  props.data.handleUser(null)\r\n  props.data.handleHome(true)\r\n}\r\n\r\nexport function Header(props) {\r\n    return (\r\n      <>\r\n        <Navbar bg=\"primary\" variant=\"dark\" expand=\"lg\" className='py-md-3'>\r\n          <Navbar.Brand onClick={()=>{props.data.handleProfile(false); props.data.handleHome(Math.floor(Math.random() * 100) + 1)}} href=\"#\">Co'Work</Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav className=\"mr-auto\">\r\n            </Nav>\r\n            <Nav>\r\n              {!getCookie(\"id\") && <Button variant=\"outline-light\" className=\"mr-sm-2\" onClick={props.data.handleShowC}>Connection</Button>}\r\n              {!getCookie(\"id\") && <Button variant=\"outline-light\" className=\"mr-sm-2\" onClick={props.data.handleShowI}>Inscription</Button>}\r\n              {getCookie(\"id\") && <DropdownButton id=\"dropdown-item-button\" title={upperCaseFirst(getCookie(\"firstname\").toLowerCase())} className=\"person-circle\" alignRight>\r\n              <Dropdown.Item as=\"button\" onClick={() => props.data.handleProfile(true)}>Profil</Dropdown.Item>\r\n              <Dropdown.Item as=\"button\" onClick={() => props.data.handleCustomerReservations(true)}>Réservations</Dropdown.Item>\r\n              <Dropdown.Item as=\"button\" onClick={() => props.data.handleEvenements()}>Evenement</Dropdown.Item>\r\n              <Dropdown.Item as=\"button\" onClick={() => logout(props)}>Déconection</Dropdown.Item>\r\n            </DropdownButton>}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </>\r\n    );\r\n  }","import {Card, Navbar, NavbarBrand, Container} from 'react-bootstrap'\r\nimport React from 'react';\r\n\r\nexport function Footer2() {\r\n    return (\r\n      <Card bg=\"primary\" text=\"light\">\r\n        <Card.Body>\r\n          <blockquote className=\"blockquote mb-0\">\r\n            <p>\r\n              {' '}\r\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere\r\n              erat a ante.{' '}\r\n            </p>\r\n          </blockquote>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  var style = {\r\n    backgroundColor: \"#F8F8F8\",\r\n    borderTop: \"1px solid #E7E7E7\",\r\n    textAlign: \"center\",\r\n    padding: \"20px\",\r\n    position: \"fixed\",\r\n    left: \"0\",\r\n    bottom: \"0\",\r\n    height: \"60px\",\r\n    width: \"100%\",\r\n}\r\n\r\nvar phantom = {\r\n  display: 'block',\r\n  padding: '20px',\r\n  height: '60px',\r\n  width: '100%',\r\n  paddingTop: \"50vh\"\r\n}\r\n\r\nexport function Footer({ children }) {\r\n    return (\r\n        <div>\r\n            <div style={phantom} />\r\n            <div style={style}>\r\n                { children }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport {Tabs, Form, Button, Tab, Col, Row, Jumbotron, Accordion, Card, Spinner} from 'react-bootstrap'\r\nimport {submitModification} from '../components/inscription'\r\nimport { getCookie } from '../util/util'\r\nimport axios from 'axios'\r\n\r\nfunction ProfileForm(props) {\r\n    const[firstname, setFirstname] = useState(getCookie(\"firstname\"))\r\n    const[lastname, setLastname] = useState(getCookie(\"lastname\"))\r\n    const[date_naissance, setDate_naissance] = useState(getCookie(\"date_naissance\"))\r\n    const[email, setEmail] = useState(getCookie(\"email\"))\r\n    const[pwd, setPwd] = useState(getCookie(\"pwd\"))\r\n  \r\n    const handleFirstname = (event) => {\r\n      \r\n      setFirstname(event.target.value)\r\n    }\r\n    const handleLastname = (event) => {\r\n      \r\n      setLastname(event.target.value)\r\n    }\r\n    const handleDate_naissance = (event) => {\r\n      \r\n      setDate_naissance(event.target.value)\r\n    }\r\n    const handleEmail = (event) => {\r\n      \r\n      setEmail(event.target.value)\r\n    }\r\n    const handlePwd = (event) => {\r\n      \r\n      setPwd(event.target.value)\r\n    }\r\n    const user = { ...props.user.user }\r\n    delete user.id_abonnement\r\n\r\n    return (\r\n        <Form>\r\n            <Form.Group controlId=\"nom\">\r\n              <Form.Label className=\"float-left\">Nom:</Form.Label>\r\n              <Form.Control type=\"text\" defaultValue={getCookie(\"firstname\")} onKeyUp={handleFirstname.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"prenom\">\r\n              <Form.Label className=\"float-left\">Prenom</Form.Label>\r\n              <Form.Control type=\"text\" defaultValue={getCookie(\"lastname\")} onKeyUp={handleLastname.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"prenom\">\r\n              <Form.Label className=\"float-left\">Date de naissance</Form.Label>\r\n              <Form.Control type=\"date\" defaultValue={getCookie(\"date_naissance\")} onKeyUp={handleDate_naissance.bind(this)} onChange={handleDate_naissance.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n              <Form.Label className=\"float-left\">Email</Form.Label>\r\n              <Form.Control type=\"email\" defaultValue={getCookie(\"email\")} onKeyUp={handleEmail.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"pwd\">\r\n              <Form.Label className=\"float-left\">Mot de passe</Form.Label>\r\n              <Form.Control type=\"password\" defaultValue={getCookie(\"firstname\")} onKeyUp={handlePwd.bind(this)} required/>\r\n            </Form.Group>\r\n            <div className=\"text-center pt-3\">\r\n              <Button disabled={JSON.stringify({firstname, lastname, date_naissance, email, pwd}) === JSON.stringify(user)} className=\"mb-3\" variant=\"primary\" onClick={() => submitModification({firstname, lastname, date_naissance, email, pwd}, props.user.handleUser)}>\r\n                Modifier\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n    )\r\n}\r\n\r\nfunction AbonnementTab(props) {\r\n    let abonnement = \"\"\r\n    if(props.user.user.id_abonnement === null) abonnement = \"Aucun abonnement en cours\"\r\n    else if(props.user.user.id_abonnement === \"1\") abonnement = \"Abonnement simple 12 mois sans engagement\"\r\n    else if(props.user.user.id_abonnement === \"2\") abonnement = \"Abonnement simple sans engagement\"\r\n    else if(props.user.user.id_abonnement === \"3\") abonnement = \"Abonnement résident 8 mois sans engagement\"\r\n    else if(props.user.user.id_abonnement === \"4\") abonnement = \"Abonnement résident sans engagement\"\r\n    return(\r\n        <Jumbotron>\r\n        <h1>{abonnement}</h1>\r\n        <p>\r\n            This is a simple hero unit, a simple jumbotron-style component for calling\r\n            extra attention to featured content or information.\r\n        </p>\r\n        <p>\r\n            <Button variant=\"danger\" size=\"lg\">Résilier</Button>\r\n        </p>\r\n        </Jumbotron>\r\n \r\n        \r\n    )\r\n}\r\n\r\nexport function ProfileTab(props) {\r\n  //console.log(props.user)\r\n  return(\r\n    <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\">\r\n    <Tab eventKey=\"profile\" title=\"Profil\">\r\n        <Row>\r\n            <Col lg=\"6\" className=\"pt-3\">\r\n                <ProfileForm user={props.user}/>\r\n            </Col>\r\n        </Row>\r\n    </Tab>\r\n    <Tab eventKey=\"abonnement\" title=\"Mon abonnement\">\r\n        <Row>\r\n            <Col lg=\"6\" className=\"pt-3\">\r\n                <AbonnementTab user={props.user}/>\r\n            </Col>\r\n        </Row>\r\n    </Tab>\r\n  </Tabs>\r\n  )\r\n}\r\n\r\nfunction ListReservations(props) {\r\n  return (\r\n    <Accordion defaultActiveKey=\"0\">\r\n      {props.data.map(v => \r\n      <Card>\r\n        <Card.Header>\r\n          <Accordion.Toggle as={Button} variant=\"link\" eventKey={v.id}>\r\n            {v.horaire_debut || v.horaire || v.id}\r\n          </Accordion.Toggle>\r\n        </Card.Header>\r\n        <Accordion.Collapse eventKey={v.id}>\r\n          <Card.Body>\r\n            {Object.keys(v).map((key) => <p>{key+\": \"+v[key]}</p>)}\r\n          </Card.Body>\r\n        </Accordion.Collapse>\r\n      </Card>)\r\n      }\r\n    </Accordion>\r\n  )\r\n}\r\n\r\nexport function CustomerReservations(props) {\r\n  const [privative, setPrivative] = useState([])\r\n\r\n  const [equipment, setEquipment] = useState([])\r\n\r\n  const [meal, setMeal] = useState([])\r\n\r\n  const [events, setEvents] = useState([])\r\n\r\n  const [activeTab, setActiveTab] = useState(\"privative\")\r\n\r\n  const [isLoading, setIsLoading] = useState({privative: true, equipment: true, meal: true, events: true})\r\n\r\n  const handleSelect = (tab) => {\r\n    switch(tab) {\r\n      case \"privative\" :\r\n        setIsLoading({...isLoading, equipment: true, meal: true, events: true})\r\n        break;\r\n      case \"equipment\" :\r\n        setIsLoading({...isLoading, privative: true, meal: true, events: true})\r\n        break;\r\n      case 'meal' :\r\n        setIsLoading({...isLoading, privative: true, equipment: true, events: true})\r\n        break;\r\n      case 'events' :\r\n        setIsLoading({...isLoading, privative: true, equipment: true, meal: true})\r\n        break;\r\n    }\r\n    setActiveTab(tab)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(activeTab === \"privative\") {\r\n      axios.get('https://cowork-paris.000webhostapp.com/index.php/user/privative/'+props.data.user.id)\r\n      .then(res => {\r\n          console.log(res.data)\r\n          setIsLoading({...isLoading, privative: false})\r\n          setPrivative(res.data)\r\n      })\r\n      .catch(e => setIsLoading({...isLoading, privative: false}))\r\n    }\r\n    if(activeTab === \"equipment\") {\r\n      axios.get('https://cowork-paris.000webhostapp.com/index.php/user/equipment/'+props.data.user.id)\r\n      .then(res => {\r\n        setIsLoading({...isLoading, equipment: false})\r\n          setEquipment(res.data)\r\n      })\r\n      .catch(e => setIsLoading({...isLoading, equipment: false}))\r\n    }\r\n    if(activeTab === \"meal\") {\r\n      axios.get('https://cowork-paris.000webhostapp.com/index.php/user/meal/'+props.data.user.id)\r\n      .then(res => {\r\n        setIsLoading({...isLoading, meal: false})\r\n          setMeal(res.data)\r\n      })\r\n      .catch(e => setIsLoading({...isLoading, meal: false}))\r\n    }\r\n    if(activeTab === \"events\") {\r\n      axios.get('https://cowork-paris.000webhostapp.com/index.php/user/events/'+props.data.user.id)\r\n      .then(res => {\r\n        setIsLoading({...isLoading, events: false})\r\n          setEvents(res.data)\r\n      })\r\n      .catch(e => setIsLoading({...isLoading, events: false}))\r\n    }\r\n  }, [activeTab]);\r\n\r\n  return (\r\n    <Tabs defaultActiveKey=\"privative\" id=\"uncontrolled-tab-example\" onSelect={(e) => handleSelect(e)}>\r\n      <Tab eventKey=\"privative\" title=\"Espaces privatifs\" name=\"privative\">\r\n          <Row>\r\n              <Col lg=\"6\" className=\"pt-3\">\r\n                {isLoading.privative && <div className=\"text-center\"><Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                variant=\"primary\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                style={{width: \"5em\", height: \"5em\"}}\r\n                /></div>}\r\n                {!isLoading.privative && activeTab === \"privative\" && <ListReservations data={privative}/>}\r\n              </Col>\r\n          </Row>\r\n      </Tab>\r\n      <Tab eventKey=\"equipment\" title=\"Matériel\" name=\"equipment\">\r\n          <Row>\r\n              <Col lg=\"6\" className=\"pt-3\">\r\n                {isLoading.equipment && <div className=\"text-center\"><Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  style={{width: \"5em\", height: \"5em\"}}\r\n                  /></div>}\r\n                {!isLoading.equipment && activeTab === \"equipment\" && <ListReservations data={equipment}/>}\r\n              </Col>\r\n          </Row>\r\n      </Tab>\r\n      <Tab eventKey=\"meal\" title=\"Plateaux repas\" name=\"meal\">\r\n          <Row>\r\n              <Col lg=\"6\" className=\"pt-3\">\r\n                {isLoading.meal && <div className=\"text-center\"><Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  style={{width: \"5em\", height: \"5em\"}}\r\n                  /></div>}\r\n                {!isLoading.meal && activeTab === \"meal\" && <ListReservations data={meal}/>}\r\n              </Col>\r\n          </Row>\r\n      </Tab>\r\n      <Tab eventKey=\"events\" title=\"Evenements\" name=\"events\">\r\n          <Row>\r\n              <Col lg=\"6\" className=\"pt-3\">\r\n                {isLoading.events && <div className=\"text-center\"><Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  style={{width: \"5em\", height: \"5em\"}}\r\n                  /></div>}\r\n                {!isLoading.events && activeTab === \"events\" && <ListReservations data={events}/>}\r\n              </Col>\r\n          </Row>\r\n      </Tab>\r\n    </Tabs>\r\n  )\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport {Button, Card, Spinner, CardDeck, Row, Col, Form, Badge ,Alert} from 'react-bootstrap'\r\nimport axios from 'axios'\r\n\r\nexport function EvenemenentWrapper(props) {\r\n    const [eventsData, setEventsData] = useState(null);\r\n    const [space, setSpace] = useState(\"\");\r\n\r\n    const handleEventsData = (v) => {\r\n        setEventsData(v)\r\n      }\r\n    \r\n      const handleSpace = (v) => {\r\n        handleEventsData(null)\r\n        setSpace(v.nativeEvent.target.value)\r\n      }\r\n\r\n    useEffect(() => {\r\n        if(props.data.evenement && props.data.user) axios.get('https://cowork-paris.000webhostapp.com/index.php/events/' + space).then(res => handleEventsData(res.data)).catch(err => console.log(err))\r\n    }, [space]);\r\n\r\n    return (\r\n        <>\r\n            <Form>\r\n                <Form.Group controlId=\"selectSpace\">\r\n                    <Form.Label className=\"float-left\">Espace</Form.Label>\r\n                    <Form.Control as=\"select\" defaultValue=\"0\" onChange={handleSpace}>\r\n                    <option value=\"\">Tous</option>\r\n                    <option value=\"1\">CO'WORK BASTILLE</option>\r\n                    <option value=\"2\">CO'WORK REPUBLIQUE</option>\r\n                    <option value=\"3\">CO'WORK Odéon</option>\r\n                    <option value=\"4\">CO'WORK PLACE D'ITALIE</option>\r\n                    <option value=\"5\">CO'WORK TERNES</option>\r\n                    <option value=\"6\">CO'WORK CO'WORK BEAUBOURG</option>\r\n                    </Form.Control>\r\n                </Form.Group>\r\n            </Form>\r\n            {props.data.evenement && props.data.user && !eventsData && <Spinner\r\n            as=\"span\"\r\n            animation=\"border\"\r\n            size=\"sm\"\r\n            variant=\"primary\"\r\n            role=\"status\"\r\n            aria-hidden=\"true\"\r\n            style={{width: \"5em\", height: \"5em\"}}\r\n            />}\r\n            {props.data.evenement && props.data.user && eventsData && \r\n            <Row>\r\n                <Col lg=\"auto\">\r\n                <CardDeck>\r\n                    {eventsData.map(v => <CardsEvenement infos={{...v, user_id: props.data.user.id}} />)}\r\n                </CardDeck>\r\n                </Col>\r\n            </Row>}\r\n        </>\r\n    )\r\n}\r\nexport function CardsEvenement(props) {\r\n    const [placesRestantes, setPlacesRestantes] = useState(props.infos.nb_places);\r\n    const [inscription, setInscription] = useState(null);\r\n    const [isResByUser, setIsResByUser] = useState(null);\r\n    const [isLoadingPr, setIsLoadingPr] = useState(true);\r\n    const [isLoadingRes, setIsLoadingRes] = useState(true);\r\n\r\n    const handleIsResByUser = (v) => {\r\n        setIsResByUser(v)\r\n        setIsLoadingRes(false)\r\n    }\r\n\r\n    const handleInscription = (v) => {\r\n        setInscription(v)\r\n    }\r\n\r\n    const handlePlacesRestantes = (v) => {\r\n        setPlacesRestantes(props.infos.nb_places - v)\r\n        setIsLoadingPr(false)\r\n    }\r\n    // TODO: nombre places restances + regles\r\n    useEffect(() => {\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/ReservationEvents/total/' + props.infos.id).then(res => handlePlacesRestantes(res.data)).catch(err => console.log(err))\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/ReservationEvents/isResByUser/' + props.infos.user_id).then(res => handleIsResByUser(res.data)).catch(err => console.log(err))\r\n     }, [inscription]);\r\n\r\n     let img = \"\"\r\n     let space = \"\"\r\n     switch(props.infos.id_space) {\r\n       case \"1\":\r\n         img = \"bastille.jpg\"\r\n         space = \"CO'WORK BASTILLE\"\r\n         break;\r\n       case \"2\":\r\n         img = \"republique.jpg\"\r\n         space = \"CO'WORK REPUBLIQUE\"\r\n         break;\r\n       case \"3\":\r\n         img = \"odeon.jpg\"\r\n         space = \"CO'WORK ODEON\"\r\n         break;\r\n       case \"4\":\r\n         img = \"place_italie.jpg\"\r\n         space = \"CO'WORK PLACE D'ITALIE\"\r\n         break;\r\n       case \"5\":\r\n         img = \"ternes.jpg\"\r\n         space = \"CO'WORK TERNES\"\r\n         break;\r\n       case \"6\":\r\n         img = \"beaubourg.jpg\"\r\n         space = \"CO'WORK BEAUBOURG\"\r\n         break;\r\n     }\r\n    return (\r\n      <>\r\n        <Card>\r\n          <Card.Img variant=\"top\" src={process.env.PUBLIC_URL + '/' + img} />\r\n          <Card.Body>\r\n            <Card.Title>{props.infos.nom}</Card.Title>\r\n            <Card.Subtitle className=\"mb-2 text-muted\">{space}</Card.Subtitle>\r\n            <>\r\n                <h5>\r\n                    {\"Places restantes: \"}\r\n                    {isLoadingPr && <Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\"/>}\r\n                    {!isLoadingPr && <Badge variant={placesRestantes > 0 ? (placesRestantes > props.infos.nb_places / 2 ? \"success\" : \"warning\") : \"danger\"}>{placesRestantes}</Badge>}\r\n                </h5>\r\n                <h5>{props.infos.description}</h5>\r\n            </>\r\n            {inscription !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={inscription ? \"success\" : \"danger\"}>\r\n                {inscription ? \"Inscription réussie !\" : \"L'inscription a échoué !\"}\r\n            </Alert></div>}\r\n          </Card.Body>\r\n          <Card.Footer>\r\n            {!isLoadingRes && <Button variant=\"primary\" onClick={() => InscriptionEvent(props.infos.user_id, props.infos.id, handleInscription)} disabled={placesRestantes <= 0 || isResByUser > 0}>\r\n                {placesRestantes <= 0 || isResByUser > 0 ? \"Vous êtes déja inscris\" : \"S'inscrire\"}\r\n            </Button>}\r\n            {isLoadingRes && <Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\"/>}\r\n          </Card.Footer>\r\n        </Card>\r\n      </>\r\n    );\r\n  }\r\n\r\nfunction InscriptionEvent(id_user, id_event, handleInscription) {\r\n    let inscription = false\r\n    let formData = new FormData();\r\n    formData.append('id_user', id_user);\r\n    formData.append('id_events', id_event);\r\n\r\n    fetch(\"https://cowork-paris.000webhostapp.com/index.php/ReservationEvents/\",\r\n        {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        .then(res=>res.json())\r\n        .then(res => {\r\n        if(res[0] === \"Reservation created successfully.\") {\r\n            inscription = Date.now // Pas trouvé mieux\r\n        }\r\n        handleInscription(inscription)\r\n        })\r\n        .catch(e => {\r\n            handleInscription(inscription)\r\n        })\r\n\r\n}","import React from 'react';\r\nimport {useState, useEffect} from 'react'\r\nimport './App.css';\r\nimport {Container, Row, Col, Spinner, CardDeck} from 'react-bootstrap'\r\nimport {InscriptionModal, ConnectionModal} from './components/modal'\r\nimport {Cards, CardsSpace} from './components/cards'\r\nimport {Header} from './components/header'\r\nimport {Footer} from './components/footer'\r\nimport {text_abonnement_residant, text_sans_abonnment, text_abonnment_simple, getCookie} from './util/util'\r\nimport {ProfileTab, CustomerReservations} from './components/profile'\r\nimport {validUser} from './components/inscription';\r\nimport {ReservationModal} from './components/reservation';\r\nimport {EvenemenentWrapper} from './components/evenement';\r\nimport axios from 'axios'\r\n\r\nfunction App() {\r\n  let userCookie = null\r\n  if(validUser({firstname: getCookie(\"firstname\"), lastname: getCookie(\"lastname\"), date_naissance: getCookie(\"date_naissance\"), email: getCookie(\"email\"), pwd: getCookie(\"pwd\"), id_abonnement: getCookie(\"id_abonnement\")})) {\r\n    userCookie = {id: getCookie(\"id\"), firstname: getCookie(\"firstname\"), lastname: getCookie(\"lastname\"), date_naissance: getCookie(\"date_naissance\"), email: getCookie(\"email\"), pwd: getCookie(\"pwd\"), id_abonnement: getCookie(\"id_abonnement\") === \"null\" ? null : getCookie(\"id_abonnmenent\")}\r\n  }\r\n\r\n  const [showI, setShowI] = useState(false);\r\n  const handleCloseI = () => setShowI(false);\r\n  const handleShowI = () => {\r\n    setShowI(true)\r\n  };\r\n\r\n  const [showC, setShowC] = useState(false);\r\n  const handleCloseC = () => setShowC(false);\r\n  const handleShowC = () => setShowC(true);\r\n\r\n  const [profile, showProfile] = useState(false);\r\n\r\n  const [user, setUser] = useState(userCookie);\r\n  const [home, showHome] = useState(true)\r\n  const [space, setSpace] = useState(null)\r\n\r\n  const [showReservation, setReservation] = useState(false)\r\n  const handleCloseR = () => setReservation(false);\r\n  const [nomSpace, setNomSpace] = useState(\"\")\r\n  const [idSpace, setIdSpace] = useState(\"\")\r\n\r\n  const [customerReservations, showCustomerReservations] = useState(false);\r\n  const [evenement, showEvenement] = useState(false);\r\n\r\n  const handleEvenements = () => {\r\n    showEvenement(true)\r\n    profile && showProfile(false)\r\n    home && showHome(false)\r\n    customerReservations && showCustomerReservations(false)\r\n  }\r\n\r\n  const handleReservation = (v, nom, id) => {\r\n    setNomSpace(nom)\r\n    setIdSpace(id)\r\n    setReservation(v)\r\n  }\r\n  const handleHome = (v) => {\r\n    setSpace(null)\r\n    showHome(v)\r\n    showCustomerReservations(!v)\r\n    showEvenement(!v)\r\n  }\r\n  const handleSpace = (v) => {\r\n    setSpace(v)\r\n  }\r\n  const handleProfile = (v) => {\r\n    showProfile(v)\r\n    showHome(!v)\r\n    showCustomerReservations(!v)\r\n    showEvenement(!v)\r\n  }\r\n\r\n  const handleCustomerReservations = (v) => {\r\n    showCustomerReservations(v)\r\n    showProfile(!v)\r\n    showHome(!v)\r\n    showEvenement(!v)\r\n  }\r\n\r\n  const handleUser = (v) => {\r\n    if(v === null) setSpace(null)\r\n    if(v !== {} && v !== user) {\r\n      setUser(v)\r\n    }\r\n  }\r\n  \r\n  useEffect(() => {\r\n    document.title = \"Co'work\"\r\n    if(home && user) axios.get('https://cowork-paris.000webhostapp.com/index.php/space').then(res => handleSpace(res.data)).catch(err => console.log(err))\r\n }, [user, home]);\r\n \r\n  return (\r\n    <div className=\"App\">\r\n      <Container fluid className=\"pl-0 pr-0\">\r\n        {showReservation && <ReservationModal data={{show: showReservation, handleClose: handleCloseR, nom: nomSpace, idSpace: idSpace, test: true, user: user}}/>}\r\n        {showI && <InscriptionModal data={{show: showI, handleClose: handleCloseI, handleUser: handleUser}} />}\r\n        {showC && <ConnectionModal data={{show: showC, handleClose: handleCloseC, handleUser: handleUser, user: user}}/>}\r\n          <Header data={{handleShowI, handleShowC, handleUser, handleProfile, handleHome, handleCustomerReservations, handleEvenements}}/>\r\n          <main className=\"p-3\">\r\n            <Row className={\"justify-content-lg-center\"}>\r\n              {home && !getCookie(\"id\") && \r\n              <>\r\n                <Col lg=\"auto\">\r\n                  <CardDeck>\r\n                    <Cards infos={{text:text_sans_abonnment, title:\"Sans abonnement\", subtitle:\"Payez le temps passé sur place, les consommations sont incluses et à volonté !\", type: 1}}/>\r\n                    <Cards infos={{text:text_abonnment_simple, title:\"Abonnement simple\", subtitle:\"Bénéficiez de tarifs préférentiels !\", type: 2}}/>\r\n                    <Cards infos={{text:text_abonnement_residant, title:\"Abonnement résident\", subtitle:\"Devenez membre résident !\", type: 3}}/>\r\n                  </CardDeck>\r\n                </Col>\r\n              </>}\r\n              <Col lg=\"8\">\r\n                {home && getCookie(\"id\") && !space && <Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  style={{width: \"5em\", height: \"5em\"}}\r\n                  />}\r\n                <Row>\r\n                <CardDeck>\r\n                  <Row>\r\n                  {home && getCookie(\"id\") && space && space.map(s => \r\n                    <Col lg=\"4 pb-3\">\r\n                      <CardsSpace key={s.id} data={{title: s.nom, id: s.id, handleReservation: handleReservation}}/>\r\n                    </Col>)}\r\n                    </Row>\r\n                </CardDeck>\r\n                  {/* TODO: Replace by card deck */}\r\n                </Row>\r\n              </Col>\r\n              \r\n            </Row>\r\n            {profile && getCookie(\"id\") && \r\n            <Row>\r\n              <Col lg=\"12\">\r\n                <ProfileTab user={{handleUser: handleUser, user: user}}/>\r\n              </Col>\r\n            </Row>}\r\n            {customerReservations && getCookie(\"id\") && \r\n            <Row>\r\n              <Col lg=\"12\">\r\n                <CustomerReservations data={{user}}/>\r\n              </Col>\r\n            </Row>}\r\n            {evenement && getCookie(\"id\") && \r\n            <Row>\r\n              <Col lg=\"auto\">\r\n                <EvenemenentWrapper data={{evenement, user}}/>\r\n              </Col>\r\n            </Row>\r\n            }\r\n          </main>\r\n          <Footer/>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}