{"version":3,"sources":["util/util.js","components/inscription.js","components/modal.js","components/connection.js","components/reservation.js","components/cards.js","components/header.js","components/footer.js","components/profile.js","components/evenement.js","App.js","serviceWorker.js","index.js"],"names":["setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","name","split","forEach","el","k","v","trim","deleteCookie","path","text_sans_abonnment","text_abonnment_simple","text_abonnement_residant","submitInscription","user","handleInscription","handleClose","console","log","validUser","JSON","stringify","firstname","lastname","date_naissance","email","pwd","formData","FormData","append","undefined","id_abonnement","id","fetch","body","method","then","res","json","catch","e","obj","attributes","i","Object","keys","length","includes","ConnectionModal","props","useState","setEmail","setPwd","isLoading","setIsLoading","data","Modal","show","onHide","Header","closeButton","Title","Body","Form","Group","controlId","Label","Control","type","placeholder","onKeyUp","event","target","value","bind","this","className","Button","variant","onClick","handleUser","axios","get","resA","key","Connection","disabled","Spinner","as","animation","size","role","aria-hidden","Alert","InscriptionModal","setFirstname","setLastname","setDate_naissance","successInscription","setsuccessInscription","handleDate_naissance","required","onChange","DetailsModal","defV","infos","setAbonnement","successSubscription","setSuccessSubscription","handleSuccessSubscription","subModal","setSubModal","title","handleFirstname","handleLastname","handleEmail","handlePwd","handleSub","handleSubscription","connected","user2","defaultValue","moment","add","format","SubscriptionModal","real_user","setUpdatedUser","handleSpace","userUpdate","updateUser","text","btnText","DateTimePicker","registerLocale","fr","startDate","setStartDate","excludeTime","setExcludeTime","minTime","setMinTime","maxTime","setMaxTime","CustomInput","style","borderColor","typeRes","disponible","status","borderWidth","useEffect","date","dateTimeStart","setHours","setMinutes","dateTimeEnd","typeSelect","horaireSpace","horaire_semaine_start","horaire_semaine_end","horaire_weekend_start","horaire_weekend_end","horaire_vendredi_start","horaire_vendredi_end","uri","reservation","formSelect","tmp2","tmp3","tmp","Number","push","locale","selected","handleDateTimeStart","handleDateTimeEnd","handleDate","customInput","showTimeSelect","timeIntervals","timeFormat","excludeTimes","timeCaption","dateFormat","intializeDate","setDateTimeStart","setDateTimeEnd","start","end","s","isBefore","isSameOrAfter","isSameOrBefore","ReservationModal","setType","isLoadingSpace","setIsLoadingSpace","isLoadingEquipment","setIsLoadingEquipment","privativeSpace","setPrivativeSpace","equipment","setEquipment","formPrivateSpace","setFormPrivateSpace","formEquipment","setFormEquipment","meal","setMeal","formMeal","setFormMeal","isLoadingMeal","setIsLoadingMeal","setReservation","privateDisponible","setPrivateDisponible","isLoadingPrivateDisponible","setIsLoadingPrivateDisponible","equipmentDisponible","setEquipmentDisponible","isLoadingEquipmentDisponible","setIsLoadingEquipmentDisponible","setHoraireSpace","isLoadingHoraireSpace","setIsLoadingHoraireSpace","handleReservation","idSpace","shift","replace","nom","map","width","height","msg","Footer","Reservation","form","inscription","url","Cards","setShow","Card","Subtitle","subtitle","Text","CardsSpace","img","Img","src","process","logout","handleHome","Navbar","bg","expand","Brand","Math","floor","random","href","Toggle","aria-controls","Collapse","Nav","handleShowC","handleShowI","DropdownButton","str","toLowerCase","charAt","toUpperCase","substring","alignRight","Dropdown","Item","handleProfile","handleCustomerReservations","handleEvenements","backgroundColor","borderTop","textAlign","padding","position","left","bottom","phantom","display","paddingTop","children","ProfileForm","successModification","setSuccessModification","handleSuccessModification","handleModification","submitModification","AbonnementTab","isLoadingDelete","setIsLoadingDelete","Jumbotron","abonnement","textPrelevement","idResAbonnement","setIsDelete","userForCookie","err","Resiliation","ProfileTab","activeTab","setActiveTab","profile","isDelete","created_at","setDate","getDate","Tabs","defaultActiveKey","onSelect","tab","handleSelect","Tab","eventKey","Row","Col","lg","ListReservations","Accordion","setIsDeleted","tmpLoad","Annuler","horaire_debut","horaire","CustomerReservations","privative","setPrivative","events","setEvents","isDeleted","stye","EvenemenentWrapper","eventsData","setEventsData","space","setSpace","handleEventsData","evenement","nativeEvent","CardDeck","CardsEvenement","user_id","nb_places","placesRestantes","setPlacesRestantes","setInscription","isResByUser","setIsResByUser","isLoadingPr","setIsLoadingPr","isLoadingRes","setIsLoadingRes","id_space","Badge","description","id_user","id_event","now","InscriptionEvent","App","userCookie","showI","setShowI","showC","setShowC","showProfile","setUser","home","showHome","showReservation","nomSpace","setNomSpace","setIdSpace","updatedUser","customerReservations","showCustomerReservations","showEvenement","Container","fluid","test","dismissible","Heading","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.b103f147.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const setCookie = (cname, cvalue, exdays) => {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\r\n    var expires = \"expires=\"+ d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\n\r\nexport const getCookie = (name) => {\r\n    let cookie = {};\r\n    document.cookie.split(';').forEach(function(el) {\r\n      let [k,v] = el.split('=');\r\n      cookie[k.trim()] = v;\r\n    })\r\n    return cookie[name];\r\n  }\r\n\r\nexport const deleteCookie = ( name, path ) => {\r\n    if( getCookie( name ) ) {\r\n      document.cookie = name + \"=\" +\r\n        ((path) ? \";path=\"+path:\"\")+\r\n        \";expires=Thu, 01 Jan 1970 00:00:01 GMT\";\r\n    }\r\n  }\r\n\r\n  export const upperCaseFirst = (str) => {\r\n    return str.charAt(0).toUpperCase() + str.substring(1);\r\n  }\r\n  \r\n  export const isEmpty = (obj) => {\r\n    return Object.keys(obj).length === 0;\r\n  }\r\n\r\n  export const text_sans_abonnment = (<><p>Payez le temps passé sur\r\n    place, les consommations\r\n    sont incluses et à volonté !</p>\r\n    <p>Accessible sans\r\n    réservation ou\r\n    abonnement.</p>\r\n    <p>Tarifs par personne :\r\n    Première heure : 5€\r\n    ½ heure suivante : 2,5€\r\n    Journée (5 heures et plus) :\r\n    24€\r\n    </p>\r\n    <p>Réduction étudiante :\r\n    Journée (5 heures et plus) :\r\n    20€\r\n    </p>\r\n    <p>Accès open space (sans\r\n    possibilité de changer\r\n    d'adresse)\r\n    Wifi\r\n    Snacking et boissons à\r\n    volonté\r\n    Cabines téléphonique\r\n    </p></>)\r\n  export const text_abonnment_simple = (<>\r\n    <p>Rejoignez la communauté\r\n  CO'WORK et bénéficiez de\r\n  tarifs préférentiels !</p>\r\n  <p>Tarifs membre par\r\n  personne :\r\n  Première heure : 4€\r\n  ½ heure suivante : 2€\r\n  Journée (5 heures et plus) :\r\n  20€</p>\r\n  <p>Devenir membre sans\r\n  engagement :\r\n  24€ TTC /mois</p>\r\n  <p>Devenir membre sans\r\n  engagement 12 mois :\r\n  20€ TTC /mois\r\n  </p>\r\n  <p>Accès open space\r\n  Wifi\r\n  Snacking et boissons à\r\n  volonté\r\n  Cabines téléphonique\r\n  Accès libre à tous les\r\n  espaces\r\n  Accès premium au HUB\r\n  </p>\r\n    </>)\r\n  export const text_abonnement_residant = (<>\r\n  <p>Rejoignez la communauté\r\n  CO'WORK et devenez\r\n  membre résident !</p>\r\n  <p>Bénéficiez d'un accès en\r\n  illimité 7/7j</p>\r\n  <p>Devenir membre résident\r\n  sans engagement :\r\n  300€ TTC /mois\r\n  </p>\r\n  <p>Devenir membre résident\r\n  avec engagement 8 mois:\r\n  252€ TTC /mois</p>\r\n  </>)","import {isEmpty, getCookie, setCookie} from '../util/util';\r\n\r\nexport function submitInscription(user, handleInscription, handleClose) {\r\n    console.log(user)\r\n    let inscription = false\r\n    if(validUser(user)) {\r\n      console.log(JSON.stringify({\r\n        firstname: user.firstname,\r\n        lastname: user.lastname,\r\n        date_naissance: user.date_naissance,\r\n        email: user.email,\r\n        pwd: user.pwd\r\n    }))\r\n    let formData = new FormData();\r\n    formData.append('firstname', user.firstname);\r\n    formData.append('lastname', user.lastname);\r\n    formData.append('date_naissance', user.date_naissance);\r\n    formData.append('email', user.email);\r\n    formData.append('pwd', user.pwd);\r\n    if(user.id_abonnement !== undefined && user.id_abonnement !== \"1\") { // 1 ou \"1\"\r\n      formData.append('id_abonnement', user.id_abonnement);\r\n      formData.append('id', user.id); // surement inutile\r\n    }\r\n    \r\n    fetch('https://cowork-paris.000webhostapp.com/index.php/user',\r\n        {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        .then(res=>res.json())\r\n        .then(res => {\r\n          console.log(res)\r\n        if(res[0] === \"User created successfully.\") {\r\n            inscription = true\r\n            handleInscription(true)\r\n            //handleClose()\r\n        }\r\n        })\r\n        .catch(e => {\r\n            handleInscription(false)\r\n        })\r\n    }\r\n  }\r\n\r\n  export function submitModification(user, real_user, handleModification, handleSuccessSubscription) {\r\n    //console.log(real_user)\r\n    let formData = new FormData();\r\n    let userUpdate = {}\r\n    for (const k in user) {\r\n        if(user[k].trim() !== \"\") {\r\n            console.log(user[k])\r\n            userUpdate[k] = user[k]\r\n            formData.append(k, user[k]);\r\n        }\r\n    }\r\n    fetch('https://cowork-paris.000webhostapp.com/index.php/user/update/'+real_user.id,\r\n        {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        .then(res=>res.json())\r\n        .then(res => {\r\n            if(res[0] === \"User updated successfully.\") {\r\n                console.log(real_user)\r\n                for (const key in userUpdate) {\r\n                    setCookie(key, userUpdate[key], 1)\r\n                 }\r\n                 handleModification({...userUpdate, id: real_user.id, id_abonnement: real_user.id_abonnement})\r\n                 handleSuccessSubscription(true)\r\n            } else {\r\n              handleSuccessSubscription(false)\r\n              handleModification(false)\r\n            }\r\n        })\r\n        .catch(e => {\r\n          handleSuccessSubscription(false)\r\n          handleModification(false)\r\n        })\r\n  }\r\n\r\n  export function updateUser(user, real_user, handleUser, setUpdatedUser, handleSpace) {\r\n    let formData = new FormData();\r\n    let userUpdate = real_user\r\n    for (const k in user) {\r\n        if(user[k].trim() !== \"\") {\r\n            console.log(user[k])\r\n            userUpdate[k] = user[k]\r\n            formData.append(k, user[k]);\r\n        }\r\n    }\r\n    fetch('https://cowork-paris.000webhostapp.com/index.php/user/update/'+userUpdate.id,\r\n        {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        .then(res=>res.json())\r\n        .then(res => {\r\n            if(res[0] === \"User updated successfully.\") {\r\n                console.log(\"ok\")\r\n                for (const key in user) {\r\n                    setCookie(key, user[key], 1)\r\n                 }\r\n                 console.log(userUpdate)\r\n                 handleUser(userUpdate)\r\n                 handleSpace(null)\r\n                 setUpdatedUser(true)\r\n            } else {\r\n              handleUser(false)\r\n              handleSpace(null)\r\n              setUpdatedUser(false)\r\n            }\r\n        })\r\n        .catch(e => {\r\n          handleUser(false)\r\n          handleSpace(null)\r\n          setUpdatedUser(false)\r\n        })\r\n  }\r\n\r\n  export function validUser(user) {\r\n    const attributes = [\"firstname\", \"lastname\", \"date_naissance\", \"email\", \"pwd\", \"id_abonnement\"]\r\n    let i = 0\r\n    if(!isEmpty(user)) {\r\n      for (const k in user) {\r\n        if(attributes.includes(k)) {\r\n          if(user[k] !== undefined && user[k] !== null && (typeof user[k] === \"string\" ? user[k].trim() !== \"\": true)) i++\r\n          else return false\r\n        }\r\n        else return false\r\n      }\r\n      if(attributes.length === i) return true\r\n      else if(attributes.length-1 === i && !(\"id_abonnement\" in user)) return true\r\n      else return false\r\n    }\r\n  }","import React, { useState } from 'react';\r\nimport {Form, Button,Modal, Spinner, Alert} from 'react-bootstrap'\r\nimport {Connection} from '../components/connection'\r\nimport {submitInscription, updateUser} from '../components/inscription'\r\nimport moment from 'moment'\r\n\r\nexport function ConnectionModal(props) {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [pwd, setPwd] = useState(\"\")\r\n    const [isLoading, setIsLoading] = useState(false)\r\n  \r\n    const handleEmail = (event) => {\r\n      setEmail(event.target.value)\r\n    }\r\n  \r\n    const handlePwd = (event) => {\r\n      setPwd(event.target.value)\r\n    }\r\n    console.log(props.data)\r\n    return (\r\n      <Modal show={props.data.show} onHide={props.data.handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Connection</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {(!props.data.user || props.data.user === \"deconnected\") && <Form>\r\n            <Form.Group controlId=\"formBasicEmail\">\r\n              <Form.Label>Mail</Form.Label>\r\n              <Form.Control type=\"email\" placeholder=\"Email\" onKeyUp={handleEmail.bind(this)}/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formBasicPassword\">\r\n              <Form.Label>Mot de passe</Form.Label>\r\n              <Form.Control type=\"password\" placeholder=\"Mot de passe\" onKeyUp={handlePwd.bind(this)}/>\r\n            </Form.Group>\r\n            <div className=\"text-center pt-3\">\r\n              <Button className=\"mb-3\" variant=\"primary\" onClick={() => {Connection(email, pwd, setIsLoading, props.data.handleUser)}} disabled={email.trim() === \"\" || pwd.trim() === \"\"}>\r\n              {isLoading && <Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                className=\"pr-2\"\r\n              />}\r\n                {!isLoading && \"Se connecter\"}\r\n              </Button>\r\n            </div>\r\n          </Form>}\r\n          {props.data.user !== null && props.data.user !== \"deconnected\" && <div className=\"text-center\"><Alert className=\"mb-0\" variant={props.data.user ? \"success\" : \"danger\"}>\r\n                {props.data.user && props.data.user !== \"disconnected\" ? \"Connection réussie\" : \"L'authentification a échoué\"}\r\n            </Alert></div>}\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  export function InscriptionModal(props) {\r\n    const[firstname, setFirstname] = useState(\"\")\r\n    const[lastname, setLastname] = useState(\"\")\r\n    const[date_naissance, setDate_naissance] = useState(\"\")\r\n    const[email, setEmail] = useState(\"\")\r\n    const[pwd, setPwd] = useState(\"\")\r\n    const[successInscription, setsuccessInscription] = useState(null)\r\n  \r\n    const handleFirstname = (event) => {\r\n      \r\n      setFirstname(event.target.value)\r\n    }\r\n    const handleLastname = (event) => {\r\n      \r\n      setLastname(event.target.value)\r\n    }\r\n    const handleDate_naissance = (event) => {\r\n      \r\n      setDate_naissance(event.target.value)\r\n    }\r\n    const handleEmail = (event) => {\r\n      \r\n      setEmail(event.target.value)\r\n    }\r\n    const handlePwd = (event) => {\r\n      \r\n      setPwd(event.target.value)\r\n    }\r\n\r\n    const handleInscription = (v) => {\r\n      \r\n      setsuccessInscription(v)\r\n    }\r\n\r\n    return (\r\n      <Modal show={props.data.show} onHide={props.data.handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Inscription</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group controlId=\"nom\">\r\n              <Form.Label>Nom</Form.Label>\r\n              <Form.Control type=\"text\" placeholder=\"Nom\" onKeyUp={handleLastname.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"prenom\">\r\n              <Form.Label>Prenom</Form.Label>\r\n              <Form.Control type=\"text\" placeholder=\"Prenom\" onKeyUp={handleFirstname.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"prenom\">\r\n              <Form.Label>Date de naissance</Form.Label>\r\n              <Form.Control type=\"date\" onKeyUp={handleDate_naissance.bind(this)} onChange={handleDate_naissance.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" placeholder=\"name@example.com\" onKeyUp={handleEmail.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"pwd\">\r\n              <Form.Label>Mot de passe</Form.Label>\r\n              <Form.Control type=\"password\" placeholder=\"Mot de passe\" onKeyUp={handlePwd.bind(this)} required/>\r\n            </Form.Group>\r\n            <div className=\"text-center pt-3\">\r\n              <Button className=\"mb-3\" variant=\"primary\" onClick={() => submitInscription({firstname, lastname, date_naissance, email, pwd}, handleInscription, props.data.handleClose)}>\r\n                S'inscrire\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n          {successInscription !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={successInscription ? \"success\" : \"danger\"}>\r\n                {successInscription ? \"Inscription réussie, vous pouvez maintenant vous connecter\" : \"L'inscription a échoué\"}\r\n            </Alert></div>}\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  export function SubscriptionModal(defV, handleFirstname, handleLastname, handleDate_naissance, handleEmail, handlePwd, handleSub, handleSubscription, successSubscription, connected, user, type, id_abonnement) {\r\n    let user2 = {...user}\r\n    console.log(id_abonnement)\r\n    return(\r\n      <>\r\n      <Form>\r\n        {!connected && !successSubscription && <><Form.Group controlId=\"nom\">\r\n          <Form.Label>Nom</Form.Label>\r\n          <Form.Control type=\"text\" placeholder=\"Nom\" onKeyUp={handleLastname.bind(this)} required/>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"prenom\">\r\n          <Form.Label>Prenom</Form.Label>\r\n          <Form.Control type=\"text\" placeholder=\"Prenom\" onKeyUp={handleFirstname.bind(this)} required/>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"prenom\">\r\n          <Form.Label>Date de naissance</Form.Label>\r\n          <Form.Control type=\"date\" onKeyUp={handleDate_naissance.bind(this)} onChange={handleDate_naissance.bind(this)} required/>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control type=\"email\" placeholder=\"name@example.com\" onKeyUp={handleEmail.bind(this)} required/>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"pwd\">\r\n          <Form.Label>Mot de passe</Form.Label>\r\n          <Form.Control type=\"password\" placeholder=\"Mot de passe\" onKeyUp={handlePwd.bind(this)} required/>\r\n        </Form.Group></>}\r\n        {!successSubscription && <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n          <Form.Label>Abonnement</Form.Label>\r\n          <Form.Control as=\"select\" defaultValue={defV} onChange={handleSub.bind(this)}>\r\n            {!connected && type === 0 && <option value=\"1\">Sans abonnement</option>}\r\n            {type === 1 && <option value=\"2\">Abonnement simple 12 mois puis sans engagement</option>}\r\n            {type === 1 && <option value=\"3\">Abonnement simple sans engagement</option>}\r\n            {type === 2 && <option value=\"4\">Abonnement résident 8 mois puis sans engagement</option>}\r\n            {type === 2 && <option value=\"5\">Abonnement résident sans engagement</option>}\r\n          </Form.Control>\r\n        </Form.Group>}\r\n        <p>{\"Prix : \" + (id_abonnement === \"1\" ? \"Gratuit\" : id_abonnement === \"2\" ? \"20€ TTC /mois \" : id_abonnement === \"3\" ? \"24€ TTC /mois \" : id_abonnement === \"4\" ? \"252€ TTC /mois \" : \"300€ TTC /mois\")}</p>\r\n        {id_abonnement !== \"1\" && <Alert key={1} variant=\"warning\">\r\n          {\"Le premier débit sera effectué le \" + moment(new Date()).add(1, 'monts').format(\"dddd DD MMMM YYYY\") + \" à \" +  moment(new Date()).add(1, 'monts').format(\"HH\") + \"h\" + moment(new Date()).add(1, 'monts').format(\"mm\")}\r\n        </Alert>}\r\n        {!successSubscription && <div className=\"text-center pt-3\">\r\n          <Button className=\"mb-3\" variant=\"primary\" onClick={()=>handleSubscription(user2)}>\r\n            Souscrire\r\n          </Button>\r\n        </div>}\r\n      </Form>\r\n      {successSubscription !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={successSubscription ? \"success\" : \"danger\"}>\r\n      {successSubscription ? (connected ? \"Souscription réussie !\" : \"Souscription réussie, vous pouvez maintenant vous connecter\") : \"La souscription a échoué\"}\r\n      </Alert></div>}\r\n      </>\r\n    );\r\n  }\r\n  \r\n  export function DetailsModal(props) {\r\n    let defV = \"1\"\r\n    if(props.infos.type === 0) defV = \"1\"\r\n    else if(props.infos.type === 1) defV = \"2\"\r\n    else defV = \"4\"\r\n\r\n    const[firstname, setFirstname] = useState(\"\")\r\n    const[lastname, setLastname] = useState(\"\")\r\n    const[date_naissance, setDate_naissance] = useState(\"\")\r\n    const[email, setEmail] = useState(\"\")\r\n    const[pwd, setPwd] = useState(\"\")\r\n    const[id_abonnement, setAbonnement] = useState(defV)\r\n    const[successSubscription, setSuccessSubscription] = useState(null)\r\n  \r\n    const handleFirstname = (event) => {\r\n      \r\n      setFirstname(event.target.value)\r\n    }\r\n    const handleLastname = (event) => {\r\n      \r\n      setLastname(event.target.value)\r\n    }\r\n    const handleDate_naissance = (event) => {\r\n      \r\n      setDate_naissance(event.target.value)\r\n    }\r\n    const handleEmail = (event) => {\r\n      \r\n      setEmail(event.target.value)\r\n    }\r\n    const handlePwd = (event) => {\r\n      \r\n      setPwd(event.target.value)\r\n    }\r\n    const handleSuccessSubscription = (v) => {\r\n      \r\n      setSuccessSubscription(v)\r\n    }\r\n    const handleAbonnement = (event) => {\r\n      \r\n      setAbonnement(event.target.value)\r\n    }\r\n    const [subModal, setSubModal] = useState(false)\r\n    const handleSubscriptionModal = () => {\r\n      setSubModal(true)\r\n    }\r\n  \r\n    const handleSubscription = (user) => {\r\n      if(!props.infos.connected) submitInscription({firstname, lastname, date_naissance, email, pwd, id_abonnement}, handleSuccessSubscription, props.infos.handleClose)\r\n      else updateUser({id_abonnement: \"\"+id_abonnement}, user, props.infos.handleUser, props.infos.setUpdatedUser, props.infos.handleSpace)\r\n    }\r\n\r\n    return (\r\n      <Modal show={props.infos.show} onHide={props.infos.handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{props.infos.title}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {subModal && SubscriptionModal(defV, handleFirstname, handleLastname, handleDate_naissance, handleEmail, handlePwd, handleAbonnement, handleSubscription, successSubscription, props.infos.connected, props.infos.user, props.infos.type, id_abonnement)}\r\n          {!subModal && props.infos.text}\r\n          {!subModal && <div className=\"text-center pt-3\">\r\n            <Button variant=\"success\" onClick={handleSubscriptionModal}>\r\n              {props.infos.btnText}\r\n            </Button>\r\n          </div>}\r\n        </Modal.Body>\r\n      </Modal>\r\n      )\r\n    }","import {setCookie} from '../util/util';\r\nimport axios from 'axios'\r\n\r\nexport function Connection(email, pwd, setIsLoading, handleUser) {\r\n    setIsLoading(true)\r\n    axios.get('https://cowork-paris.000webhostapp.com/index.php/user/show/'+email)\r\n    .then(res => {\r\n      console.log(res.data)\r\n      //delete res.data[\"admin\"]\r\n      if(res.data.pwd === pwd) {\r\n        console.log(\"nnnn\")\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/user/abonnement/'+res.data.id).then(resA => {\r\n          if(resA.data.length === 1) res.data[\"id_abonnement\"] = resA.data[0].id_abonnement\r\n          else res.data[\"id_abonnement\"] = \"null\"\r\n          for (const key in res.data) {\r\n            setCookie(key, res.data[key], 1)\r\n          }\r\n          handleUser(res.data)\r\n          setIsLoading(false)\r\n        })\r\n        .catch(e => {\r\n          for (const key in res.data) {\r\n            setCookie(key, res.data[key], 1)\r\n          }\r\n          handleUser(res.data)\r\n          setIsLoading(false)\r\n        })\r\n      }\r\n      else{\r\n        handleUser(false)\r\n        setIsLoading(false)\r\n      }\r\n    }).catch(e => {\r\n      handleUser(false)\r\n      setIsLoading(false)\r\n    })\r\n  }","import React, { useState, useEffect } from 'react';\r\nimport {Form, Button,Modal, Spinner, Alert, FormControl} from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport DatePicker, { registerLocale } from \"react-datepicker\";\r\nimport setHours from 'date-fns/setHours'\r\nimport setMinutes from 'date-fns/setMinutes'\r\nimport getHours from 'date-fns/setMinutes'\r\nimport fr from \"date-fns/locale/fr\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport moment from 'moment';\r\n\r\nconst DateTimePicker = (props) => {\r\n    registerLocale(\"fr\", fr);\r\n    const [startDate, setStartDate] = useState(null);\r\n    const [excludeTime, setExcludeTime] = useState([]);\r\n\r\n    const[minTime, setMinTime] = useState(null)\r\n    const[maxTime, setMaxTime] = useState(null)\r\n    const CustomInput = ({ value, onClick }) => (\r\n         <Form.Control type=\"text\" className=\"example-custom-input\" onClick={onClick} value={value} style={{borderColor: (props.data.typeRes === \"1\" || props.data.typeRes === \"2\") ? (!props.data.isLoading ? (props.data.disponible.status ? \"green\" : \"red\") : null) : null, borderWidth:  (props.data.typeRes === \"1\" || props.data.typeRes === \"2\") && !props.data.isLoading && \"2px\"}}/>\r\n      );\r\n    const handleDate = (date) => {\r\n        setStartDate(date)\r\n        if(props.data.handleDateTimeStart) props.data.handleDateTimeStart(date)\r\n        else if(props.data.handleDateTimeEnd) props.data.handleDateTimeEnd(date)\r\n        props.data.setIsLoading(true)\r\n    }\r\n    useEffect(() => {\r\n        if(!startDate) {\r\n            console.log(props.data.dateTimeStart)\r\n            let date\r\n            props.data.type === \"start\" ? date = setHours(setMinutes(new Date(), 0), moment(new Date(props.data.dateTimeStart)).format(\"H\")) : date = setHours(setMinutes(new Date(), 0), moment(new Date(props.data.dateTimeEnd)).format(\"H\"))\r\n            setStartDate(date)\r\n\r\n            const semaine = [\"lundi\",\"mardi\",\"mercredi\",\"jeudi\"]\r\n            const weekend = [\"samedi\",\"dimanche\"]\r\n            if(props.data.typeSelect === \"1\" || props.data.typeSelect === \"2\") {\r\n                if(semaine.includes(moment(new Date()).format(\"dddd\"))) {\r\n                    setMinTime(setHours(setMinutes(new Date(), 0), props.data.horaireSpace.horaire_semaine_start.split(\":\")[0]))\r\n                    setMaxTime(setHours(setMinutes(new Date(), 0), props.data.horaireSpace.horaire_semaine_end.split(':')[0]))\r\n                }\r\n                else if(weekend.includes(moment(new Date()).format(\"dddd\"))) {\r\n                    setMinTime(setHours(setMinutes(new Date(), 0), props.data.horaireSpace.horaire_weekend_start.split(\":\")[0]))\r\n                    setMaxTime(setHours(setMinutes(new Date(), 0), props.data.horaireSpace.horaire_weekend_end.split(':')[0]))\r\n                }\r\n                else {\r\n                    setMinTime(setHours(setMinutes(new Date(), 0), props.data.horaireSpace.horaire_vendredi_start.split(\":\")[0]))\r\n                    setMaxTime(setHours(setMinutes(new Date(), 0), props.data.horaireSpace.horaire_vendredi_end.split(':')[0]))\r\n                }\r\n            }\r\n            else { // Meal\r\n                setMinTime(setHours(setMinutes(new Date(), 0), 12))\r\n                setMaxTime(setHours(setMinutes(new Date(), 0), 14))\r\n            }\r\n        }\r\n        if((startDate || props.data.reservation) && (moment(new Date(props.data.dateTimeStart)).format(\"YYYY-MM-DD\") === moment(new Date(props.data.dateTimeEnd)).format(\"YYYY-MM-DD\"))) {\r\n            console.log(props.data.type)\r\n            let uri\r\n            props.data.typeSelect === \"1\" ? uri = \"ReservationPrivateSpace/reservationByPrivateSpace/\" : uri = \"ReservationEquipment/reservationByEquipment/\"\r\n            axios.get('https://cowork-paris.000webhostapp.com/index.php/'+ uri + props.data.formSelect+\"/\"+moment(new Date(startDate)).format(\"YYYY-MM-DD\"))\r\n            .then(res => {\r\n                console.log(res.data)\r\n                let tmp = []\r\n                let tmp2\r\n                let tmp3\r\n                for (const el of res.data) {\r\n                    console.log(el[\"horaire_debut\"])\r\n                    if(props.data.type === \"start\") {\r\n                        tmp2 = Number(moment(new Date(el[\"horaire_debut\"])).format(\"H\"))\r\n                        tmp3 = Number(moment(new Date(el[\"horaire_fin\"])).format(\"H\"))\r\n                    } else {\r\n                        tmp2 = Number(moment(new Date(el[\"horaire_debut\"])).format(\"H\")) + 1\r\n                        tmp3 = Number(moment(new Date(el[\"horaire_fin\"])).format(\"H\")) + 1\r\n                    }\r\n\r\n                    for(let i = tmp2; i < tmp3; i++) {\r\n                        tmp.push(setHours(setMinutes(new Date(), 0), i))\r\n                    }\r\n                }\r\n                setExcludeTime(tmp)\r\n            })\r\n            .catch(e => null)\r\n        }\r\n    }, [startDate, props.data.formSelect, props.data.reservation])\r\n    \r\n    return (\r\n      <DatePicker\r\n        locale=\"fr\"\r\n        selected={startDate}\r\n        onChange={date => handleDate(date)}\r\n        customInput={<CustomInput />}\r\n        showTimeSelect\r\n        timeIntervals={60}\r\n        timeFormat=\"HH:mm\"\r\n        // Max et min en fonction des horaires d'ouvertures du space\r\n        minTime={minTime}\r\n        maxTime={maxTime}\r\n        excludeTimes={excludeTime}\r\n        // Construire un tableau d'excludes times pour les horaires non disponibles\r\n        timeCaption=\"Heure\"\r\n        dateFormat=\"d/MM/yyyy HH:mm\"\r\n      />\r\n    );\r\n  };\r\n\r\nfunction intializeDate(type, dateTimeStart, dateTimeEnd, setDateTimeStart, setDateTimeEnd) {\r\n    if((type === \"1\" || type === \"2\") && !dateTimeStart && !dateTimeEnd) {\r\n        let start\r\n        let end\r\n        if(moment(new Date()).format('m') !== \"0\") {\r\n\r\n            start = moment(new Date()).add(1, 'hours').format('YYYY-MM-DD HH:00')\r\n            //console.log(start)\r\n            end = moment(new Date()).add(2, 'hours').format('YYYY-MM-DD HH:00')\r\n        }\r\n        else {\r\n            start = moment(new Date()).format('YYYY-MM-DD HH:00')\r\n            end = moment(new Date()).format('YYYY-MM-DD HH:00')\r\n        }\r\n        setDateTimeStart(start)\r\n        setDateTimeEnd(end)\r\n    }\r\n    if(type === \"3\" && !dateTimeStart) {\r\n        let s\r\n        console.log(moment(new Date()).isBefore(new Date().setHours(12)))\r\n        if(moment(new Date()).isBefore(new Date().setHours(12))) {\r\n            s = moment(new Date()).format('YYYY-MM-DD 12:00')\r\n        }\r\n        else if(moment(new Date()).isSameOrAfter(new Date().setHours(12)) && moment(new Date()).isSameOrBefore(new Date().setHours(14))) {\r\n            if(moment(new Date()).format('m') !== \"0\") {\r\n\r\n                s = moment(new Date()).add(1, 'hours').format('YYYY-MM-DD HH:00')\r\n            }\r\n            else {\r\n                s = moment(new Date()).format('YYYY-MM-DD HH:00')\r\n            }\r\n        }\r\n        else s = moment(new Date().setHours(12)).add(1, 'days').format('YYYY-MM-DD HH:00')\r\n        console.log(s)\r\n        setDateTimeStart(s)\r\n    }\r\n}\r\n\r\nexport function ReservationModal(props) {\r\n    const[type, setType] = useState(\"1\")\r\n    const[isLoadingSpace, setIsLoadingSpace] = useState(true)\r\n    const[isLoadingEquipment, setIsLoadingEquipment] = useState(true)\r\n    const[privativeSpace, setPrivativeSpace] = useState([]) // Tous, pour pouvoir créer le select\r\n    const[equipment, setEquipment] = useState([])\r\n    const[formPrivateSpace, setFormPrivateSpace] = useState(null) // Celui selectionné dans le select\r\n    const[formEquipment, setFormEquipment] = useState(null)\r\n    const[meal, setMeal] = useState([])\r\n    const[formMeal, setFormMeal] = useState(null)\r\n    const[isLoadingMeal, setIsLoadingMeal] = useState(true)\r\n\r\n\r\n\r\n    const[dateTimeStart, setDateTimeStart] = useState(null)\r\n    const[dateTimeEnd, setDateTimeEnd] = useState(null)\r\n    const[reservation, setReservation] = useState(null)\r\n    const[privateDisponible, setPrivateDisponible] = useState(null)\r\n    const[isLoadingPrivateDisponible, setIsLoadingPrivateDisponible] = useState(true)\r\n\r\n    const[equipmentDisponible, setEquipmentDisponible] = useState(null)\r\n    const[isLoadingEquipmentDisponible, setIsLoadingEquipmentDisponible] = useState(true)\r\n\r\n    const[horaireSpace, setHoraireSpace] = useState(null)\r\n    const[isLoadingHoraireSpace, setIsLoadingHoraireSpace] = useState(true)\r\n\r\n    const handleType = (event) => {\r\n        if(event.target.value === \"1\" || event.target.value === \"2\") setIsLoadingSpace(true)\r\n        if(event.target.value === \"2\") setIsLoadingEquipment(true)\r\n        if(event.target.value === \"3\") setIsLoadingMeal(true)\r\n        handleReservation(null)\r\n        setType(event.target.value)\r\n        if(event.target.value === \"1\" ) setIsLoadingPrivateDisponible(true) // Plus tard enlever le if\r\n        intializeDate(type, dateTimeStart, dateTimeEnd, setDateTimeStart, setDateTimeEnd)\r\n    }\r\n\r\n    const handleFormPrivateSpace = (event) => {\r\n        setIsLoadingPrivateDisponible(true)\r\n        setFormPrivateSpace(event.target.value)\r\n    }\r\n\r\n    const handleFormEquipment = (event) => {\r\n        setIsLoadingEquipmentDisponible(true)\r\n        setFormEquipment(event.target.value)\r\n    }\r\n\r\n    const handleFormMeal = (event) => {\r\n        setFormMeal(event.target.value)\r\n    }\r\n\r\n    const handleDateTimeStart = (v) => {\r\n        console.log(v)\r\n        setDateTimeStart(moment(v).format('YYYY-MM-DD HH:mm'))\r\n    }\r\n\r\n    const handleDateTimeEnd = (v) => {\r\n        setDateTimeEnd(moment(v).format('YYYY-MM-DD HH:mm'))\r\n    }\r\n\r\n    const handleReservation = (v) => {\r\n        type === \"1\" ? setIsLoadingPrivateDisponible(true) : setIsLoadingEquipmentDisponible(true)\r\n        setReservation(v)\r\n    }\r\n    \r\n    useEffect(() => {\r\n        // Changer jour quand 23h01\r\n        intializeDate(type, dateTimeStart, dateTimeEnd, setDateTimeStart, setDateTimeEnd)\r\n\r\n        console.log(\"use_effect\")\r\n        if((type === \"1\" || type === \"2\" && dateTimeStart && dateTimeEnd) || (type === \"3\" && dateTimeStart)) {\r\n            if(type === \"1\" || (type === \"2\" && isLoadingSpace)) {\r\n                axios.get('https://cowork-paris.000webhostapp.com/index.php/PrivativeSpace/space/'+ props.data.idSpace)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    setIsLoadingSpace(false)\r\n                    setPrivativeSpace(res.data)\r\n                    if(!formPrivateSpace) setFormPrivateSpace([...res.data].shift().id)\r\n                })\r\n                .catch(e => setIsLoadingSpace(false))\r\n            }\r\n            if(type === \"2\" && isLoadingEquipment) {\r\n                axios.get('https://cowork-paris.000webhostapp.com/index.php/Equipment/space/'+ props.data.idSpace)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    setIsLoadingEquipment(false)\r\n                    setEquipment(res.data)\r\n                    if(!formEquipment) setFormEquipment([...res.data].shift().id)\r\n                })\r\n                .catch(e => setIsLoadingEquipment(false))\r\n            }\r\n            if(type === \"3\" && isLoadingMeal) {\r\n                axios.get('https://cowork-paris.000webhostapp.com/index.php/Meal/space/'+ props.data.idSpace)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    setIsLoadingMeal(false)\r\n                    setMeal(res.data)\r\n                    setFormMeal([...res.data].shift().id)\r\n                })\r\n                .catch(e => setIsLoadingMeal(false))\r\n            }\r\n            if(type === \"1\" && isLoadingPrivateDisponible && formPrivateSpace) {\r\n                console.log(\"ok\")\r\n                console.log(formPrivateSpace)\r\n                console.log(isLoadingPrivateDisponible)\r\n                axios.get('https://cowork-paris.000webhostapp.com/index.php/ReservationPrivateSpace/disponible/'+formPrivateSpace+\"/\"+dateTimeStart.replace(\" \", \"+\")+\"/\"+dateTimeEnd.replace(\" \", \"+\"))\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    setPrivateDisponible(res.data)\r\n                    setIsLoadingPrivateDisponible(false)\r\n                })\r\n                .catch(e => setIsLoadingPrivateDisponible(false))\r\n            }\r\n            if(type === \"2\" && isLoadingEquipmentDisponible && formEquipment) {\r\n                console.log(\"ok\")\r\n                console.log(formEquipment)\r\n                console.log(isLoadingEquipmentDisponible)\r\n                axios.get('https://cowork-paris.000webhostapp.com/index.php/ReservationEquipment/disponible/'+formEquipment+\"/\"+dateTimeStart.replace(\" \", \"+\")+\"/\"+dateTimeEnd.replace(\" \", \"+\"))\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    setEquipmentDisponible(res.data)\r\n                    setIsLoadingEquipmentDisponible(false)\r\n                })\r\n                .catch(e => setIsLoadingEquipmentDisponible(false))\r\n            }\r\n            if(isLoadingHoraireSpace) {\r\n                axios.get('https://cowork-paris.000webhostapp.com/index.php/Space/horaires/'+props.data.idSpace)\r\n                    .then(res => {\r\n                        console.log(res.data)\r\n                        setHoraireSpace(res.data)\r\n                        setIsLoadingHoraireSpace(false)\r\n                    })\r\n                    .catch(e => setIsLoadingHoraireSpace(false))\r\n            }\r\n        }\r\n\r\n    }, [props.data.idSpace, isLoadingPrivateDisponible, formPrivateSpace, type, formEquipment, isLoadingEquipmentDisponible, dateTimeStart, dateTimeEnd]);\r\n\r\n    return(\r\n        <>\r\n        <Modal show={props.data.show} onHide={props.data.handleClose} size=\"lg\">\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{\"Réservation \" + props.data.nom}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n          <Form>\r\n          <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                <Form.Label>Type</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={type} onChange={handleType.bind(this)}>\r\n                <option value=\"1\">Espace privatif</option>\r\n                <option value=\"2\">Prêts de matériels</option>\r\n                <option value=\"3\">Commandes de plateaux repas</option>\r\n                </Form.Control>\r\n            </Form.Group>\r\n            {(type === \"1\") && !isLoadingSpace &&\r\n            <>\r\n            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                <Form.Label>Espace privatifs</Form.Label>\r\n                <Form.Control as=\"select\" onChange={handleFormPrivateSpace.bind(this)}>\r\n                    {privativeSpace.map(v => <option key={v.id} value={v.id}>{v.nom}</option>)}\r\n                </Form.Control>\r\n            </Form.Group>\r\n            </>}\r\n            {type === \"2\" && !isLoadingEquipment &&  <Form.Group controlId=\"exampleForm.ControlSelect2\">\r\n                <Form.Label>Equipements</Form.Label>\r\n                <Form.Control as=\"select\" onChange={handleFormEquipment.bind(this)}>\r\n                    {equipment.map(v => <option value={v.id}>{v.nom}</option>)}\r\n                </Form.Control>\r\n            </Form.Group>\r\n            }\r\n            {((type === \"1\" && !isLoadingSpace && !isLoadingHoraireSpace && formPrivateSpace) || (type === \"2\" && !isLoadingSpace && !isLoadingEquipment && formEquipment)) && dateTimeStart && dateTimeEnd && <>\r\n            <Form.Group>\r\n                <Form.Label>Date et heure de début</Form.Label>\r\n                <Form.Group><DateTimePicker data={{handleDateTimeStart, type: \"start\", setIsLoading: type === \"1\" ? setIsLoadingPrivateDisponible : setIsLoadingEquipmentDisponible, disponible: type === \"1\" ? privateDisponible: equipmentDisponible, isLoading: type === \"1\" ? isLoadingPrivateDisponible : isLoadingEquipmentDisponible, typeRes: type, horaireSpace, formSelect: type === \"1\" ? formPrivateSpace : formEquipment, dateTimeStart, dateTimeEnd, reservation, typeSelect: type}} /></Form.Group>\r\n            </Form.Group>\r\n            <Form.Group>\r\n                <Form.Label>Date et heure de fin</Form.Label>\r\n                <Form.Group><DateTimePicker data={{handleDateTimeEnd, type: \"end\", setIsLoading: type === \"1\" ? setIsLoadingPrivateDisponible : setIsLoadingEquipmentDisponible, disponible: type === \"1\" ? privateDisponible: equipmentDisponible, isLoading: type === \"1\" ? isLoadingPrivateDisponible : isLoadingEquipmentDisponible, typeRes: type, horaireSpace, formSelect: type === \"1\" ? formPrivateSpace : formEquipment, dateTimeStart, dateTimeEnd, reservation, typeSelect: type}} /></Form.Group>\r\n            </Form.Group>\r\n            </>}\r\n            {type === \"3\" && !isLoadingMeal && \r\n            <>\r\n            <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                <Form.Label>Plateaux repas</Form.Label>\r\n                <Form.Control as=\"select\" onChange={handleFormMeal.bind(this)}>\r\n                    {meal.map(v => <option value={v.id}>{v.nom}</option>)}\r\n                </Form.Control>\r\n            </Form.Group>\r\n            <Form.Group>\r\n                <Form.Label>Date et heure</Form.Label>\r\n                <Form.Group><DateTimePicker data={{handleDateTimeStart, type: \"start\", setIsLoading: setIsLoadingPrivateDisponible, typeRes: type, horaireSpace, dateTimeStart}}/></Form.Group>\r\n            </Form.Group>\r\n            </>\r\n            }\r\n            {(isLoadingSpace || (type === \"2\" && isLoadingEquipment) || (type === \"3\" && isLoadingMeal)) && <div className=\"text-center\"><Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                variant=\"primary\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                style={{width: \"5em\", height: \"5em\"}}\r\n                /></div>\r\n            }\r\n            </Form>\r\n            {type === \"1\" && !isLoadingPrivateDisponible && <div className=\"text-center pb-3\"><Alert className=\"mb-0\" variant={privateDisponible.status ? \"info\" : \"danger\"}>\r\n                {privateDisponible.msg}\r\n            </Alert></div>}\r\n            {type === \"2\" && !isLoadingEquipmentDisponible && <div className=\"text-center pb-3\"><Alert className=\"mb-0\" variant={equipmentDisponible.status ? \"info\" : \"danger\"}>\r\n                {equipmentDisponible.msg}\r\n            </Alert></div>}\r\n            {reservation !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={reservation ? \"success\" : \"danger\"}>\r\n                {reservation ? \"Réservation réussie !\" : \"La réservation a échoué !\"}\r\n            </Alert></div>}\r\n          </Modal.Body>\r\n          <Modal.Footer className=\"justify-content-center\">\r\n            {(type === \"1\" && !isLoadingPrivateDisponible || type === \"2\" && !isLoadingEquipmentDisponible || type === \"3\") && <Button variant=\"success\" onClick={() => Reservation({type, form: type === \"1\" ? formPrivateSpace : type === \"2\" ? formEquipment : formMeal, dateTimeStart, dateTimeEnd}, handleReservation, props.data.user)} disabled={(type === \"1\" && !privateDisponible.status) || (type === \"2\" && !equipmentDisponible.status)}>\r\n              Réserver\r\n            </Button>}\r\n            {((type === \"1\" && isLoadingPrivateDisponible) || (type === \"2\" && isLoadingEquipmentDisponible)) && <Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\" />}\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n\r\n  const Reservation = (data, handleReservation, user) => {\r\n      let inscription = false\r\n      let url = false\r\n      if(data) {\r\n        let formData = new FormData();\r\n        if(data.type === \"1\") {\r\n            url = \"https://cowork-paris.000webhostapp.com/index.php/ReservationPrivateSpace\"\r\n            formData.append('horaire_debut', data.dateTimeStart);\r\n            formData.append('horaire_fin', data.dateTimeEnd);\r\n            formData.append('id_espace_privatif', data.form);\r\n            formData.append('id_user', user.id);\r\n        }\r\n        if(data.type === \"2\") {\r\n            url = \"https://cowork-paris.000webhostapp.com/index.php/ReservationEquipment\"\r\n            formData.append('horaire_debut', data.dateTimeStart);\r\n            formData.append('horaire_fin', data.dateTimeEnd);\r\n            formData.append('id_equipment', data.form);\r\n            formData.append('id_user', user.id);\r\n        }\r\n        if(data.type === \"3\") {\r\n            url = \"https://cowork-paris.000webhostapp.com/index.php/ReservationMeal\"\r\n            formData.append('horaire', data.dateTimeStart);\r\n            formData.append('id_meal', data.form);\r\n            formData.append('id_user', user.id);\r\n        }\r\n        if(url) {\r\n            fetch(url,\r\n                {\r\n                    body: formData,\r\n                    method: \"post\"\r\n                })\r\n                .then(res=>res.json())\r\n                .then(res => {\r\n                if(res[0] === \"Reservation created successfully.\") {\r\n                    inscription = true\r\n                }\r\n                handleReservation(inscription)\r\n                })\r\n                .catch(e => {\r\n                    handleReservation(inscription)\r\n                })\r\n            }\r\n        }\r\n    }","import React, { useState } from 'react';\r\nimport {Button, Card} from 'react-bootstrap'\r\nimport {DetailsModal} from '../components/modal'\r\nimport {getCookie} from '../util/util'\r\nimport axios from 'axios';\r\nimport {Col} from 'react-bootstrap'\r\nimport {SubscriptionModal} from '../components/reservation'\r\n\r\nexport function Cards(props) {\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    let text = \"\"\r\n    if(props.infos.type === 0) {\r\n      text = (<>\r\n        <div className=\"font-weight-bold pb-1 pt-2\">Tarifs par personne :</div>\r\n        Première heure : 5€<br/>\r\n        ½ heure suivante : 2,5€<br/>\r\n        Journée (5 heures et plus) : 24€<br/>\r\n        <div className=\"font-weight-bold pb-1 pt-2\">Réduction étudiante :</div>\r\n        Journée (5 heures et plus) :<br/>\r\n        20€</>)\r\n    }\r\n    else if(props.infos.type === 1) {\r\n      text = (<>\r\n        <div className=\"font-weight-bold pb-1 pt-2\">Tarifs membre par personne :</div>\r\n        Première heure : 4€<br/>\r\n        ½ heure suivante : 2€<br/>\r\n        Journée (5 heures et plus) : 20€<br/>\r\n        <div className=\"font-weight-bold pb-1 pt-2\">Devenir membre sans engagement :</div>\r\n        24€ TTC /Mois<br/>\r\n        <div className=\"font-weight-bold pb-1 pt-2\">Devenir membre 12 mois:</div>\r\n        20€ TTC /Mois<br/>\r\n        </>)\r\n    }\r\n    else if(props.infos.type === 2) {\r\n      text = (<>\r\n        <div className=\"font-weight-bold pb-5 pt-2\">Bénéficiez d'un accès en illimité 7/7j</div>\r\n        <div className=\"font-weight-bold pb-1\">Devenir membre résident sans engagement :</div>\r\n        300 TTC /Mois<br/>\r\n        <div className=\"font-weight-bold pb-1 pt-2\">Devenir membre 8 mois:</div>\r\n        252€ TTC /Mois<br/>\r\n        </>)\r\n    }\r\n    return (\r\n      <>\r\n        <Card>\r\n          <Card.Body>\r\n            <Card.Title>{props.infos.title}</Card.Title>\r\n            <Card.Subtitle className=\"mb-2 text-muted\">{props.infos.subtitle}</Card.Subtitle>\r\n            <Card.Text>\r\n              {text}\r\n            </Card.Text>   \r\n          </Card.Body>\r\n          <Card.Footer>\r\n          <Button variant=\"primary\" onClick={handleShow}>\r\n              En savoir plus\r\n            </Button>\r\n          </Card.Footer>\r\n        </Card>\r\n        {show && <DetailsModal infos={{title: props.infos.title, show: show, handleClose: handleClose, text: props.infos.text, btnText: \"S'inscrire\", type: props.infos.type, connected: props.infos.connected, subtitle: props.infos.subtitle, user: props.infos.user, handleUser: props.infos.handleUser, setUpdatedUser: props.infos.setUpdatedUser, handleSpace: props.infos.handleSpace}}/>}\r\n      </>\r\n    );\r\n  }\r\n\r\nexport function CardsSpace(props) {\r\n  let img = \"\"\r\n  switch(props.data.id) {\r\n    case \"1\":\r\n      img = \"bastille.jpg\"\r\n      break;\r\n    case \"2\":\r\n      img = \"republique.jpg\"\r\n      break;\r\n    case \"3\":\r\n      img = \"odeon.jpg\"\r\n      break;\r\n    case \"4\":\r\n      img = \"place_italie.jpg\"\r\n      break;\r\n    case \"5\":\r\n      img = \"ternes.jpg\"\r\n      break;\r\n    case \"6\":\r\n      img = \"beaubourg.jpg\"\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card className='h-100' style={{ width: '18rem' }} id={props.data.id}>\r\n        <Card.Img variant=\"top\" src={process.env.PUBLIC_URL + '/' + img} />\r\n        <Card.Body>\r\n          <Card.Title>{props.data.title}</Card.Title>\r\n          <Card.Subtitle className=\"mb-2 text-muted\"></Card.Subtitle>\r\n          <Card.Text>\r\n          </Card.Text>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <Button key={props.data.id} variant=\"primary\" onClick={()=>props.data.handleReservation(true, props.data.title, props.data.id)}>\r\n            Réserver\r\n          </Button>\r\n        </Card.Footer>\r\n      </Card>\r\n      </>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport {Navbar,Nav, NavDropdown, Button, DropdownButton, Dropdown } from 'react-bootstrap'\r\nimport {getCookie, deleteCookie, upperCaseFirst} from '../util/util';\r\n\r\nconst deleteUser = () => {\r\n  deleteCookie(\"id\", \"/\")\r\n  deleteCookie(\"firstname\", \"/\")\r\n  deleteCookie(\"lastname\", \"/\")\r\n  deleteCookie(\"date_naissance\", \"/\")\r\n  deleteCookie(\"email\", \"/\")\r\n  deleteCookie(\"pwd\", \"/\")\r\n  deleteCookie(\"id_abonnement\", \"/\")\r\n}\r\n\r\nconst logout = (props) => {\r\n  deleteUser()\r\n  props.data.handleUser(null)\r\n  props.data.handleHome(true)\r\n}\r\n\r\nexport function Header(props) {\r\n  console.log(props)\r\n    return (\r\n      <>\r\n        <Navbar bg=\"primary\" variant=\"dark\" expand=\"lg\" className='py-md-3'>\r\n          <Navbar.Brand onClick={()=>{props.data.handleHome(Math.floor(Math.random() * 100) + 1)}} href=\"#\">Co'Work</Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav className=\"mr-auto\">\r\n            </Nav>\r\n            <Nav>\r\n              {!props.data.user && <Button variant=\"outline-light\" className=\"mr-sm-2\" onClick={props.data.handleShowC}>Connection</Button>}\r\n              {!props.data.user && <Button variant=\"outline-light\" className=\"mr-sm-2\" onClick={props.data.handleShowI}>Inscription</Button>}\r\n              {props.data.user && <DropdownButton id=\"dropdown-item-button\" title={upperCaseFirst(props.data.user.firstname.toLowerCase())} className=\"person-circle\" alignRight>\r\n              <Dropdown.Item as=\"button\" onClick={() => props.data.handleProfile(true)}>Profil</Dropdown.Item>\r\n              {props.data.user.id_abonnement !== \"null\" && props.data.user.id_abonnement !== \"1\" && <><Dropdown.Item as=\"button\" onClick={() => props.data.handleCustomerReservations(true)}>Réservations</Dropdown.Item>\r\n              <Dropdown.Item as=\"button\" onClick={() => props.data.handleEvenements()}>Evenement</Dropdown.Item></>}\r\n              <Dropdown.Item as=\"button\" onClick={() => logout(props)}>Déconection</Dropdown.Item>\r\n            </DropdownButton>}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </>\r\n    );\r\n  }","import {Card, Navbar, NavbarBrand, Container} from 'react-bootstrap'\r\nimport React from 'react';\r\n\r\nexport function Footer2() {\r\n    return (\r\n      <Card bg=\"primary\" text=\"light\">\r\n        <Card.Body>\r\n          <blockquote className=\"blockquote mb-0\">\r\n            <p>\r\n              {' '}\r\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere\r\n              erat a ante.{' '}\r\n            </p>\r\n          </blockquote>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  var style = {\r\n    backgroundColor: \"#F8F8F8\",\r\n    borderTop: \"1px solid #E7E7E7\",\r\n    textAlign: \"center\",\r\n    padding: \"20px\",\r\n    position: \"fixed\",\r\n    left: \"0\",\r\n    bottom: \"0\",\r\n    height: \"60px\",\r\n    width: \"100%\",\r\n}\r\n\r\nvar phantom = {\r\n  display: 'block',\r\n  padding: '20px',\r\n  height: '60px',\r\n  width: '100%',\r\n  paddingTop: \"50vh\"\r\n}\r\n\r\nexport function Footer({ children }) {\r\n    return (\r\n        <div>\r\n            <div style={phantom} />\r\n            <div style={style}>\r\n                { children }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport {Tabs, Form, Button, Tab, Col, Row, Jumbotron, Accordion, Card, Spinner, Alert, useAccordionToggle} from 'react-bootstrap'\r\nimport {submitModification} from '../components/inscription'\r\nimport { getCookie, setCookie } from '../util/util'\r\nimport axios from 'axios'\r\nimport moment from 'moment';\r\nimport 'moment/locale/fr';\r\nimport {deleteCookie} from '../util/util';\r\n\r\nfunction ProfileForm(props) {\r\n  console.log(props.user.user)\r\n    const[firstname, setFirstname] = useState(getCookie(\"firstname\"))\r\n    const[lastname, setLastname] = useState(getCookie(\"lastname\"))\r\n    const[date_naissance, setDate_naissance] = useState(getCookie(\"date_naissance\"))\r\n    const[email, setEmail] = useState(getCookie(\"email\"))\r\n    const[pwd, setPwd] = useState(getCookie(\"pwd\"))\r\n    const[successModification, setSuccessModification] = useState(null)\r\n\r\n    const handleSuccessModification = (v) => {\r\n      setSuccessModification(v)\r\n    }\r\n  \r\n    const handleFirstname = (event) => {\r\n      \r\n      setFirstname(event.target.value)\r\n    }\r\n    const handleLastname = (event) => {\r\n      \r\n      setLastname(event.target.value)\r\n    }\r\n    const handleDate_naissance = (event) => {\r\n      \r\n      setDate_naissance(event.target.value)\r\n    }\r\n    const handleEmail = (event) => {\r\n      \r\n      setEmail(event.target.value)\r\n    }\r\n    const handlePwd = (event) => {\r\n      \r\n      setPwd(event.target.value)\r\n    }\r\n    const user = { ...props.user.user }\r\n\r\n    return (\r\n        <Form>\r\n            <Form.Group controlId=\"nom\">\r\n              <Form.Label className=\"float-left\">Nom:</Form.Label>\r\n              <Form.Control type=\"text\" defaultValue={getCookie(\"lastname\")} onKeyUp={handleLastname.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"prenom\">\r\n              <Form.Label className=\"float-left\">Prenom</Form.Label>\r\n              <Form.Control type=\"text\" defaultValue={getCookie(\"firstname\")} onKeyUp={handleFirstname.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"prenom\">\r\n              <Form.Label className=\"float-left\">Date de naissance</Form.Label>\r\n              <Form.Control type=\"date\" defaultValue={getCookie(\"date_naissance\")} onKeyUp={handleDate_naissance.bind(this)} onChange={handleDate_naissance.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n              <Form.Label className=\"float-left\">Email</Form.Label>\r\n              <Form.Control type=\"email\" defaultValue={getCookie(\"email\")} onKeyUp={handleEmail.bind(this)} required/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"pwd\">\r\n              <Form.Label className=\"float-left\">Mot de passe</Form.Label>\r\n              <Form.Control type=\"password\" defaultValue={getCookie(\"firstname\")} onKeyUp={handlePwd.bind(this)} required/>\r\n            </Form.Group>\r\n            <div className=\"text-center pt-3\">\r\n              <Button disabled={JSON.stringify({firstname, lastname, date_naissance, email, pwd}) === JSON.stringify(user)} className=\"mb-3\" variant=\"primary\" onClick={() => submitModification({firstname, lastname, date_naissance, email, pwd}, props.user.user, props.user.handleUser, handleSuccessModification)}>\r\n                Modifier\r\n              </Button>\r\n            </div>\r\n            {successModification !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={successModification ? \"success\" : \"danger\"}>\r\n            {successModification ? \"Modification effectuée(s)\" : \"La modification a échoué\"}\r\n            </Alert></div>}\r\n          </Form>\r\n    )\r\n}\r\n\r\nfunction AbonnementTab(props) {\r\n  const [isLoadingDelete, setIsLoadingDelete] = useState(false)\r\n  console.log(props)\r\n    return(\r\n      <>\r\n        <Jumbotron>\r\n          <h3>{props.data.abonnement.nom}</h3>\r\n          <p>\r\n            {props.data.abonnement.text}\r\n          </p>\r\n          <p>\r\n            {props.data.abonnement.textPrelevement}\r\n          </p>\r\n          <p>\r\n              {props.data.abonnement.id_abonnement !== \"1\" && <Button variant=\"danger\" size=\"lg\" onClick={() => Resiliation(props.data.abonnement.id, props.data.setIsDelete, setIsLoadingDelete, props.data.setIsLoading, props.data.isLoading, props.data.user)}>\r\n                {isLoadingDelete && <Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  className=\"pr-2\"\r\n                />}\r\n                {!isLoadingDelete && \"Résilier\"}\r\n              </Button>}\r\n          </p>\r\n        </Jumbotron>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction Resiliation(idResAbonnement, setIsDelete, setIsLoadingDelete, setIsLoading, isLoading, user) {\r\n  setIsLoadingDelete(true)\r\n  axios.get('https://cowork-paris.000webhostapp.com/index.php/ResAbonnement/delete/'+idResAbonnement).then(res => {\r\n    if(res.data[0] === \"Res deleted successfully.\") {\r\n      setCookie(\"id_abonnement\", \"null\", 1)\r\n      let userForCookie = {...user.user}\r\n      userForCookie[\"id_abonnement\"] = \"null\"\r\n      user.handleUser(userForCookie)\r\n      setIsDelete(true)\r\n    }else {\r\n      setIsDelete(false)\r\n    }\r\n    setIsLoadingDelete(false)\r\n    setIsLoading({...isLoading, abonnement: true})\r\n  }\r\n  ).catch(err => console.log(err))\r\n}\r\n\r\nexport function ProfileTab(props) {\r\n  const [activeTab, setActiveTab] = useState(\"profile\")\r\n  const [abonnement, setAbonnement] = useState(null)\r\n  const [isLoading, setIsLoading] = useState({profile: true, abonnement: true})\r\n  const [isDelete, setIsDelete] = useState(null)\r\n\r\n  const handleSelect = (tab) => {\r\n    switch(tab) {\r\n      case \"profile\" :\r\n        setIsLoading({...isLoading, abonnement: true})\r\n        break;\r\n      case \"abonnement\" :\r\n        setIsLoading({...isLoading, profile: true})\r\n        break;\r\n    }\r\n    setActiveTab(tab)\r\n  }\r\n  \r\n    useEffect(() => {\r\n      if(activeTab === \"abonnement\") {\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/user/abonnement/'+props.user.user.id)\r\n        .then(\r\n          res => {\r\n            if(res.data.length == 1) {\r\n              axios.get('https://cowork-paris.000webhostapp.com/index.php/abonnement/'+res.data.map(v => v.id_abonnement))\r\n            .then(resA => {\r\n              let text = \"\"\r\n              let textPrelevement = \"\"\r\n              if(res.data[0].id_abonnement === \"2\") {\r\n                text = \"Engagement jusqu'au \" +  moment(new Date(res.data[0].created_at)).add(1, 'years').locale('fr').format('LLLL')\r\n              }\r\n              else if(res.data[0].id_abonnement === \"4\") {\r\n                text = \"Engagement jusqu'au \" +  moment(new Date(res.data[0].created_at)).add(8, 'months').locale('fr').format('LLLL')\r\n              }\r\n              if(res.data[0].id_abonnement !== \"1\") {\r\n                let date\r\n                if(new Date().setDate(new Date(res.data[0].created_at).getDate()) <= new Date()) date = moment(new Date().setDate(new Date(res.data[0].created_at).getDate())).add(1, \"months\").format(\"dddd Do MMMM YYYY\")\r\n                else date = moment(new Date().setDate(new Date(res.data[0].created_at).getDate())).format(\"dddd Do MMMM YYYY\")\r\n                textPrelevement = \"Prochain prélevement le \" + date\r\n              }\r\n              console.log(text)\r\n              setAbonnement({...res.data[0], nom: resA.data.nom, text: text, textPrelevement})\r\n              setIsLoading({...isLoading, abonnement: false})\r\n            })\r\n            .catch(err => console.log(err))\r\n            } else {\r\n              setAbonnement({id_abonnement: \"1\", nom: \"Sans abonnement\", text: \"\", textPrelevement: \"\"})\r\n              setIsLoading({...isLoading, abonnement: false})\r\n            }\r\n          })\r\n        .catch(err => console.log(err))\r\n      }\r\n   }, [activeTab, isDelete]);\r\n\r\n  return(\r\n    <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\" onSelect={(e) => handleSelect(e)}>\r\n    <Tab eventKey=\"profile\" title=\"Profil\" name=\"profile\">\r\n        <Row>\r\n            <Col lg=\"6\" className=\"pt-3\">\r\n                <ProfileForm user={props.user}/>\r\n            </Col>\r\n        </Row>\r\n    </Tab>\r\n    <Tab eventKey=\"abonnement\" title=\"Mon abonnement\" name=\"abonnement\">\r\n        <Row>\r\n            <Col lg=\"6\" className=\"pt-3\">\r\n              {isDelete !== null && <Alert className=\"mb-2\" variant={isDelete ? \"success\" : \"danger\"}>\r\n              {isDelete ? \"L'abonnement a bien été résillié\" : \"L'abonnement n'a pas pu être résilié\"}\r\n              </Alert>}\r\n              {!isLoading.abonnement && <AbonnementTab data={{user: props.user, abonnement, setIsDelete, setIsLoading, isLoading}}/>}\r\n              {isLoading.abonnement && <div className=\"text-center\"><Spinner\r\n              as=\"span\"\r\n              animation=\"border\"\r\n              size=\"sm\"\r\n              variant=\"primary\"\r\n              role=\"status\"\r\n              aria-hidden=\"true\"\r\n              style={{width: \"5em\", height: \"5em\"}}\r\n              /></div>}\r\n            </Col>\r\n        </Row>\r\n    </Tab>\r\n  </Tabs>\r\n  )\r\n}\r\n\r\nfunction ListReservations(props) {\r\n  console.log(props)\r\n  return (\r\n    <Accordion defaultActiveKey=\"0\">\r\n      {props.data.data.map(v => \r\n      <Card>\r\n        <Card.Header>\r\n        <Button variant=\"danger\" className=\"float-right\" onClick={() => Annuler(v.id, props.data.setIsDeleted, props.data.type, props.data.setIsLoading, props.data.isLoading)}>Annuler</Button>\r\n          <Accordion.Toggle as={Button} variant=\"link\" eventKey={v.id}>\r\n            {v.horaire_debut || v.horaire || v.id}\r\n          </Accordion.Toggle>\r\n        </Card.Header>\r\n        <Accordion.Collapse eventKey={v.id}>\r\n          <Card.Body>\r\n            {Object.keys(v).map((key) => <p>{key+\": \"+v[key]}</p>)}\r\n          </Card.Body>\r\n        </Accordion.Collapse>\r\n      </Card>)\r\n      }\r\n    </Accordion>\r\n  )\r\n}\r\n\r\nfunction Annuler(id, setIsDeleted, type, setIsLoading, isLoading) {\r\n  let uri = \"\"\r\n  if(type === \"privative\") uri = \"ReservationPrivateSpace/delete/\"\r\n  else if (type === \"equipment\") uri = \"ReservationEquipment/delete/\"\r\n  else if (type === \"meal\") uri = \"ReservationMeal/delete/\"\r\n  else if (type === \"events\") uri = \"ReservationEvents/delete/\"\r\n\r\n  axios.get(\"https://cowork-paris.000webhostapp.com/index.php/\"+uri+id).then(res => {\r\n    let tmp = {}\r\n    tmp[type] = true\r\n    console.log(tmp)\r\n    setIsDeleted(tmp)\r\n    let tmpLoad = {...isLoading}\r\n    tmpLoad[type] = true\r\n    setIsLoading(tmpLoad)\r\n  }).catch(err => setIsDeleted({}))\r\n}\r\n\r\nexport function CustomerReservations(props) {\r\n  const [privative, setPrivative] = useState([])\r\n\r\n  const [equipment, setEquipment] = useState([])\r\n\r\n  const [meal, setMeal] = useState([])\r\n\r\n  const [events, setEvents] = useState([])\r\n\r\n  const [activeTab, setActiveTab] = useState(\"privative\")\r\n\r\n  const [isLoading, setIsLoading] = useState({privative: true, equipment: true, meal: true, events: true})\r\n  const [isDeleted, setIsDeleted] = useState({})\r\n\r\n  const handleSelect = (tab) => {\r\n    switch(tab) {\r\n      case \"privative\" :\r\n        setIsLoading({...isLoading, equipment: true, meal: true, events: true})\r\n        break;\r\n      case \"equipment\" :\r\n        setIsLoading({...isLoading, privative: true, meal: true, events: true})\r\n        break;\r\n      case 'meal' :\r\n        setIsLoading({...isLoading, privative: true, equipment: true, events: true})\r\n        break;\r\n      case 'events' :\r\n        setIsLoading({...isLoading, privative: true, equipment: true, meal: true})\r\n        break;\r\n    }\r\n    setActiveTab(tab)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(activeTab === \"privative\") {\r\n      axios.get('https://cowork-paris.000webhostapp.com/index.php/user/privative/'+props.data.user.id)\r\n      .then(res => {\r\n          console.log(res.data)\r\n          setIsLoading({...isLoading, privative: false})\r\n          setPrivative(res.data)\r\n      })\r\n      .catch(e => setIsLoading({...isLoading, privative: false}))\r\n    }\r\n    if(activeTab === \"equipment\") {\r\n      axios.get('https://cowork-paris.000webhostapp.com/index.php/user/equipment/'+props.data.user.id)\r\n      .then(res => {\r\n        setIsLoading({...isLoading, equipment: false})\r\n          setEquipment(res.data)\r\n      })\r\n      .catch(e => setIsLoading({...isLoading, equipment: false}))\r\n    }\r\n    if(activeTab === \"meal\") {\r\n      axios.get('https://cowork-paris.000webhostapp.com/index.php/user/meal/'+props.data.user.id)\r\n      .then(res => {\r\n        setIsLoading({...isLoading, meal: false})\r\n          setMeal(res.data)\r\n      })\r\n      .catch(e => setIsLoading({...isLoading, meal: false}))\r\n    }\r\n    if(activeTab === \"events\") {\r\n      axios.get('https://cowork-paris.000webhostapp.com/index.php/user/events/'+props.data.user.id)\r\n      .then(res => {\r\n        setIsLoading({...isLoading, events: false})\r\n          setEvents(res.data)\r\n      })\r\n      .catch(e => setIsLoading({...isLoading, events: false}))\r\n    }\r\n  }, [activeTab, isDeleted]);\r\n\r\n  return (\r\n    <Tabs defaultActiveKey=\"privative\" id=\"uncontrolled-tab-example\" onSelect={(e) => handleSelect(e)}>\r\n      <Tab eventKey=\"privative\" title=\"Espaces privatifs\" name=\"privative\">\r\n          <Row>\r\n              <Col lg=\"6\" className=\"pt-3\">\r\n                {activeTab === \"privative\" && Object.keys(isDeleted).length > 0 && isDeleted[\"privative\"] !== undefined && <Alert variant={isDeleted[\"privative\"]  ? \"success\" : \"danger\"}>\r\n                {isDeleted[\"privative\"]  ? \"Réservation annulée\" : \"Echec de l'annulation\"}\r\n                </Alert>}\r\n                {isLoading.privative && <div className=\"text-center\"><Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                variant=\"primary\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                style={{width: \"5em\", height: \"5em\"}}\r\n                /></div>}\r\n                {!isLoading.privative && activeTab === \"privative\" && <ListReservations data={{data: privative, setIsDeleted, type: \"privative\", setIsLoading, isLoading}}/>}\r\n              </Col>\r\n          </Row>\r\n      </Tab>\r\n      <Tab eventKey=\"equipment\" title=\"Matériel\" name=\"equipment\">\r\n          <Row>\r\n              <Col lg=\"6\" className=\"pt-3\">\r\n                {activeTab === \"equipment\" && Object.keys(isDeleted).length > 0 && isDeleted[\"equipment\"] !== undefined  && <Alert variant={isDeleted[\"equipment\"] ? \"success\" : \"danger\"}>\r\n                {isDeleted[\"equipment\"] ? \"Réservation annulée\" : \"Echec de l'annulation\"}\r\n                </Alert>}\r\n                {isLoading.equipment && <div className=\"text-center\"><Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  stye={{width: \"5em\", height: \"5em\"}}\r\n                  /></div>}\r\n                {!isLoading.equipment && activeTab === \"equipment\" && <ListReservations data={{data: equipment, setIsDeleted, type: \"equipment\", setIsLoading, isLoading}}/>}\r\n              </Col>\r\n          </Row>\r\n      </Tab>\r\n      <Tab eventKey=\"meal\" title=\"Plateaux repas\" name=\"meal\">\r\n          <Row>\r\n              <Col lg=\"6\" className=\"pt-3\">\r\n                {activeTab === \"meal\" && Object.keys(isDeleted).length > 0 && isDeleted[\"meal\"] !== undefined && <Alert variant={isDeleted[\"meal\"]  ? \"success\" : \"danger\"}>\r\n                {isDeleted[\"meal\"]  ? \"Réservation annulée\" : \"Echec de l'annulation\"}\r\n                </Alert>}\r\n                {isLoading.meal && <div className=\"text-center\"><Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  style={{width: \"5em\", height: \"5em\"}}\r\n                  /></div>}\r\n                {!isLoading.meal && activeTab === \"meal\" && <ListReservations data={{data: meal, setIsDeleted, type: \"meal\", setIsLoading, isLoading}}/>}\r\n              </Col>\r\n          </Row>\r\n      </Tab>\r\n      <Tab eventKey=\"events\" title=\"Evenements\" name=\"events\">\r\n          <Row>\r\n              <Col lg=\"6\" className=\"pt-3\">\r\n                {activeTab === \"events\" && Object.keys(isDeleted).length > 0 && isDeleted[\"events\"] !== undefined && <Alert variant={isDeleted[\"events\"]  ? \"success\" : \"danger\"}>\r\n                {isDeleted[\"events\"]  ? \"Réservation annulée\" : \"Echec de l'annulation\"}\r\n                </Alert>}\r\n                {isLoading.events && <div className=\"text-center\"><Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  style={{width: \"5em\", height: \"5em\"}}\r\n                  /></div>}\r\n                {!isLoading.events && activeTab === \"events\" && <ListReservations data={{data: events, setIsDeleted, type: \"events\", setIsLoading, isLoading}}/>}\r\n              </Col>\r\n          </Row>\r\n      </Tab>\r\n    </Tabs>\r\n  )\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport {Button, Card, Spinner, CardDeck, Row, Col, Form, Badge ,Alert} from 'react-bootstrap'\r\nimport axios from 'axios'\r\n\r\nexport function EvenemenentWrapper(props) {\r\n    const [eventsData, setEventsData] = useState(null);\r\n    const [space, setSpace] = useState(\"\");\r\n\r\n    const handleEventsData = (v) => {\r\n        setEventsData(v)\r\n      }\r\n    \r\n      const handleSpace = (v) => {\r\n        handleEventsData(null)\r\n        setSpace(v.nativeEvent.target.value)\r\n      }\r\n\r\n    useEffect(() => {\r\n        if(props.data.evenement && props.data.user) axios.get('https://cowork-paris.000webhostapp.com/index.php/events/' + space).then(res => handleEventsData(res.data)).catch(err => console.log(err))\r\n    }, [space]);\r\n\r\n    return (\r\n        <>\r\n            <Form>\r\n                <Form.Group controlId=\"selectSpace\">\r\n                    <Form.Label className=\"float-left\">Espace</Form.Label>\r\n                    <Form.Control as=\"select\" defaultValue=\"0\" onChange={handleSpace}>\r\n                    <option value=\"\">Tous</option>\r\n                    <option value=\"1\">CO'WORK BASTILLE</option>\r\n                    <option value=\"2\">CO'WORK REPUBLIQUE</option>\r\n                    <option value=\"3\">CO'WORK Odéon</option>\r\n                    <option value=\"4\">CO'WORK PLACE D'ITALIE</option>\r\n                    <option value=\"5\">CO'WORK TERNES</option>\r\n                    <option value=\"6\">CO'WORK CO'WORK BEAUBOURG</option>\r\n                    </Form.Control>\r\n                </Form.Group>\r\n            </Form>\r\n            {props.data.evenement && props.data.user && !eventsData && <Spinner\r\n            as=\"span\"\r\n            animation=\"border\"\r\n            size=\"sm\"\r\n            variant=\"primary\"\r\n            role=\"status\"\r\n            aria-hidden=\"true\"\r\n            style={{width: \"5em\", height: \"5em\"}}\r\n            />}\r\n            {props.data.evenement && props.data.user && eventsData && \r\n            <Row>\r\n                <Col lg=\"auto\">\r\n                <CardDeck>\r\n                    {eventsData.map(v => <CardsEvenement infos={{...v, user_id: props.data.user.id}} />)}\r\n                </CardDeck>\r\n                </Col>\r\n            </Row>}\r\n        </>\r\n    )\r\n}\r\nexport function CardsEvenement(props) {\r\n    const [placesRestantes, setPlacesRestantes] = useState(props.infos.nb_places);\r\n    const [inscription, setInscription] = useState(null);\r\n    const [isResByUser, setIsResByUser] = useState(null);\r\n    const [isLoadingPr, setIsLoadingPr] = useState(true);\r\n    const [isLoadingRes, setIsLoadingRes] = useState(true);\r\n\r\n    const handleIsResByUser = (v) => {\r\n        setIsResByUser(v)\r\n        setIsLoadingRes(false)\r\n    }\r\n\r\n    const handleInscription = (v) => {\r\n        setInscription(v)\r\n    }\r\n\r\n    const handlePlacesRestantes = (v) => {\r\n        setPlacesRestantes(props.infos.nb_places - v)\r\n        setIsLoadingPr(false)\r\n    }\r\n    // TODO: nombre places restances + regles\r\n    useEffect(() => {\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/ReservationEvents/total/' + props.infos.id).then(res => handlePlacesRestantes(res.data)).catch(err => console.log(err))\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/ReservationEvents/isResByUser/' + props.infos.user_id).then(res => handleIsResByUser(res.data)).catch(err => console.log(err))\r\n     }, [inscription]);\r\n\r\n     let img = \"\"\r\n     let space = \"\"\r\n     switch(props.infos.id_space) {\r\n       case \"1\":\r\n         img = \"bastille.jpg\"\r\n         space = \"CO'WORK BASTILLE\"\r\n         break;\r\n       case \"2\":\r\n         img = \"republique.jpg\"\r\n         space = \"CO'WORK REPUBLIQUE\"\r\n         break;\r\n       case \"3\":\r\n         img = \"odeon.jpg\"\r\n         space = \"CO'WORK ODEON\"\r\n         break;\r\n       case \"4\":\r\n         img = \"place_italie.jpg\"\r\n         space = \"CO'WORK PLACE D'ITALIE\"\r\n         break;\r\n       case \"5\":\r\n         img = \"ternes.jpg\"\r\n         space = \"CO'WORK TERNES\"\r\n         break;\r\n       case \"6\":\r\n         img = \"beaubourg.jpg\"\r\n         space = \"CO'WORK BEAUBOURG\"\r\n         break;\r\n     }\r\n    return (\r\n      <>\r\n        <Card>\r\n          <Card.Img variant=\"top\" src={process.env.PUBLIC_URL + '/' + img} />\r\n          <Card.Body>\r\n            <Card.Title>{props.infos.nom}</Card.Title>\r\n            <Card.Subtitle className=\"mb-2 text-muted\">{space}</Card.Subtitle>\r\n            <>\r\n                <h5>\r\n                    {\"Places restantes: \"}\r\n                    {isLoadingPr && <Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\"/>}\r\n                    {!isLoadingPr && <Badge variant={placesRestantes > 0 ? (placesRestantes > props.infos.nb_places / 2 ? \"success\" : \"warning\") : \"danger\"}>{placesRestantes}</Badge>}\r\n                </h5>\r\n                <h5>{props.infos.description}</h5>\r\n            </>\r\n            {inscription !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={inscription ? \"success\" : \"danger\"}>\r\n                {inscription ? \"Inscription réussie !\" : \"L'inscription a échoué !\"}\r\n            </Alert></div>}\r\n          </Card.Body>\r\n          <Card.Footer>\r\n            {!isLoadingRes && <Button variant=\"primary\" onClick={() => InscriptionEvent(props.infos.user_id, props.infos.id, handleInscription)} disabled={placesRestantes <= 0 || isResByUser > 0}>\r\n                {placesRestantes <= 0 || isResByUser > 0 ? \"Vous êtes déja inscris\" : \"S'inscrire\"}\r\n            </Button>}\r\n            {isLoadingRes && <Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\"/>}\r\n          </Card.Footer>\r\n        </Card>\r\n      </>\r\n    );\r\n  }\r\n\r\nfunction InscriptionEvent(id_user, id_event, handleInscription) {\r\n    let inscription = false\r\n    let formData = new FormData();\r\n    formData.append('id_user', id_user);\r\n    formData.append('id_events', id_event);\r\n\r\n    fetch(\"https://cowork-paris.000webhostapp.com/index.php/ReservationEvents/\",\r\n        {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        .then(res=>res.json())\r\n        .then(res => {\r\n        if(res[0] === \"Reservation created successfully.\") {\r\n            inscription = Date.now // Pas trouvé mieux\r\n        }\r\n        handleInscription(inscription)\r\n        })\r\n        .catch(e => {\r\n            handleInscription(inscription)\r\n        })\r\n\r\n}","import React from 'react';\r\nimport {useState, useEffect} from 'react'\r\nimport './App.css';\r\nimport {Container, Row, Col, Spinner, CardDeck, Alert} from 'react-bootstrap'\r\nimport {InscriptionModal, ConnectionModal} from './components/modal'\r\nimport {Cards, CardsSpace} from './components/cards'\r\nimport {Header} from './components/header'\r\nimport {Footer} from './components/footer'\r\nimport {text_abonnement_residant, text_sans_abonnment, text_abonnment_simple, getCookie} from './util/util'\r\nimport {ProfileTab, CustomerReservations} from './components/profile'\r\nimport {validUser} from './components/inscription';\r\nimport {ReservationModal} from './components/reservation';\r\nimport {EvenemenentWrapper} from './components/evenement';\r\nimport axios from 'axios'\r\n\r\n\r\nfunction App() {\r\n  // Ne voir les space que si abonné, pouvoir reserver que si abonné, afficher une cards pour s'abonner dans le home si c'est pas le cas\r\n  let userCookie = null\r\n  if(validUser({firstname: getCookie(\"firstname\"), lastname: getCookie(\"lastname\"), date_naissance: getCookie(\"date_naissance\"), email: getCookie(\"email\"), pwd: getCookie(\"pwd\"), id_abonnement: getCookie('id_abonnement')})) {\r\n    userCookie = {id: getCookie(\"id\"), firstname: getCookie(\"firstname\"), lastname: getCookie(\"lastname\"), date_naissance: getCookie(\"date_naissance\"), email: getCookie(\"email\"), pwd: getCookie(\"pwd\"), id_abonnement: getCookie('id_abonnement')}\r\n  }\r\n\r\n  const [showI, setShowI] = useState(false);\r\n  const handleCloseI = () => setShowI(false);\r\n  const handleShowI = () => {\r\n    setShowI(true)\r\n  };\r\n\r\n  const [showC, setShowC] = useState(false);\r\n  const handleCloseC = () => setShowC(false);\r\n  const handleShowC = () => setShowC(true);\r\n\r\n  const [profile, showProfile] = useState(false);\r\n\r\n  const [user, setUser] = useState(userCookie);\r\n  const [home, showHome] = useState(true)\r\n  const [space, setSpace] = useState(null)\r\n\r\n  const [showReservation, setReservation] = useState(false)\r\n  const handleCloseR = () => setReservation(false);\r\n  const [nomSpace, setNomSpace] = useState(\"\")\r\n  const [idSpace, setIdSpace] = useState(\"\")\r\n\r\n  const [updatedUser, setUpdatedUser] = useState(null)\r\n\r\n  const [customerReservations, showCustomerReservations] = useState(false);\r\n  const [evenement, showEvenement] = useState(false);\r\n \r\n  const handleEvenements = () => {\r\n    showEvenement(true)\r\n    profile && showProfile(false)\r\n    home && showHome(false)\r\n    customerReservations && showCustomerReservations(false)\r\n  }\r\n\r\n  const handleReservation = (v, nom, id) => {\r\n    setNomSpace(nom)\r\n    setIdSpace(id)\r\n    setReservation(v)\r\n  }\r\n  const handleHome = (v) => {\r\n    setSpace(null)\r\n    showHome(v)\r\n    showCustomerReservations(!v)\r\n    showEvenement(!v)\r\n    showProfile(!v)\r\n    setUpdatedUser(null)\r\n  }\r\n  const handleSpace = (v) => {\r\n    setSpace(v)\r\n  }\r\n  const handleProfile = (v) => {\r\n    showProfile(v)\r\n    showHome(!v)\r\n    showCustomerReservations(!v)\r\n    showEvenement(!v)\r\n  }\r\n\r\n  const handleCustomerReservations = (v) => {\r\n    showCustomerReservations(v)\r\n    showProfile(!v)\r\n    showHome(!v)\r\n    showEvenement(!v)\r\n  }\r\n\r\n  const handleUser = (v) => {\r\n    if(v === null) setSpace(null)\r\n    if(v !== {}) { // && !== false\r\n      console.log(user)\r\n      console.log(v)\r\n      setUser(v)\r\n    }\r\n  }\r\n  \r\n  useEffect(() => {\r\n    document.title = \"Co'work\"\r\n    console.log(home)\r\n    console.log(user)\r\n    if(home && user) axios.get('https://cowork-paris.000webhostapp.com/index.php/space').then(res => handleSpace(res.data)).catch(err => console.log(err))\r\n }, [user, home]);\r\n \r\n  return (\r\n    <div className=\"App\">\r\n      <Container fluid className=\"pl-0 pr-0\">\r\n        {showReservation && <ReservationModal data={{show: showReservation, handleClose: handleCloseR, nom: nomSpace, idSpace: idSpace, test: true, user: user}}/>}\r\n        {showI && <InscriptionModal data={{show: showI, handleClose: handleCloseI, handleUser: handleUser}} />}\r\n        {showC && <ConnectionModal data={{show: showC, handleClose: handleCloseC, handleUser: handleUser, user: user}}/>}\r\n          <Header data={{handleShowI, handleShowC, handleUser, handleProfile, handleHome, handleCustomerReservations, handleEvenements, user}}/>\r\n          <main className=\"p-3\">\r\n            <Row className={\"justify-content-lg-center\"}>\r\n              <Col lg=\"12\">\r\n                {home && user && updatedUser !== null && <div className=\"text-center pb-3\"><Alert className=\"mb-0\" variant={updatedUser ? \"info\" : \"danger\"} dismissible>\r\n                {updatedUser ? \"Souscription réussie !\" : \"La souscription a échouée\"}\r\n                </Alert></div>}\r\n              </Col>\r\n              {home && !user && \r\n              <>\r\n                <Col lg=\"auto\">\r\n                  <Alert className=\"mt-2 mb-5\" variant=\"primary\">\r\n                    <Alert.Heading>Bienvenue sur CO'Work !</Alert.Heading>\r\n                    <p>\r\n                      Co'Work propose six espaces de travail collaboratif à Paris (Bastille,\r\n                      République, Odéon, Place d'Italie, Ternes et Beaubourg).\r\n                      Pour quelques euros de l’heure, venez rencontrez d'autres utilisateurs, vous détendre, organiser un rendez-vous,\r\n                      travailler, accéder à Internet ou profiter de boissons chaudes et froides à volonté. Des\r\n                      animations et des événements liés aux cultures innovantes rythment aussi la vie des différents espaces. \r\n                    </p>\r\n                    <hr />\r\n                    <p className=\"mb-0\">\r\n                      Accessible sans réservation ou abonnement en payant sur place.\r\n                      Nous vous proposons les abonnements pour profiter au mieux des services, cliquez ci-dessous pour connaires les détails (services, tarifs...)\r\n                    </p>\r\n                  </Alert>\r\n                  <CardDeck>\r\n                    <Cards infos={{text:text_sans_abonnment, title:\"Sans abonnement\", subtitle:\"Payez le temps passé sur place, les consommations sont incluses et à volonté !\", type: 0, connected: false, user: null, handleUser: null, setUpdatedUser: null, handleSpace: null}}/>\r\n                    <Cards infos={{text:text_abonnment_simple, title:\"Abonnement simple\", subtitle:\"Rejoignez la communauté CO'WORK et bénéficiez de tarifs préférentiels !\", type: 1, connected: false, user: null, handleUser: null, setUpdatedUser: null, handleSpace: null}}/>\r\n                    <Cards infos={{text:text_abonnement_residant, title:\"Abonnement résident\", subtitle:\"Rejoignez la communauté CO'WORK et devenez membre résident !\", type: 2,  connected: false, user: null, handleUser: null, setUpdatedUser: null, handleSpace: null}}/>\r\n                  </CardDeck>\r\n                </Col>\r\n              </>}\r\n              {home && user && (user.id_abonnement === \"1\" || user.id_abonnement === \"null\") &&\r\n              <>\r\n                <Col lg=\"auto\">\r\n                <Alert variant=\"warning\">Vous n'avez aucun abonnement en cours, abonnez vous pour profiter au mieux des services CO'Work</Alert>\r\n                  <CardDeck>\r\n                    <Cards infos={{text:text_abonnment_simple, title:\"Abonnement simple\", subtitle:\"Rejoignez la communauté CO'WORK et bénéficiez de tarifs préférentiels !\", type: 1, connected: true, user: user, handleUser, setUpdatedUser, handleSpace}}/>\r\n                    <Cards infos={{text:text_abonnement_residant, title:\"Abonnement résident\", subtitle:\"Rejoignez la communauté CO'WORK et devenez membre résident !\", type: 2, connected: true, user: user, handleUser, setUpdatedUser, handleSpace}}/>\r\n                  </CardDeck>\r\n                </Col>\r\n              </>}\r\n              <Col lg=\"8\">\r\n                {home && user && user.id_abonnement !== \"null\" && user.id_abonnement !== \"1\" && !space && <Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  style={{width: \"5em\", height: \"5em\"}}\r\n                  />}\r\n                <Row>\r\n                <CardDeck>\r\n                  <Row>\r\n                  {home && user && user.id_abonnement !== \"null\" && user.id_abonnement !== \"1\" && space && space.map(s => \r\n                    <Col lg=\"4 pb-3\">\r\n                      <CardsSpace key={s.id} data={{title: s.nom, id: s.id, handleReservation: handleReservation}}/>\r\n                    </Col>)}\r\n                    </Row>\r\n                </CardDeck>\r\n                </Row>\r\n              </Col>\r\n              \r\n            </Row>\r\n            {profile && user && \r\n            <Row>\r\n              <Col lg=\"12\">\r\n                <ProfileTab user={{handleUser: handleUser, user: user}}/>\r\n              </Col>\r\n            </Row>}\r\n            {customerReservations && user && \r\n            <Row>\r\n              <Col lg=\"12\">\r\n                <CustomerReservations data={{user}}/>\r\n              </Col>\r\n            </Row>}\r\n            {evenement && user && \r\n            <Row>\r\n              <Col lg=\"auto\">\r\n                <EvenemenentWrapper data={{evenement, user}}/>\r\n              </Col>\r\n            </Row>\r\n            }\r\n          </main>\r\n          <Footer/>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}