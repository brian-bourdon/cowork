(this.webpackJsonpcoworkintra=this.webpackJsonpcoworkintra||[]).push([[0],{135:function(e,t,a){e.exports=a(225)},140:function(e,t,a){},141:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),c=(a(140),a(6)),s=(a(141),a(242)),i=a(239),m=a(123),u=a(235),d=a(240),p=a(234),b=a(10),f=a(243),h=a(244),E=a(124),v=function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},g=function(e){var t={};return document.cookie.split(";").forEach((function(e){var a=e.split("="),n=Object(c.a)(a,2),r=n[0],l=n[1];t[r.trim()]=l})),t[e]},O=function(e,t){g(e)&&(document.cookie=e+"="+(t?";path="+t:"")+";expires=Thu, 01 Jan 1970 00:00:01 GMT")},j=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Payez le temps pass\xe9 sur place, les consommations sont incluses et \xe0 volont\xe9 !"),r.a.createElement("p",null,"Accessible sans r\xe9servation ou abonnement."),r.a.createElement("p",null,"Tarifs par personne : Premi\xe8re heure : 5\u20ac \xbd heure suivante : 2,5\u20ac Journ\xe9e (5 heures et plus) : 24\u20ac"),r.a.createElement("p",null,"R\xe9duction \xe9tudiante : Journ\xe9e (5 heures et plus) : 20\u20ac"),r.a.createElement("p",null,"Acc\xe8s open space (sans possibilit\xe9 de changer d'adresse) Wifi Snacking et boissons \xe0 volont\xe9 Cabines t\xe9l\xe9phonique")),w=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Rejoignez la communaut\xe9 CO'WORK et b\xe9n\xe9ficiez de tarifs pr\xe9f\xe9rentiels !"),r.a.createElement("p",null,"Tarifs membre par personne : Premi\xe8re heure : 4\u20ac \xbd heure suivante : 2\u20ac Journ\xe9e (5 heures et plus) : 20\u20ac"),r.a.createElement("p",null,"Devenir membre sans engagement : 24\u20ac TTC /mois"),r.a.createElement("p",null,"Devenir membre sans engagement 12 mois : 20\u20ac TTC /mois"),r.a.createElement("p",null,"Acc\xe8s open space Wifi Snacking et boissons \xe0 volont\xe9 Cabines t\xe9l\xe9phonique Acc\xe8s libre \xe0 tous les espaces Acc\xe8s premium au HUB")),y=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Rejoignez la communaut\xe9 CO'WORK et devenez membre r\xe9sident !"),r.a.createElement("p",null,"B\xe9n\xe9ficiez d'un acc\xe8s en illimit\xe9 7/7j"),r.a.createElement("p",null,"Devenir membre r\xe9sident sans engagement : 300\u20ac TTC /mois"),r.a.createElement("p",null,"Devenir membre r\xe9sident avec engagement 8 mois: 252\u20ac TTC /mois")),S=a(14),C=a.n(S);function D(e,t,a){console.log(e);if(x(e)){console.log(JSON.stringify({firstname:e.firstname,lastname:e.lastname,date_naissance:e.date_naissance,email:e.email,pwd:e.pwd}));var n=new FormData;n.append("firstname",e.firstname),n.append("lastname",e.lastname),n.append("date_naissance",e.date_naissance),n.append("email",e.email),n.append("pwd",e.pwd),void 0!==e.id_abonnement&&"1"!==e.id_abonnement&&(n.append("id_abonnement",e.id_abonnement),n.append("id",e.id)),fetch("https://cowork-paris.000webhostapp.com/index.php/user",{body:n,method:"post"}).then((function(e){return e.json()})).then((function(e){console.log(e),"User created successfully."===e[0]&&(!0,t(!0))})).catch((function(e){t(!1)}))}}function x(e){var t,a=["firstname","lastname","date_naissance","email","pwd","id_abonnement"],n=0;if(t=e,0!==Object.keys(t).length){for(var r in e){if(!a.includes(r))return!1;if(void 0===e[r]||null===e[r]||"string"===typeof e[r]&&""===e[r].trim())return!1;n++}return a.length===n||a.length-1===n&&!("id_abonnement"in e)}}var k=a(11),_=a.n(k);function N(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(""),i=Object(c.a)(s,2),m=i[0],d=i[1],b=Object(n.useState)(!1),g=Object(c.a)(b,2),O=g[0],j=g[1];return console.log(e.data),r.a.createElement(f.a,{show:e.data.show,onHide:e.data.handleClose},r.a.createElement(f.a.Header,{closeButton:!0},r.a.createElement(f.a.Title,null,"Connection")),r.a.createElement(f.a.Body,null,(!e.data.user||"deconnected"===e.data.user)&&r.a.createElement(h.a,null,r.a.createElement(h.a.Group,{controlId:"formBasicEmail"},r.a.createElement(h.a.Label,null,"Mail"),r.a.createElement(h.a.Control,{type:"email",placeholder:"Email",onKeyUp:function(e){o(e.target.value)}.bind(this)})),r.a.createElement(h.a.Group,{controlId:"formBasicPassword"},r.a.createElement(h.a.Label,null,"Mot de passe"),r.a.createElement(h.a.Control,{type:"password",placeholder:"Mot de passe",onKeyUp:function(e){d(e.target.value)}.bind(this)})),r.a.createElement("div",{className:"text-center pt-3"},r.a.createElement(E.a,{className:"mb-3",variant:"primary",onClick:function(){!function(e,t,a,n){a(!0),C.a.get("https://cowork-paris.000webhostapp.com/index.php/user/show/"+e).then((function(e){console.log(e.data),e.data.pwd===t?(console.log("nnnn"),C.a.get("https://cowork-paris.000webhostapp.com/index.php/user/abonnement/"+e.data.id).then((function(t){for(var r in 1===t.data.length?e.data.id_abonnement=t.data[0].id_abonnement:e.data.id_abonnement="null",e.data)v(r,e.data[r],1);n(e.data),a(!1)})).catch((function(t){for(var r in e.data)v(r,e.data[r],1);n(e.data),a(!1)}))):(n(!1),a(!1))})).catch((function(e){n(!1),a(!1)}))}(l,m,j,e.data.handleUser)},disabled:""===l.trim()||""===m.trim()},O&&r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"pr-2"}),!O&&"Se connecter"))),null!==e.data.user&&"deconnected"!==e.data.user&&r.a.createElement("div",{className:"text-center"},r.a.createElement(u.a,{className:"mb-0",variant:e.data.user?"success":"danger"},e.data.user&&"disconnected"!==e.data.user?"Connection r\xe9ussie":"L'authentification a \xe9chou\xe9"))))}function T(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(""),i=Object(c.a)(s,2),m=i[0],d=i[1],p=Object(n.useState)(""),b=Object(c.a)(p,2),v=b[0],g=b[1],O=Object(n.useState)(""),j=Object(c.a)(O,2),w=j[0],y=j[1],S=Object(n.useState)(""),C=Object(c.a)(S,2),x=C[0],k=C[1],_=Object(n.useState)(null),N=Object(c.a)(_,2),T=N[0],L=N[1],R=function(e){g(e.target.value)},I=function(e){L(e)};return r.a.createElement(f.a,{show:e.data.show,onHide:e.data.handleClose},r.a.createElement(f.a.Header,{closeButton:!0},r.a.createElement(f.a.Title,null,"Inscription")),r.a.createElement(f.a.Body,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Group,{controlId:"nom"},r.a.createElement(h.a.Label,null,"Nom"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Nom",onKeyUp:function(e){d(e.target.value)}.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"prenom"},r.a.createElement(h.a.Label,null,"Prenom"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Prenom",onKeyUp:function(e){o(e.target.value)}.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"prenom"},r.a.createElement(h.a.Label,null,"Date de naissance"),r.a.createElement(h.a.Control,{type:"date",onKeyUp:R.bind(this),onChange:R.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(h.a.Label,null,"Email"),r.a.createElement(h.a.Control,{type:"email",placeholder:"name@example.com",onKeyUp:function(e){y(e.target.value)}.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"pwd"},r.a.createElement(h.a.Label,null,"Mot de passe"),r.a.createElement(h.a.Control,{type:"password",placeholder:"Mot de passe",onKeyUp:function(e){k(e.target.value)}.bind(this),required:!0})),r.a.createElement("div",{className:"text-center pt-3"},r.a.createElement(E.a,{className:"mb-3",variant:"primary",onClick:function(){return D({firstname:l,lastname:m,date_naissance:v,email:w,pwd:x},I,e.data.handleClose)}},"S'inscrire"))),null!==T&&r.a.createElement("div",{className:"text-center"},r.a.createElement(u.a,{className:"mb-0",variant:T?"success":"danger"},T?"Inscription r\xe9ussie, vous pouvez maintenant vous connecter":"L'inscription a \xe9chou\xe9"))))}function L(e){var t="1";t=0===e.infos.type?"1":1===e.infos.type?"2":"4";var a=Object(n.useState)(""),l=Object(c.a)(a,2),o=l[0],s=l[1],i=Object(n.useState)(""),m=Object(c.a)(i,2),d=m[0],p=m[1],g=Object(n.useState)(""),O=Object(c.a)(g,2),j=O[0],w=O[1],y=Object(n.useState)(""),S=Object(c.a)(y,2),C=S[0],x=S[1],k=Object(n.useState)(""),N=Object(c.a)(k,2),T=N[0],L=N[1],R=Object(n.useState)(t),I=Object(c.a)(R,2),U=I[0],Y=I[1],M=Object(n.useState)(null),q=Object(c.a)(M,2),H=q[0],K=q[1],F=function(e){K(e)},z=Object(n.useState)(!1),P=Object(c.a)(z,2),B=P[0],G=P[1];return r.a.createElement(f.a,{show:e.infos.show,onHide:e.infos.handleClose},r.a.createElement(f.a.Header,{closeButton:!0},r.a.createElement(f.a.Title,null,e.infos.title)),r.a.createElement(f.a.Body,null,B&&function(e,t,a,n,l,o,c,s,i,m,d,p,f){var v=Object(b.a)({},d);return console.log(f),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,!m&&!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a.Group,{controlId:"nom"},r.a.createElement(h.a.Label,null,"Nom"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Nom",onKeyUp:a.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"prenom"},r.a.createElement(h.a.Label,null,"Prenom"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Prenom",onKeyUp:t.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"prenom"},r.a.createElement(h.a.Label,null,"Date de naissance"),r.a.createElement(h.a.Control,{type:"date",onKeyUp:n.bind(this),onChange:n.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(h.a.Label,null,"Email"),r.a.createElement(h.a.Control,{type:"email",placeholder:"name@example.com",onKeyUp:l.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"pwd"},r.a.createElement(h.a.Label,null,"Mot de passe"),r.a.createElement(h.a.Control,{type:"password",placeholder:"Mot de passe",onKeyUp:o.bind(this),required:!0}))),!i&&r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(h.a.Label,null,"Abonnement"),r.a.createElement(h.a.Control,{as:"select",defaultValue:e,onChange:c.bind(this)},!m&&0===p&&r.a.createElement("option",{value:"1"},"Sans abonnement"),1===p&&r.a.createElement("option",{value:"2"},"Abonnement simple 12 mois puis sans engagement"),1===p&&r.a.createElement("option",{value:"3"},"Abonnement simple sans engagement"),2===p&&r.a.createElement("option",{value:"4"},"Abonnement r\xe9sident 8 mois puis sans engagement"),2===p&&r.a.createElement("option",{value:"5"},"Abonnement r\xe9sident sans engagement"))),r.a.createElement("p",null,"Prix : "+("1"===f?"Gratuit":"2"===f?"20\u20ac TTC /mois ":"3"===f?"24\u20ac TTC /mois ":"4"===f?"252\u20ac TTC /mois ":"300\u20ac TTC /mois")),"1"!==f&&r.a.createElement(u.a,{key:1,variant:"warning"},"Le premier d\xe9bit sera effectu\xe9 le "+_()(new Date).add(1,"monts").format("dddd DD MMMM YYYY")+" \xe0 "+_()(new Date).add(1,"monts").format("HH")+"h"+_()(new Date).add(1,"monts").format("mm")),!i&&r.a.createElement("div",{className:"text-center pt-3"},r.a.createElement(E.a,{className:"mb-3",variant:"primary",onClick:function(){return s(v)}},"Souscrire"))),null!==i&&r.a.createElement("div",{className:"text-center"},r.a.createElement(u.a,{className:"mb-0",variant:i?"success":"danger"},i?m?"Souscription r\xe9ussie !":"Souscription r\xe9ussie, vous pouvez maintenant vous connecter":"La souscription a \xe9chou\xe9")))}(t,(function(e){s(e.target.value)}),(function(e){p(e.target.value)}),(function(e){w(e.target.value)}),(function(e){x(e.target.value)}),(function(e){L(e.target.value)}),(function(e){Y(e.target.value)}),(function(t){e.infos.connected?function(e,t,a,n,r){var l=new FormData,o=t;for(var c in e)""!==e[c].trim()&&(console.log(e[c]),o[c]=e[c],l.append(c,e[c]));fetch("https://cowork-paris.000webhostapp.com/index.php/user/update/"+o.id,{body:l,method:"post"}).then((function(e){return e.json()})).then((function(t){if("User updated successfully."===t[0]){for(var l in console.log("ok"),e)v(l,e[l],1);console.log(o),a(o),r(null),n(!0)}else a(!1),r(null),n(!1)})).catch((function(e){a(!1),r(null),n(!1)}))}({id_abonnement:""+U},t,e.infos.handleUser,e.infos.setUpdatedUser,e.infos.handleSpace):D({firstname:o,lastname:d,date_naissance:j,email:C,pwd:T,id_abonnement:U},F,e.infos.handleClose)}),H,e.infos.connected,e.infos.user,e.infos.type,U),!B&&e.infos.text,!B&&r.a.createElement("div",{className:"text-center pt-3"},r.a.createElement(E.a,{variant:"success",onClick:function(){G(!0)}},e.infos.btnText))))}var R=a(247),I=a(96),U=a(125),Y=a(103),M=a.n(Y),q=a(23),H=a(19),K=a(130),F=(a(163),function(e){Object(Y.registerLocale)("fr",K.a);var t=Object(n.useState)(null),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)([]),i=Object(c.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(null),p=Object(c.a)(d,2),b=p[0],f=p[1],E=Object(n.useState)(null),v=Object(c.a)(E,2),g=v[0],O=v[1],j=function(t){var a=t.value,n=t.onClick;return r.a.createElement(h.a.Control,{type:"text",className:"example-custom-input",onClick:n,value:a,style:{borderColor:"1"===e.data.typeRes||"2"===e.data.typeRes?e.data.isLoading?null:e.data.disponible.status?"green":"red":null,borderWidth:("1"===e.data.typeRes||"2"===e.data.typeRes)&&!e.data.isLoading&&"2px"}})};return Object(n.useEffect)((function(){if(!l){var t;console.log(e.data.dateTimeStart),t="start"===e.data.type?Object(q.default)(Object(H.default)(new Date,0),_()(new Date(e.data.dateTimeStart)).format("H")):Object(q.default)(Object(H.default)(new Date,0),_()(new Date(e.data.dateTimeEnd)).format("H")),o(t);"1"===e.data.typeSelect||"2"===e.data.typeSelect?["lundi","mardi","mercredi","jeudi"].includes(_()(new Date).format("dddd"))?(f(Object(q.default)(Object(H.default)(new Date,0),e.data.horaireSpace.horaire_semaine_start.split(":")[0])),O(Object(q.default)(Object(H.default)(new Date,0),e.data.horaireSpace.horaire_semaine_end.split(":")[0]))):["samedi","dimanche"].includes(_()(new Date).format("dddd"))?(f(Object(q.default)(Object(H.default)(new Date,0),e.data.horaireSpace.horaire_weekend_start.split(":")[0])),O(Object(q.default)(Object(H.default)(new Date,0),e.data.horaireSpace.horaire_weekend_end.split(":")[0]))):(f(Object(q.default)(Object(H.default)(new Date,0),e.data.horaireSpace.horaire_vendredi_start.split(":")[0])),O(Object(q.default)(Object(H.default)(new Date,0),e.data.horaireSpace.horaire_vendredi_end.split(":")[0]))):(f(Object(q.default)(Object(H.default)(new Date,0),12)),O(Object(q.default)(Object(H.default)(new Date,0),14)))}var a;(l||e.data.reservation)&&_()(new Date(e.data.dateTimeStart)).format("YYYY-MM-DD")===_()(new Date(e.data.dateTimeEnd)).format("YYYY-MM-DD")&&(console.log(e.data.type),a="1"===e.data.typeSelect?"ReservationPrivateSpace/reservationByPrivateSpace/":"ReservationEquipment/reservationByEquipment/",C.a.get("https://cowork-paris.000webhostapp.com/index.php/"+a+e.data.formSelect+"/"+_()(new Date(l)).format("YYYY-MM-DD")).then((function(t){console.log(t.data);var a,n,r,l=[],o=Object(U.a)(t.data);try{for(o.s();!(r=o.n()).done;){var c=r.value;console.log(c.horaire_debut),"start"===e.data.type?(a=Number(_()(new Date(c.horaire_debut)).format("H")),n=Number(_()(new Date(c.horaire_fin)).format("H"))):(a=Number(_()(new Date(c.horaire_debut)).format("H"))+1,n=Number(_()(new Date(c.horaire_fin)).format("H"))+1);for(var s=a;s<n;s++)l.push(Object(q.default)(Object(H.default)(new Date,0),s))}}catch(i){o.e(i)}finally{o.f()}u(l)})).catch((function(e){return null})))}),[l,e.data.formSelect,e.data.reservation]),r.a.createElement(M.a,{locale:"fr",selected:l,onChange:function(t){return function(t){o(t),e.data.handleDateTimeStart?e.data.handleDateTimeStart(t):e.data.handleDateTimeEnd&&e.data.handleDateTimeEnd(t),e.data.setIsLoading(!0)}(t)},customInput:r.a.createElement(j,null),showTimeSelect:!0,timeIntervals:60,timeFormat:"HH:mm",minTime:b,maxTime:g,excludeTimes:m,timeCaption:"Heure",dateFormat:"d/MM/yyyy HH:mm"})});function z(e,t,a,n,r){var l,o,c;"1"!==e&&"2"!==e||t||a||("0"!==_()(new Date).format("m")?(l=_()(new Date).add(1,"hours").format("YYYY-MM-DD HH:00"),o=_()(new Date).add(2,"hours").format("YYYY-MM-DD HH:00")):(l=_()(new Date).format("YYYY-MM-DD HH:00"),o=_()(new Date).format("YYYY-MM-DD HH:00")),n(l),r(o));"3"!==e||t||(console.log(_()(new Date).isBefore((new Date).setHours(12))),c=_()(new Date).isBefore((new Date).setHours(12))?_()(new Date).format("YYYY-MM-DD 12:00"):_()(new Date).isSameOrAfter((new Date).setHours(12))&&_()(new Date).isSameOrBefore((new Date).setHours(14))?"0"!==_()(new Date).format("m")?_()(new Date).add(1,"hours").format("YYYY-MM-DD HH:00"):_()(new Date).format("YYYY-MM-DD HH:00"):_()((new Date).setHours(12)).add(1,"days").format("YYYY-MM-DD HH:00"),console.log(c),n(c))}function P(e){var t=Object(n.useState)("1"),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(!0),i=Object(c.a)(s,2),m=i[0],d=i[1],b=Object(n.useState)(!0),v=Object(c.a)(b,2),g=v[0],O=v[1],j=Object(n.useState)([]),w=Object(c.a)(j,2),y=w[0],S=w[1],D=Object(n.useState)([]),x=Object(c.a)(D,2),k=x[0],N=x[1],T=Object(n.useState)(null),L=Object(c.a)(T,2),R=L[0],U=L[1],Y=Object(n.useState)(null),M=Object(c.a)(Y,2),q=M[0],H=M[1],K=Object(n.useState)([]),P=Object(c.a)(K,2),G=P[0],A=P[1],W=Object(n.useState)(null),J=Object(c.a)(W,2),V=J[0],Q=J[1],$=Object(n.useState)(!0),X=Object(c.a)($,2),Z=X[0],ee=X[1],te=Object(n.useState)(null),ae=Object(c.a)(te,2),ne=ae[0],re=ae[1],le=Object(n.useState)(null),oe=Object(c.a)(le,2),ce=oe[0],se=oe[1],ie=Object(n.useState)(null),me=Object(c.a)(ie,2),ue=me[0],de=me[1],pe=Object(n.useState)(null),be=Object(c.a)(pe,2),fe=be[0],he=be[1],Ee=Object(n.useState)(!0),ve=Object(c.a)(Ee,2),ge=ve[0],Oe=ve[1],je=Object(n.useState)(null),we=Object(c.a)(je,2),ye=we[0],Se=we[1],Ce=Object(n.useState)(!0),De=Object(c.a)(Ce,2),xe=De[0],ke=De[1],_e=Object(n.useState)(null),Ne=Object(c.a)(_e,2),Te=Ne[0],Le=Ne[1],Re=Object(n.useState)(!0),Ie=Object(c.a)(Re,2),Ue=Ie[0],Ye=Ie[1],Me=function(e){console.log(e),re(_()(e).format("YYYY-MM-DD HH:mm"))},qe=function(e){"1"===l?Oe(!0):ke(!0),de(e)};return Object(n.useEffect)((function(){z(l,ne,ce,re,se),console.log("use_effect"),("1"===l||"2"===l&&ne&&ce||"3"===l&&ne)&&(("1"===l||"2"===l&&m)&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/PrivativeSpace/space/"+e.data.idSpace).then((function(e){console.log(e.data),d(!1),S(e.data),R||U(Object(I.a)(e.data).shift().id)})).catch((function(e){return d(!1)})),"2"===l&&g&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/Equipment/space/"+e.data.idSpace).then((function(e){console.log(e.data),O(!1),N(e.data),q||H(Object(I.a)(e.data).shift().id)})).catch((function(e){return O(!1)})),"3"===l&&Z&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/Meal/space/"+e.data.idSpace).then((function(e){console.log(e.data),ee(!1),A(e.data),Q(Object(I.a)(e.data).shift().id)})).catch((function(e){return ee(!1)})),"1"===l&&ge&&R&&(console.log("ok"),console.log(R),console.log(ge),C.a.get("https://cowork-paris.000webhostapp.com/index.php/ReservationPrivateSpace/disponible/"+R+"/"+ne.replace(" ","+")+"/"+ce.replace(" ","+")).then((function(e){console.log(e.data),he(e.data),Oe(!1)})).catch((function(e){return Oe(!1)}))),"2"===l&&xe&&q&&(console.log("ok"),console.log(q),console.log(xe),C.a.get("https://cowork-paris.000webhostapp.com/index.php/ReservationEquipment/disponible/"+q+"/"+ne.replace(" ","+")+"/"+ce.replace(" ","+")).then((function(e){console.log(e.data),Se(e.data),ke(!1)})).catch((function(e){return ke(!1)}))),Ue&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/Space/horaires/"+e.data.idSpace).then((function(e){console.log(e.data),Le(e.data),Ye(!1)})).catch((function(e){return Ye(!1)})))}),[e.data.idSpace,ge,R,l,q,xe,ne,ce]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{show:e.data.show,onHide:e.data.handleClose,size:"lg"},r.a.createElement(f.a.Header,{closeButton:!0},r.a.createElement(f.a.Title,null,"R\xe9servation "+e.data.nom)),r.a.createElement(f.a.Body,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(h.a.Label,null,"Type"),r.a.createElement(h.a.Control,{as:"select",defaultValue:l,onChange:function(e){"1"!==e.target.value&&"2"!==e.target.value||d(!0),"2"===e.target.value&&O(!0),"3"===e.target.value&&ee(!0),qe(null),o(e.target.value),"1"===e.target.value&&Oe(!0),z(l,ne,ce,re,se)}.bind(this)},r.a.createElement("option",{value:"1"},"Espace privatif"),r.a.createElement("option",{value:"2"},"Pr\xeats de mat\xe9riels"),r.a.createElement("option",{value:"3"},"Commandes de plateaux repas"))),"1"===l&&!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(h.a.Label,null,"Espace privatifs"),r.a.createElement(h.a.Control,{as:"select",onChange:function(e){Oe(!0),U(e.target.value)}.bind(this)},y.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nom)}))))),"2"===l&&!g&&r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlSelect2"},r.a.createElement(h.a.Label,null,"Equipements"),r.a.createElement(h.a.Control,{as:"select",onChange:function(e){ke(!0),H(e.target.value)}.bind(this)},k.map((function(e){return r.a.createElement("option",{value:e.id},e.nom)})))),("1"===l&&!m&&!Ue&&R||"2"===l&&!m&&!g&&q)&&ne&&ce&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Label,null,"Date et heure de d\xe9but"),r.a.createElement(h.a.Group,null,r.a.createElement(F,{data:{handleDateTimeStart:Me,type:"start",setIsLoading:"1"===l?Oe:ke,disponible:"1"===l?fe:ye,isLoading:"1"===l?ge:xe,typeRes:l,horaireSpace:Te,formSelect:"1"===l?R:q,dateTimeStart:ne,dateTimeEnd:ce,reservation:ue,typeSelect:l}}))),r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Label,null,"Date et heure de fin"),r.a.createElement(h.a.Group,null,r.a.createElement(F,{data:{handleDateTimeEnd:function(e){se(_()(e).format("YYYY-MM-DD HH:mm"))},type:"end",setIsLoading:"1"===l?Oe:ke,disponible:"1"===l?fe:ye,isLoading:"1"===l?ge:xe,typeRes:l,horaireSpace:Te,formSelect:"1"===l?R:q,dateTimeStart:ne,dateTimeEnd:ce,reservation:ue,typeSelect:l}})))),"3"===l&&!Z&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(h.a.Label,null,"Plateaux repas"),r.a.createElement(h.a.Control,{as:"select",onChange:function(e){Q(e.target.value)}.bind(this)},G.map((function(e){return r.a.createElement("option",{value:e.id},e.nom)})))),r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Label,null,"Date et heure"),r.a.createElement(h.a.Group,null,r.a.createElement(F,{data:{handleDateTimeStart:Me,type:"start",setIsLoading:Oe,typeRes:l,horaireSpace:Te,dateTimeStart:ne}})))),(m||"2"===l&&g||"3"===l&&Z)&&r.a.createElement("div",{className:"text-center"},r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true",style:{width:"5em",height:"5em"}}))),"1"===l&&!ge&&r.a.createElement("div",{className:"text-center pb-3"},r.a.createElement(u.a,{className:"mb-0",variant:fe.status?"info":"danger"},fe.msg)),"2"===l&&!xe&&r.a.createElement("div",{className:"text-center pb-3"},r.a.createElement(u.a,{className:"mb-0",variant:ye.status?"info":"danger"},ye.msg)),null!==ue&&r.a.createElement("div",{className:"text-center"},r.a.createElement(u.a,{className:"mb-0",variant:ue?"success":"danger"},ue?"R\xe9servation r\xe9ussie !":"La r\xe9servation a \xe9chou\xe9 !"))),r.a.createElement(f.a.Footer,{className:"justify-content-center"},("1"===l&&!ge||"2"===l&&!xe||"3"===l)&&r.a.createElement(E.a,{variant:"success",onClick:function(){return B({type:l,form:"1"===l?R:"2"===l?q:V,dateTimeStart:ne,dateTimeEnd:ce},qe,e.data.user)},disabled:"1"===l&&!fe.status||"2"===l&&!ye.status},"R\xe9server"),("1"===l&&ge||"2"===l&&xe)&&r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true"}))))}var B=function(e,t,a){var n=!1,r=!1;if(e){var l=new FormData;"1"===e.type&&(r="https://cowork-paris.000webhostapp.com/index.php/ReservationPrivateSpace",l.append("horaire_debut",e.dateTimeStart),l.append("horaire_fin",e.dateTimeEnd),l.append("id_espace_privatif",e.form),l.append("id_user",a.id)),"2"===e.type&&(r="https://cowork-paris.000webhostapp.com/index.php/ReservationEquipment",l.append("horaire_debut",e.dateTimeStart),l.append("horaire_fin",e.dateTimeEnd),l.append("id_equipment",e.form),l.append("id_user",a.id)),"3"===e.type&&(r="https://cowork-paris.000webhostapp.com/index.php/ReservationMeal",l.append("horaire",e.dateTimeStart),l.append("id_meal",e.form),l.append("id_user",a.id)),r&&fetch(r,{body:l,method:"post"}).then((function(e){return e.json()})).then((function(e){"Reservation created successfully."===e[0]&&(n=!0),t(n)})).catch((function(e){t(n)}))}};function G(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1],s="";return 0===e.infos.type?s=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"font-weight-bold pb-1 pt-2"},"Tarifs par personne :"),"Premi\xe8re heure : 5\u20ac",r.a.createElement("br",null),"\xbd heure suivante : 2,5\u20ac",r.a.createElement("br",null),"Journ\xe9e (5 heures et plus) : 24\u20ac",r.a.createElement("br",null),r.a.createElement("div",{className:"font-weight-bold pb-1 pt-2"},"R\xe9duction \xe9tudiante :"),"Journ\xe9e (5 heures et plus) :",r.a.createElement("br",null),"20\u20ac"):1===e.infos.type?s=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"font-weight-bold pb-1 pt-2"},"Tarifs membre par personne :"),"Premi\xe8re heure : 4\u20ac",r.a.createElement("br",null),"\xbd heure suivante : 2\u20ac",r.a.createElement("br",null),"Journ\xe9e (5 heures et plus) : 20\u20ac",r.a.createElement("br",null),r.a.createElement("div",{className:"font-weight-bold pb-1 pt-2"},"Devenir membre sans engagement :"),"24\u20ac TTC /Mois",r.a.createElement("br",null),r.a.createElement("div",{className:"font-weight-bold pb-1 pt-2"},"Devenir membre 12 mois:"),"20\u20ac TTC /Mois",r.a.createElement("br",null)):2===e.infos.type&&(s=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"font-weight-bold pb-5 pt-2"},"B\xe9n\xe9ficiez d'un acc\xe8s en illimit\xe9 7/7j"),r.a.createElement("div",{className:"font-weight-bold pb-1"},"Devenir membre r\xe9sident sans engagement :"),"300 TTC /Mois",r.a.createElement("br",null),r.a.createElement("div",{className:"font-weight-bold pb-1 pt-2"},"Devenir membre 8 mois:"),"252\u20ac TTC /Mois",r.a.createElement("br",null))),r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Title,null,e.infos.title),r.a.createElement(R.a.Subtitle,{className:"mb-2 text-muted"},e.infos.subtitle),r.a.createElement(R.a.Text,null,s)),r.a.createElement(R.a.Footer,null,r.a.createElement(E.a,{variant:"primary",onClick:function(){return o(!0)}},"En savoir plus"))),l&&r.a.createElement(L,{infos:{title:e.infos.title,show:l,handleClose:function(){return o(!1)},text:e.infos.text,btnText:"S'inscrire",type:e.infos.type,connected:e.infos.connected,subtitle:e.infos.subtitle,user:e.infos.user,handleUser:e.infos.handleUser,setUpdatedUser:e.infos.setUpdatedUser,handleSpace:e.infos.handleSpace}}))}function A(e){var t="";switch(e.data.id){case"1":t="bastille.jpg";break;case"2":t="republique.jpg";break;case"3":t="odeon.jpg";break;case"4":t="place_italie.jpg";break;case"5":t="ternes.jpg";break;case"6":t="beaubourg.jpg"}return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{className:"h-100",style:{width:"18rem"},id:e.data.id},r.a.createElement(R.a.Img,{variant:"top",src:"/cowork/"+t}),r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Title,null,e.data.title),r.a.createElement(R.a.Subtitle,{className:"mb-2 text-muted"}),r.a.createElement(R.a.Text,null)),r.a.createElement(R.a.Footer,null,r.a.createElement(E.a,{key:e.data.id,variant:"primary",onClick:function(){return e.data.handleReservation(!0,e.data.title,e.data.id)}},"R\xe9server"))))}var W=a(245),J=a(133),V=a(236),Q=a(131),$=function(e){O("id","/"),O("firstname","/"),O("lastname","/"),O("date_naissance","/"),O("email","/"),O("pwd","/"),O("id_abonnement","/"),e.data.handleUser(null),e.data.handleHome(!0)};function X(e){return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{bg:"primary",variant:"dark",expand:"lg",className:"py-md-3"},r.a.createElement(W.a.Brand,{onClick:function(){e.data.handleHome(Math.floor(100*Math.random())+1)},href:"#"},"Co'Work"),r.a.createElement(W.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(W.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(J.a,{className:"mr-auto"}),r.a.createElement(J.a,null,!e.data.user&&r.a.createElement(E.a,{variant:"outline-light",className:"mr-sm-2",onClick:e.data.handleShowC},"Connection"),!e.data.user&&r.a.createElement(E.a,{variant:"outline-light",className:"mr-sm-2",onClick:e.data.handleShowI},"Inscription"),e.data.user&&r.a.createElement(V.a,{id:"dropdown-item-button",title:(t=e.data.user.firstname.toLowerCase(),t.charAt(0).toUpperCase()+t.substring(1)),className:"person-circle",alignRight:!0},r.a.createElement(Q.a.Item,{as:"button",onClick:function(){return e.data.handleProfile(!0)}},"Profil"),"null"!==e.data.user.id_abonnement&&"1"!==e.data.user.id_abonnement&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a.Item,{as:"button",onClick:function(){return e.data.handleCustomerReservations(!0)}},"R\xe9servations"),r.a.createElement(Q.a.Item,{as:"button",onClick:function(){return e.data.handleEvenements()}},"Evenement")),r.a.createElement(Q.a.Item,{as:"button",onClick:function(){return $(e)}},"D\xe9conection"))))));var t}var Z={backgroundColor:"#F8F8F8",borderTop:"1px solid #E7E7E7",textAlign:"center",padding:"20px",position:"fixed",left:"0",bottom:"0",height:"60px",width:"100%"},ee={display:"block",padding:"20px",height:"60px",width:"100%",paddingTop:"50vh"};function te(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement("div",{style:ee}),r.a.createElement("div",{style:Z},t))}var ae=a(237),ne=a(248),re=a(238),le=a(246);a(221);function oe(e){console.log(e.user.user);var t=Object(n.useState)(g("firstname")),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(g("lastname")),i=Object(c.a)(s,2),m=i[0],d=i[1],p=Object(n.useState)(g("date_naissance")),f=Object(c.a)(p,2),O=f[0],j=f[1],w=Object(n.useState)(g("email")),y=Object(c.a)(w,2),S=y[0],C=y[1],D=Object(n.useState)(g("pwd")),x=Object(c.a)(D,2),k=x[0],_=x[1],N=Object(n.useState)(null),T=Object(c.a)(N,2),L=T[0],R=T[1],I=function(e){R(e)},U=function(e){j(e.target.value)},Y=Object(b.a)({},e.user.user);return r.a.createElement(h.a,null,r.a.createElement(h.a.Group,{controlId:"nom"},r.a.createElement(h.a.Label,{className:"float-left"},"Nom:"),r.a.createElement(h.a.Control,{type:"text",defaultValue:g("lastname"),onKeyUp:function(e){d(e.target.value)}.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"prenom"},r.a.createElement(h.a.Label,{className:"float-left"},"Prenom"),r.a.createElement(h.a.Control,{type:"text",defaultValue:g("firstname"),onKeyUp:function(e){o(e.target.value)}.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"prenom"},r.a.createElement(h.a.Label,{className:"float-left"},"Date de naissance"),r.a.createElement(h.a.Control,{type:"date",defaultValue:g("date_naissance"),onKeyUp:U.bind(this),onChange:U.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(h.a.Label,{className:"float-left"},"Email"),r.a.createElement(h.a.Control,{type:"email",defaultValue:g("email"),onKeyUp:function(e){C(e.target.value)}.bind(this),required:!0})),r.a.createElement(h.a.Group,{controlId:"pwd"},r.a.createElement(h.a.Label,{className:"float-left"},"Mot de passe"),r.a.createElement(h.a.Control,{type:"password",defaultValue:g("firstname"),onKeyUp:function(e){_(e.target.value)}.bind(this),required:!0})),r.a.createElement("div",{className:"text-center pt-3"},r.a.createElement(E.a,{disabled:JSON.stringify({firstname:l,lastname:m,date_naissance:O,email:S,pwd:k})===JSON.stringify(Y),className:"mb-3",variant:"primary",onClick:function(){return function(e,t,a,n){var r=new FormData,l={};for(var o in e)""!==e[o].trim()&&(console.log(e[o]),l[o]=e[o],r.append(o,e[o]));fetch("https://cowork-paris.000webhostapp.com/index.php/user/update/"+t.id,{body:r,method:"post"}).then((function(e){return e.json()})).then((function(e){if("User updated successfully."===e[0]){for(var r in console.log(t),l)v(r,l[r],1);a(Object(b.a)(Object(b.a)({},l),{},{id:t.id,id_abonnement:t.id_abonnement})),n(!0)}else n(!1),a(!1)})).catch((function(e){n(!1),a(!1)}))}({firstname:l,lastname:m,date_naissance:O,email:S,pwd:k},e.user.user,e.user.handleUser,I)}},"Modifier")),null!==L&&r.a.createElement("div",{className:"text-center"},r.a.createElement(u.a,{className:"mb-0",variant:L?"success":"danger"},L?"Modification effectu\xe9e(s)":"La modification a \xe9chou\xe9")))}function ce(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1];return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,null,r.a.createElement("h3",null,e.data.abonnement.nom),r.a.createElement("p",null,e.data.abonnement.text),r.a.createElement("p",null,e.data.abonnement.textPrelevement),r.a.createElement("p",null,"1"!==e.data.abonnement.id_abonnement&&r.a.createElement(E.a,{variant:"danger",size:"lg",onClick:function(){return function(e,t,a,n,r,l){a(!0),C.a.get("https://cowork-paris.000webhostapp.com/index.php/ResAbonnement/delete/"+e).then((function(e){if("Res deleted successfully."===e.data[0]){v("id_abonnement","null",1);var o=Object(b.a)({},l.user);o.id_abonnement="null",l.handleUser(o),t(!0)}else t(!1);a(!1),n(Object(b.a)(Object(b.a)({},r),{},{abonnement:!0}))})).catch((function(e){return console.log(e)}))}(e.data.abonnement.id,e.data.setIsDelete,o,e.data.setIsLoading,e.data.isLoading,e.data.user)}},l&&r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"pr-2"}),!l&&"R\xe9silier"))))}function se(e){var t=Object(n.useState)("profile"),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(null),d=Object(c.a)(s,2),f=d[0],h=d[1],E=Object(n.useState)({profile:!0,abonnement:!0}),v=Object(c.a)(E,2),g=v[0],O=v[1],j=Object(n.useState)(null),w=Object(c.a)(j,2),y=w[0],S=w[1];return Object(n.useEffect)((function(){"abonnement"===l&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/user/abonnement/"+e.user.user.id).then((function(e){1==e.data.length?C.a.get("https://cowork-paris.000webhostapp.com/index.php/abonnement/"+e.data.map((function(e){return e.id_abonnement}))).then((function(t){var a="",n="";("2"===e.data[0].id_abonnement?a="Engagement jusqu'au "+_()(new Date(e.data[0].created_at)).add(1,"years").locale("fr").format("LLLL"):"4"===e.data[0].id_abonnement&&(a="Engagement jusqu'au "+_()(new Date(e.data[0].created_at)).add(8,"months").locale("fr").format("LLLL")),"1"!==e.data[0].id_abonnement)&&(n="Prochain pr\xe9levement le "+((new Date).setDate(new Date(e.data[0].created_at).getDate())<=new Date?_()((new Date).setDate(new Date(e.data[0].created_at).getDate())).add(1,"months").format("dddd Do MMMM YYYY"):_()((new Date).setDate(new Date(e.data[0].created_at).getDate())).format("dddd Do MMMM YYYY")));console.log(a),h(Object(b.a)(Object(b.a)({},e.data[0]),{},{nom:t.data.nom,text:a,textPrelevement:n})),O(Object(b.a)(Object(b.a)({},g),{},{abonnement:!1}))})).catch((function(e){return console.log(e)})):(h({id_abonnement:"1",nom:"Sans abonnement",text:"",textPrelevement:""}),O(Object(b.a)(Object(b.a)({},g),{},{abonnement:!1})))})).catch((function(e){return console.log(e)}))}),[l,y]),r.a.createElement(ne.a,{defaultActiveKey:"profile",id:"uncontrolled-tab-example",onSelect:function(e){return function(e){switch(e){case"profile":O(Object(b.a)(Object(b.a)({},g),{},{abonnement:!0}));break;case"abonnement":O(Object(b.a)(Object(b.a)({},g),{},{profile:!0}))}o(e)}(e)}},r.a.createElement(re.a,{eventKey:"profile",title:"Profil",name:"profile"},r.a.createElement(i.a,null,r.a.createElement(m.a,{lg:"6",className:"pt-3"},r.a.createElement(oe,{user:e.user})))),r.a.createElement(re.a,{eventKey:"abonnement",title:"Mon abonnement",name:"abonnement"},r.a.createElement(i.a,null,r.a.createElement(m.a,{lg:"6",className:"pt-3"},null!==y&&r.a.createElement(u.a,{className:"mb-2",variant:y?"success":"danger"},y?"L'abonnement a bien \xe9t\xe9 r\xe9silli\xe9":"L'abonnement n'a pas pu \xeatre r\xe9sili\xe9"),!g.abonnement&&r.a.createElement(ce,{data:{user:e.user,abonnement:f,setIsDelete:S,setIsLoading:O,isLoading:g}}),g.abonnement&&r.a.createElement("div",{className:"text-center"},r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true",style:{width:"5em",height:"5em"}}))))))}function ie(e){return console.log(e),r.a.createElement(le.a,{defaultActiveKey:"0"},e.data.data.map((function(t){return r.a.createElement(R.a,null,r.a.createElement(R.a.Header,null,r.a.createElement(E.a,{variant:"danger",className:"float-right",onClick:function(){return function(e,t,a,n,r){var l="";"privative"===a?l="ReservationPrivateSpace/delete/":"equipment"===a?l="ReservationEquipment/delete/":"meal"===a?l="ReservationMeal/delete/":"events"===a&&(l="ReservationEvents/delete/");C.a.get("https://cowork-paris.000webhostapp.com/index.php/"+l+e).then((function(e){var l={};l[a]=!0,console.log(l),t(l);var o=Object(b.a)({},r);o[a]=!0,n(o)})).catch((function(e){return t({})}))}(t.id,e.data.setIsDeleted,e.data.type,e.data.setIsLoading,e.data.isLoading)}},"Annuler"),r.a.createElement(le.a.Toggle,{as:E.a,variant:"link",eventKey:t.id},t.horaire_debut||t.horaire||t.id)),r.a.createElement(le.a.Collapse,{eventKey:t.id},r.a.createElement(R.a.Body,null,Object.keys(t).map((function(e){return r.a.createElement("p",null,e+": "+t[e])})))))})))}function me(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)([]),d=Object(c.a)(s,2),f=d[0],h=d[1],E=Object(n.useState)([]),v=Object(c.a)(E,2),g=v[0],O=v[1],j=Object(n.useState)([]),w=Object(c.a)(j,2),y=w[0],S=w[1],D=Object(n.useState)("privative"),x=Object(c.a)(D,2),k=x[0],_=x[1],N=Object(n.useState)({privative:!0,equipment:!0,meal:!0,events:!0}),T=Object(c.a)(N,2),L=T[0],R=T[1],I=Object(n.useState)({}),U=Object(c.a)(I,2),Y=U[0],M=U[1];return Object(n.useEffect)((function(){"privative"===k&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/user/privative/"+e.data.user.id).then((function(e){console.log(e.data),R(Object(b.a)(Object(b.a)({},L),{},{privative:!1})),o(e.data)})).catch((function(e){return R(Object(b.a)(Object(b.a)({},L),{},{privative:!1}))})),"equipment"===k&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/user/equipment/"+e.data.user.id).then((function(e){R(Object(b.a)(Object(b.a)({},L),{},{equipment:!1})),h(e.data)})).catch((function(e){return R(Object(b.a)(Object(b.a)({},L),{},{equipment:!1}))})),"meal"===k&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/user/meal/"+e.data.user.id).then((function(e){R(Object(b.a)(Object(b.a)({},L),{},{meal:!1})),O(e.data)})).catch((function(e){return R(Object(b.a)(Object(b.a)({},L),{},{meal:!1}))})),"events"===k&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/user/events/"+e.data.user.id).then((function(e){R(Object(b.a)(Object(b.a)({},L),{},{events:!1})),S(e.data)})).catch((function(e){return R(Object(b.a)(Object(b.a)({},L),{},{events:!1}))}))}),[k,Y]),r.a.createElement(ne.a,{defaultActiveKey:"privative",id:"uncontrolled-tab-example",onSelect:function(e){return function(e){switch(e){case"privative":R(Object(b.a)(Object(b.a)({},L),{},{equipment:!0,meal:!0,events:!0}));break;case"equipment":R(Object(b.a)(Object(b.a)({},L),{},{privative:!0,meal:!0,events:!0}));break;case"meal":R(Object(b.a)(Object(b.a)({},L),{},{privative:!0,equipment:!0,events:!0}));break;case"events":R(Object(b.a)(Object(b.a)({},L),{},{privative:!0,equipment:!0,meal:!0}))}_(e)}(e)}},r.a.createElement(re.a,{eventKey:"privative",title:"Espaces privatifs",name:"privative"},r.a.createElement(i.a,null,r.a.createElement(m.a,{lg:"6",className:"pt-3"},"privative"===k&&Object.keys(Y).length>0&&void 0!==Y.privative&&r.a.createElement(u.a,{variant:Y.privative?"success":"danger"},Y.privative?"R\xe9servation annul\xe9e":"Echec de l'annulation"),L.privative&&r.a.createElement("div",{className:"text-center"},r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true",style:{width:"5em",height:"5em"}})),!L.privative&&"privative"===k&&r.a.createElement(ie,{data:{data:l,setIsDeleted:M,type:"privative",setIsLoading:R,isLoading:L}})))),r.a.createElement(re.a,{eventKey:"equipment",title:"Mat\xe9riel",name:"equipment"},r.a.createElement(i.a,null,r.a.createElement(m.a,{lg:"6",className:"pt-3"},"equipment"===k&&Object.keys(Y).length>0&&void 0!==Y.equipment&&r.a.createElement(u.a,{variant:Y.equipment?"success":"danger"},Y.equipment?"R\xe9servation annul\xe9e":"Echec de l'annulation"),L.equipment&&r.a.createElement("div",{className:"text-center"},r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true",stye:{width:"5em",height:"5em"}})),!L.equipment&&"equipment"===k&&r.a.createElement(ie,{data:{data:f,setIsDeleted:M,type:"equipment",setIsLoading:R,isLoading:L}})))),r.a.createElement(re.a,{eventKey:"meal",title:"Plateaux repas",name:"meal"},r.a.createElement(i.a,null,r.a.createElement(m.a,{lg:"6",className:"pt-3"},"meal"===k&&Object.keys(Y).length>0&&void 0!==Y.meal&&r.a.createElement(u.a,{variant:Y.meal?"success":"danger"},Y.meal?"R\xe9servation annul\xe9e":"Echec de l'annulation"),L.meal&&r.a.createElement("div",{className:"text-center"},r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true",style:{width:"5em",height:"5em"}})),!L.meal&&"meal"===k&&r.a.createElement(ie,{data:{data:g,setIsDeleted:M,type:"meal",setIsLoading:R,isLoading:L}})))),r.a.createElement(re.a,{eventKey:"events",title:"Evenements",name:"events"},r.a.createElement(i.a,null,r.a.createElement(m.a,{lg:"6",className:"pt-3"},"events"===k&&Object.keys(Y).length>0&&void 0!==Y.events&&r.a.createElement(u.a,{variant:Y.events?"success":"danger"},Y.events?"R\xe9servation annul\xe9e":"Echec de l'annulation"),L.events&&r.a.createElement("div",{className:"text-center"},r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true",style:{width:"5em",height:"5em"}})),!L.events&&"events"===k&&r.a.createElement(ie,{data:{data:y,setIsDeleted:M,type:"events",setIsLoading:R,isLoading:L}})))))}var ue=a(241);function de(e){var t=Object(n.useState)(null),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),f=u[0],E=u[1],v=function(e){o(e)};return Object(n.useEffect)((function(){e.data.evenement&&e.data.user&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/events/"+f).then((function(e){return v(e.data)})).catch((function(e){return console.log(e)}))}),[f]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Group,{controlId:"selectSpace"},r.a.createElement(h.a.Label,{className:"float-left"},"Espace"),r.a.createElement(h.a.Control,{as:"select",defaultValue:"0",onChange:function(e){v(null),E(e.nativeEvent.target.value)}},r.a.createElement("option",{value:""},"Tous"),r.a.createElement("option",{value:"1"},"CO'WORK BASTILLE"),r.a.createElement("option",{value:"2"},"CO'WORK REPUBLIQUE"),r.a.createElement("option",{value:"3"},"CO'WORK Od\xe9on"),r.a.createElement("option",{value:"4"},"CO'WORK PLACE D'ITALIE"),r.a.createElement("option",{value:"5"},"CO'WORK TERNES"),r.a.createElement("option",{value:"6"},"CO'WORK CO'WORK BEAUBOURG")))),e.data.evenement&&e.data.user&&!l&&r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true",style:{width:"5em",height:"5em"}}),e.data.evenement&&e.data.user&&l&&r.a.createElement(i.a,null,r.a.createElement(m.a,{lg:"auto"},r.a.createElement(d.a,null,l.map((function(t){return r.a.createElement(pe,{infos:Object(b.a)(Object(b.a)({},t),{},{user_id:e.data.user.id})})}))))))}function pe(e){var t=Object(n.useState)(e.infos.nb_places),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(null),i=Object(c.a)(s,2),m=i[0],d=i[1],b=Object(n.useState)(null),f=Object(c.a)(b,2),h=f[0],v=f[1],g=Object(n.useState)(!0),O=Object(c.a)(g,2),j=O[0],w=O[1],y=Object(n.useState)(!0),S=Object(c.a)(y,2),D=S[0],x=S[1],k=function(e){d(e)};Object(n.useEffect)((function(){C.a.get("https://cowork-paris.000webhostapp.com/index.php/ReservationEvents/total/"+e.infos.id).then((function(t){return a=t.data,o(e.infos.nb_places-a),void w(!1);var a})).catch((function(e){return console.log(e)})),C.a.get("https://cowork-paris.000webhostapp.com/index.php/ReservationEvents/isResByUser/"+e.infos.user_id).then((function(e){return t=e.data,v(t),void x(!1);var t})).catch((function(e){return console.log(e)}))}),[m]);var _="",N="";switch(e.infos.id_space){case"1":_="bastille.jpg",N="CO'WORK BASTILLE";break;case"2":_="republique.jpg",N="CO'WORK REPUBLIQUE";break;case"3":_="odeon.jpg",N="CO'WORK ODEON";break;case"4":_="place_italie.jpg",N="CO'WORK PLACE D'ITALIE";break;case"5":_="ternes.jpg",N="CO'WORK TERNES";break;case"6":_="beaubourg.jpg",N="CO'WORK BEAUBOURG"}return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(R.a.Img,{variant:"top",src:"/cowork/"+_}),r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Title,null,e.infos.nom),r.a.createElement(R.a.Subtitle,{className:"mb-2 text-muted"},N),r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Places restantes: ",j&&r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true"}),!j&&r.a.createElement(ue.a,{variant:l>0?l>e.infos.nb_places/2?"success":"warning":"danger"},l)),r.a.createElement("h5",null,e.infos.description)),null!==m&&r.a.createElement("div",{className:"text-center"},r.a.createElement(u.a,{className:"mb-0",variant:m?"success":"danger"},m?"Inscription r\xe9ussie !":"L'inscription a \xe9chou\xe9 !"))),r.a.createElement(R.a.Footer,null,!D&&r.a.createElement(E.a,{variant:"primary",onClick:function(){return function(e,t,a){var n=!1,r=new FormData;r.append("id_user",e),r.append("id_events",t),fetch("https://cowork-paris.000webhostapp.com/index.php/ReservationEvents/",{body:r,method:"post"}).then((function(e){return e.json()})).then((function(e){"Reservation created successfully."===e[0]&&(n=Date.now),a(n)})).catch((function(e){a(n)}))}(e.infos.user_id,e.infos.id,k)},disabled:l<=0||h>0},l<=0||h>0?"Vous \xeates d\xe9ja inscris":"S'inscrire"),D&&r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true"}))))}var be=function(){var e=null;x({firstname:g("firstname"),lastname:g("lastname"),date_naissance:g("date_naissance"),email:g("email"),pwd:g("pwd"),id_abonnement:g("id_abonnement")})&&(e={id:g("id"),firstname:g("firstname"),lastname:g("lastname"),date_naissance:g("date_naissance"),email:g("email"),pwd:g("pwd"),id_abonnement:g("id_abonnement")});var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1],b=Object(n.useState)(!1),f=Object(c.a)(b,2),h=f[0],E=f[1],v=Object(n.useState)(!1),O=Object(c.a)(v,2),S=O[0],D=O[1],k=Object(n.useState)(e),_=Object(c.a)(k,2),L=_[0],R=_[1],I=Object(n.useState)(!0),U=Object(c.a)(I,2),Y=U[0],M=U[1],q=Object(n.useState)(null),H=Object(c.a)(q,2),K=H[0],F=H[1],z=Object(n.useState)(!1),B=Object(c.a)(z,2),W=B[0],J=B[1],V=Object(n.useState)(""),Q=Object(c.a)(V,2),$=Q[0],Z=Q[1],ee=Object(n.useState)(""),ae=Object(c.a)(ee,2),ne=ae[0],re=ae[1],le=Object(n.useState)(null),oe=Object(c.a)(le,2),ce=oe[0],ie=oe[1],ue=Object(n.useState)(!1),pe=Object(c.a)(ue,2),be=pe[0],fe=pe[1],he=Object(n.useState)(!1),Ee=Object(c.a)(he,2),ve=Ee[0],ge=Ee[1],Oe=function(e,t,a){Z(t),re(a),J(e)},je=function(e){F(e)},we=function(e){null===e&&F(null),e!=={}&&(console.log(L),console.log(e),R(e))};return Object(n.useEffect)((function(){document.title="Co'work",console.log(Y),console.log(L),Y&&L&&C.a.get("https://cowork-paris.000webhostapp.com/index.php/space").then((function(e){return je(e.data)})).catch((function(e){return console.log(e)}))}),[L,Y]),r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{fluid:!0,className:"pl-0 pr-0"},W&&r.a.createElement(P,{data:{show:W,handleClose:function(){return J(!1)},nom:$,idSpace:ne,test:!0,user:L}}),l&&r.a.createElement(T,{data:{show:l,handleClose:function(){return o(!1)},handleUser:we}}),h&&r.a.createElement(N,{data:{show:h,handleClose:function(){return E(!1)},handleUser:we,user:L}}),r.a.createElement(X,{data:{handleShowI:function(){o(!0)},handleShowC:function(){return E(!0)},handleUser:we,handleProfile:function(e){D(e),M(!e),fe(!e),ge(!e)},handleHome:function(e){F(null),M(e),fe(!e),ge(!e),D(!e),ie(null)},handleCustomerReservations:function(e){fe(e),D(!e),M(!e),ge(!e)},handleEvenements:function(){ge(!0),S&&D(!1),Y&&M(!1),be&&fe(!1)},user:L}}),r.a.createElement("main",{className:"p-3"},r.a.createElement(i.a,{className:"justify-content-lg-center"},r.a.createElement(m.a,{lg:"12"},Y&&L&&null!==ce&&r.a.createElement("div",{className:"text-center pb-3"},r.a.createElement(u.a,{className:"mb-0",variant:ce?"info":"danger",dismissible:!0},ce?"Souscription r\xe9ussie !":"La souscription a \xe9chou\xe9e"))),Y&&!L&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{lg:"auto"},r.a.createElement(u.a,{className:"mt-2 mb-5",variant:"primary"},r.a.createElement(u.a.Heading,null,"Bienvenue sur CO'Work !"),r.a.createElement("p",null,"Co'Work propose six espaces de travail collaboratif \xe0 Paris (Bastille, R\xe9publique, Od\xe9on, Place d'Italie, Ternes et Beaubourg). Pour quelques euros de l\u2019heure, venez rencontrez d'autres utilisateurs, vous d\xe9tendre, organiser un rendez-vous, travailler, acc\xe9der \xe0 Internet ou profiter de boissons chaudes et froides \xe0 volont\xe9. Des animations et des \xe9v\xe9nements li\xe9s aux cultures innovantes rythment aussi la vie des diff\xe9rents espaces."),r.a.createElement("hr",null),r.a.createElement("p",{className:"mb-0"},"Accessible sans r\xe9servation ou abonnement en payant sur place. Nous vous proposons les abonnements pour profiter au mieux des services, cliquez ci-dessous pour connaires les d\xe9tails (services, tarifs...)")),r.a.createElement(d.a,null,r.a.createElement(G,{infos:{text:j,title:"Sans abonnement",subtitle:"Payez le temps pass\xe9 sur place, les consommations sont incluses et \xe0 volont\xe9 !",type:0,connected:!1,user:null,handleUser:null,setUpdatedUser:null,handleSpace:null}}),r.a.createElement(G,{infos:{text:w,title:"Abonnement simple",subtitle:"Rejoignez la communaut\xe9 CO'WORK et b\xe9n\xe9ficiez de tarifs pr\xe9f\xe9rentiels !",type:1,connected:!1,user:null,handleUser:null,setUpdatedUser:null,handleSpace:null}}),r.a.createElement(G,{infos:{text:y,title:"Abonnement r\xe9sident",subtitle:"Rejoignez la communaut\xe9 CO'WORK et devenez membre r\xe9sident !",type:2,connected:!1,user:null,handleUser:null,setUpdatedUser:null,handleSpace:null}})))),Y&&L&&("1"===L.id_abonnement||"null"===L.id_abonnement)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{lg:"auto"},r.a.createElement(u.a,{variant:"warning"},"Vous n'avez aucun abonnement en cours, abonnez vous pour profiter au mieux des services CO'Work"),r.a.createElement(d.a,null,r.a.createElement(G,{infos:{text:w,title:"Abonnement simple",subtitle:"Rejoignez la communaut\xe9 CO'WORK et b\xe9n\xe9ficiez de tarifs pr\xe9f\xe9rentiels !",type:1,connected:!0,user:L,handleUser:we,setUpdatedUser:ie,handleSpace:je}}),r.a.createElement(G,{infos:{text:y,title:"Abonnement r\xe9sident",subtitle:"Rejoignez la communaut\xe9 CO'WORK et devenez membre r\xe9sident !",type:2,connected:!0,user:L,handleUser:we,setUpdatedUser:ie,handleSpace:je}})))),r.a.createElement(m.a,{lg:"8"},Y&&L&&"null"!==L.id_abonnement&&"1"!==L.id_abonnement&&!K&&r.a.createElement(p.a,{as:"span",animation:"border",size:"sm",variant:"primary",role:"status","aria-hidden":"true",style:{width:"5em",height:"5em"}}),r.a.createElement(i.a,null,r.a.createElement(d.a,null,r.a.createElement(i.a,null,Y&&L&&"null"!==L.id_abonnement&&"1"!==L.id_abonnement&&K&&K.map((function(e){return r.a.createElement(m.a,{lg:"4 pb-3"},r.a.createElement(A,{key:e.id,data:{title:e.nom,id:e.id,handleReservation:Oe}}))}))))))),S&&L&&r.a.createElement(i.a,null,r.a.createElement(m.a,{lg:"12"},r.a.createElement(se,{user:{handleUser:we,user:L}}))),be&&L&&r.a.createElement(i.a,null,r.a.createElement(m.a,{lg:"12"},r.a.createElement(me,{data:{user:L}}))),ve&&L&&r.a.createElement(i.a,null,r.a.createElement(m.a,{lg:"auto"},r.a.createElement(de,{data:{evenement:ve,user:L}})))),r.a.createElement(te,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(222),a(223);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.b103f147.chunk.js.map